{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"lodash\"","webpack:///external \"jquery\"","webpack:///external \"app/core/utils/kbn\"","webpack:///external \"app/core/core\"","webpack:///external \"moment\"","webpack:///external \"angular\"","webpack:///../node_modules/tinycolor2/tinycolor.js","webpack:///external \"app/core/config\"","webpack:///external \"app/plugins/sdk\"","webpack:///external \"vendor/flot/jquery.flot.js\"","webpack:///./panels/graph/graph_tooltip.js","webpack:///../node_modules/perfect-scrollbar/dist/perfect-scrollbar.esm.js","webpack:///external \"app/core/core_module\"","webpack:///external \"vendor/flot/jquery.flot.time.js\"","webpack:///external \"vendor/flot/jquery.flot.selection.js\"","webpack:///external \"vendor/flot/jquery.flot.stack.js\"","webpack:///external \"vendor/flot/jquery.flot.stackpercent.js\"","webpack:///external \"vendor/flot/jquery.flot.fillbelow.js\"","webpack:///external \"vendor/flot/jquery.flot.crosshair.js\"","webpack:///external \"vendor/flot/jquery.flot.dashes.js\"","webpack:///external \"vendor/flot/jquery.flot.gauge.js\"","webpack:///external \"vendor/flot/jquery.flot.pie.js\"","webpack:///./panels/graph/vendor/flot/jquery.flot.events.js","webpack:///../node_modules/tether-drop/dist/js/drop.js","webpack:///../node_modules/tether/dist/js/tether.js","webpack:///./panels/graph/vendor/grafana/event.ts","webpack:///./panels/graph/vendor/grafana/colors.ts","webpack:///./panels/graph/vendor/grafana/event_manager.ts","webpack:///./panels/graph/vendor/grafana/ticks.ts","webpack:///./panels/graph/vendor/grafana/time_series2.ts","webpack:///./panels/graph/threshold_manager.ts","webpack:///./panels/graph/histogram.ts","webpack:///./panels/graph/graph.ts","webpack:///./panels/graph/legend.ts","webpack:///./panels/graph/series_overrides_ctrl.ts","webpack:///./panels/graph/thresholds_form.ts","webpack:///./panels/graph/data_processor.ts","webpack:///./panels/graph/axes_editor.ts","webpack:///./panels/graph/module.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__3__","__WEBPACK_EXTERNAL_MODULE__4__","__WEBPACK_EXTERNAL_MODULE__5__","Math","trimLeft","trimRight","tinyCounter","mathRound","round","mathMin","min","mathMax","max","mathRandom","random","tinycolor","color","opts","this","rgb","g","b","a","v","ok","format","replace","toLowerCase","match","named","names","matchers","exec","rgba","hsl","h","hsla","hsv","hsva","hex8","parseIntFromHex","convertHexToDecimal","hex6","hex4","hex3","stringInputToObject","_typeof","isValidCSSUnit","bound01","String","substr","convertToPercentage","floor","f","q","mod","hsvToRgb","hue2rgb","hslToRgb","boundAlpha","inputToRGB","_originalInput","_r","_g","_b","_a","_roundA","_format","_gradientType","gradientType","_ok","_tc_id","rgbToHsl","rgbToHsv","rgbToHex","allow3Char","hex","pad2","toString","charAt","join","rgbaToArgbHex","convertDecimalToHex","desaturate","amount","toHsl","clamp01","saturate","greyscale","lighten","brighten","toRgb","darken","spin","hue","complement","triad","tetrad","splitcomplement","analogous","results","slices","part","ret","push","monochromatic","toHsv","modification","isDark","getBrightness","isLight","isValid","getOriginalInput","getFormat","getAlpha","getLuminance","RsRGB","GsRGB","BsRGB","pow","setAlpha","toHsvString","toHslString","toHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","secondHex8String","formatSet","formattedString","hasAlpha","clone","_applyModification","fn","args","apply","concat","slice","arguments","_applyCombination","fromRatio","newColor","equals","color1","color2","mix","rgb1","rgb2","readability","c1","c2","isReadable","wcag2","wcag2Parms","out","parms","level","size","toUpperCase","validateWCAG2Parms","mostReadable","baseColor","colorList","includeFallbackColors","bestColor","bestScore","length","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","flipped","flip","parseFloat","isNaN","indexOf","isOnePointZero","processPercent","isPercentage","parseInt","abs","val","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","RegExp","undefined","define","__WEBPACK_AMD_DEFINE_RESULT__","__WEBPACK_EXTERNAL_MODULE__7__","__WEBPACK_EXTERNAL_MODULE__8__","__WEBPACK_EXTERNAL_MODULE__9__","$","core","appEvents","elem","dashboard","scope","getSeriesFn","self","panel","ctrl","$tooltip","destroy","remove","findHoverIndexFromDataPoints","posX","series","last","ps","datapoints","pointsize","initial","len","points","j","lines","steps","findHoverIndexFromData","middle","lower","upper","data","renderAndShow","absoluteTime","innerHtml","pos","xMode","html","place_tt","pageX","pageY","getMultiSeriesPlotHoverInfo","seriesList","hoverIndex","hoverDistance","pointTime","yaxis","minDistance","minTime","last_value","legend","hideEmpty","allIsNull","hidden","hideZero","allIsZero","x","stack","tooltip","value_type","label","aliasEscaped","time","distance","index","mouseleave","shared","plot","detach","unhighlight","emit","event","item","show","panelRelY","offset","top","height","clear","clearCrosshair","group","hoverInfo","seriesHtml","tooltipFormat","plotData","getData","getXAxes","options","allSeriesMode","pointOffset","Number","left","width","window","scrollTop","innerHeight","setCrosshair","sharedCrosshairModeOnly","hasMsResolution","seriesHoverInfo","formatDate","sort","highlightClass","seriesIndex","formatValue","highlight","datapoint","__WEBPACK_AMD_DEFINE_ARRAY__","element","getComputedStyle","set","obj","style","div","className","document","createElement","elMatches","Element","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","query","Error","parentNode","removeChild","queryChildren","selector","Array","filter","children","child","cls","main","thumb","rail","consuming","state","focus","clicking","active","scrolling","scrollingClassTimeout","y","addScrollingClass","classList","contains","clearTimeout","add","removeScrollingClass","setTimeout","isAlive","settings","scrollingThreshold","EventElement","handlers","prototypeAccessors","isEmpty","configurable","eventName","handler","addEventListener","unbind","target","this$1","removeEventListener","unbindAll","keys","every","defineProperties","EventManager","eventElements","createEvent","CustomEvent","evt","initCustomEvent","eventElement","ee","splice","forEach","e","once","onceHandler","processScrollDiff","axis","diff","useScrollingClass","forceFireReachEvent","fields","ref","contentHeight","containerHeight","up","down","reach","dispatchEvent","setScrollingClassInstantly","processScrollDiff$1","toInt","env","isWebKit","documentElement","supportsTouch","DocumentTouch","supportsIePointer","navigator","msMaxTouchPoints","isChrome","test","userAgent","updateGeometry","roundedScrollTop","containerWidth","clientWidth","clientHeight","contentWidth","scrollWidth","scrollHeight","scrollbarXRail","el","appendChild","scrollbarYRail","suppressScrollX","scrollXMarginOffset","scrollbarXActive","railXWidth","railXMarginWidth","railXRatio","scrollbarXWidth","getThumbSize","scrollbarXLeft","negativeScrollAdjustment","scrollLeft","suppressScrollY","scrollYMarginOffset","scrollbarYActive","railYHeight","railYMarginHeight","railYRatio","scrollbarYHeight","scrollbarYTop","xRailOffset","isRtl","isScrollbarXUsingBottom","bottom","scrollbarXBottom","scrollbarXTop","yRailOffset","isScrollbarYUsingRight","right","scrollbarYRight","scrollbarYOuterWidth","scrollbarYLeft","scrollbarX","railBorderXWidth","scrollbarY","railBorderYWidth","updateCss","thumbSize","minScrollbarLength","maxScrollbarLength","bindMouseScrollHandler","startingScrollTop","startingMousePageY","scrollBy","mouseMoveHandler","stopPropagation","preventDefault","mouseUpHandler","ownerDocument","click-rail","direction","pageYOffset","getBoundingClientRect","pageXOffset","drag-thumb","keyboard","isDefaultPrevented","defaultPrevented","activeElement","tagName","contentDocument","shadowRoot","deltaX","deltaY","which","metaKey","altKey","shiftKey","wheelPropagation","shouldPreventDefault","wheel","mousewheelHandler","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","getDeltaFromEvent","querySelector","cursor","overflow","overflowX","overflowY","maxScrollTop","maxScrollLeft","shouldBeConsumedByChild","shouldPrevent","useBothWheelAxes","wheelSpeed","isTop","isBottom","offsetHeight","isLeft","isRight","offsetWidth","ctrlKey","onwheel","onmousewheel","touch","startOffset","startTime","speed","easingLoop","touchStart","touchMove","touchEnd","PointerEvent","MSPointerEvent","applyTouchMove","differenceX","differenceY","getTouch","targetTouches","shouldHandle","pointerType","buttons","MSPOINTER_TYPE_MOUSE","Date","getTime","clearInterval","currentOffset","currentTime","timeGap","magnitudeX","magnitudeY","scrollY","swipeEasing","setInterval","isInitialized","PerfectScrollbar","userSettings","nodeName","result","originalScrollLeft","blur","isNegativeScroll","setAttribute","railXStyle","borderLeftWidth","borderRightWidth","display","marginLeft","marginRight","railYStyle","styles","paddingLeft","paddingRight","outerWidth","borderTopWidth","borderBottomWidth","marginTop","marginBottom","handlerName","lastScrollTop","lastScrollLeft","onScroll","update","removePsClasses","split","__WEBPACK_EXTERNAL_MODULE__12__","__WEBPACK_EXTERNAL_MODULE__16__","__WEBPACK_EXTERNAL_MODULE__17__","__WEBPACK_EXTERNAL_MODULE__18__","__WEBPACK_EXTERNAL_MODULE__19__","__WEBPACK_EXTERNAL_MODULE__20__","__WEBPACK_EXTERNAL_MODULE__21__","__WEBPACK_EXTERNAL_MODULE__22__","__WEBPACK_EXTERNAL_MODULE__23__","__WEBPACK_EXTERNAL_MODULE__24__","_","angular","Drop","createAnnotationToolip","injector","content","innerHTML","invoke","$compile","$rootScope","eventManager","getOptions","events","manager","tmpScope","$new","onEdit","editEvent","$digest","$destroy","drop","position","classes","openOn","hoverCloseDelay","tetherOptions","constraints","to","pin","attachment","open","on","markerElementToAttachTo","createEditPopover","editorOpen","editorOpened","panelCtrl","close","editorClosed","DrawableEvent","drawFunc","clearFunc","moveFunc","_object","_drawFunc","_clearFunc","_moveFunc","_position","_width","_height","draw","getObject","moveTo","VisualEvent","drawableEvent","_options","_drawableEvent","_hidden","visual","getParent","isHidden","hide","unhide","EventMarkers","_events","_types","_plot","eventsEnabled","getEvents","setTypes","types","setupEvents","that","parts","partition","regions","each","ve","_buildDiv","vre","_buildRegDiv","ao","bo","drawEvents","_insidePlot","updateEvents","getPlotOffset","xaxis","p2c","_clearEvents","markerSize","markerShow","lineStyle","lineWidth","markerTooltip","container","getPlaceholder","axes","getAxes","used","yaxis2","eventTypeId","eventType","topOffset","eventSectionHeight","line","css","opacity","border-left-width","border-left-style","border-left-color","appendTo","marker","font-size","line-height","border-left","border-right","border-top","border-bottom","editModel","hover","clearSelection","regionWidth","timeFrom","timeEnd","timeTo","region","background-color","xc","plugins","init","eventMarkers","hideEvents","showEvents","setEvents","hooks","processOptions","version","__WEBPACK_AMD_DEFINE_FACTORY__","Tether","_bind","Function","_slicedToArray","arr","isArray","iterator","_arr","_n","_d","_e","_s","_i","next","done","err","sliceIterator","TypeError","_createClass","props","descriptor","writable","Constructor","protoProps","staticProps","_get","_x2","_x3","_x4","_again","receiver","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","_Tether$Utils","Utils","extend","addClass","removeClass","hasClass","Evented","sortAttach","str","_str$split","_str$split2","first","second","_ref","removeFromArray","clickEvents","transitionEndEvents","WebkitTransition","MozTransition","OTransition","transition","transitionEndEvent","_name","tempEl","MIRROR_ATTACH","center","allDrops","createContext","_len","_key","DropInstance","drops","defaults","defaultOptions","classPrefix","beforeClose","constrainToScrollParent","constrainToWindow","openDelay","closeDelay","focusDelay","blurDelay","hoverOpenDelay","updateBodyClasses","anyOpen","isOpened","body","_Evented","instance","_classCallCheck","dataPrefix","contentAttr","getAttribute","attrsOverride","override","addTargetClasses","_boundEvents","bindMethods","setupElements","setupTether","subClass","superClass","constructor","setPrototypeOf","__proto__","_inherits","transitionEndHandler","_transitionEndHandler","_this","generateAndSetContent","contentElementOrHTML","dropAttach","targetAttachment","targetOffset","enabled","tether","_this2","openHandler","toggle","closeHandler","clickEvent","_on","inTimeout","outTimeout","inHandler","type","outHandler","_this3","enable","trigger","currentTarget","shouldClose","isClosing","beforeCloseHandler","disable","_boundEvents$i","_event","TetherBase","zeroElement","getActualBoundingClientRect","node","boundingRect","rect","k","_frameElement","defaultView","frameElement","frameRect","getScrollParents","computedStyle","parents","nodeType","_style","id","uniqueId","zeroPosCache","getOrigin","defer","removeUtilElements","getBounds","doc","docEl","box","origin","clientTop","clientLeft","getOffsetParent","offsetParent","_scrollBarSize","getScrollBarSize","inner","outer","pointerEvents","visibility","widthContained","widthScroll","trim","regex","getClassName","setClassName","SVGAnimatedString","baseVal","updateClasses","all","deferred","flush","pop","ctx","bindings","_bindings$event$i","context","_x6","_x7","_x8","_TetherBase$Utils","within","lastCall","lastDuration","pendingTimeout","tick","transformKey","transforms","tethers","now","performance","MIRROR_LR","MIRROR_TB","OFFSET_MAP","attachmentToOffset","addOffset","offsets","offsetToPx","parseOffset","_value$split","_value$split2","parseAttachment","TetherClass","history","setOptions","initialize","targetModifier","jquery","getClass","scrollParents","innerWidth","bounds","hasBottomScroll","scrollBottom","fitAdj","scrollPercentage","_cache","_this4","_this5","elementAttach","targetAttach","_this6","_addAttachClasses","side","_this7","flushChanges","clearCache","relativeToAttachment","autoToFixedAttachment","updateAttachClasses","elementPos","cache","lastSize","_lastSize","targetPos","getTargetBounds","targetSize","manualOffset","manualTargetOffset","_module2","scrollbarSize","page","viewport","win","parentElement","optimizations","moveElement","offsetPosition","offsetParentStyle","offsetParentSize","offsetBorder","move","unshift","_this8","same","found","point","transcribe","_same","_pos","hasOptimizations","gpu","yPos","xPos","matchMedia","retina","moved","bodyElement","offsetParentIsBody","currentNode","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","writeCSS","write","elVal","BOUNDS_FORMAT","targetHeight","targetWidth","allClasses","constraint","outOfBoundsClass","pinnedClass","addClasses","tAttachment","eAttachment","changeAttachX","changeAttachY","_attachment$split","_attachment$split2","getBoundingRect","map","oobClass","pinned","oob","abutted","targetPosSide","shift","shiftTop","shiftLeft","_shift2","AnnotationEvent","PALETTE_ROWS","DEFAULT_ANNOTATION_COLOR","REGION_FILL_ALPHA","colors","hexToHsl","tinycolor_default","hslToHex","hexColors","hslColors","external_lodash_default","sortedHSLColors","sortBy","chunk","flattenDeep","zip","event_manager_EventManager","render","updateTime","range","dashboardId","panelId","external_moment_default","from","isRegion","addFlotEvents","annotations","flotOptions","valueOf","text","source","newState","iconColor","fillColor","markings","grid","defaultColor","colorString","alpha","addRegionMarking","levels","getFlotTickDecimals","tickDecimals","datamin","datamax","data_1","stats","getDataMinMax","panelMin","panelMax","delta","widen","getFlotRange","dec","log","LN10","magn","norm","scaledDecimals","matchSeriesOverride","aliasOrRegex","seriesAlias","kbn_default","stringToJsRegex","TimeSeries","alias","escape","valueFormater","valueFormats","none","unit","isMsResolutionNeeded","applySeriesOverrides","overrides","dashes","dashLength","bars","zindex","nullPointMode","fill","linewidth","spaceLength","pointradius","radius","steppedLine","fillBelowTo","transform","getFlotPairs","fillStyle","total","MAX_VALUE","logmin","avg","current","timeStep","currentValue","previousTime","ignoreNulls","nullAsZero","nonNulls","previousValue","previousDeltaUp","isNumber","count","updateLegendValues","formater","decimals","isFinite","timestamp","hideFromLegend","threshold_manager_ThresholdManager","ThresholdManager","getHandleHtml","handleIndex","model","valueStr","stateClass","colorMode","initDragging","posTop","handleElem","external_jquery_","lastY","thresholds","dragging","clientY","stopped","graphValue","c2p","toFixed","off","$scope","$apply","threshold","cleanUp","placeholder","find","needsCleanup","renderHandle","defaultHandleTopPos","handleTopPos","valueCanvasPos","append","toggleClass","shouldDrawHandles","hasSecondYAxis","editingThresholds","prepare","thresholdMargin","addFlotOptions","other","gtLimit","Infinity","ltLimit","limit","lineColor","op","getBucketBound","bucketSize","graphDirective","timeSrv","popoverSrv","contextSrv","restrict","template","sortedSeries","panelWidth","thresholdManager","graph_tooltip_default","drawHook","yaxes","dataWarning","title","processOffsetHook","gridMargin","getYAxes","panelOptions","getMinTimeStepOfSeries","translateFillOption","percentage","addTimeAxis","ticks","isUndefined","timezone","getTimezone","timeformat","time_format","addXSeriesAxis","addXHistogramAxis","defaultTicks","tickStep_1","ticks_num","ceil","configureAxisMode","addXTableAxis","pointIndex","flatten","parseNumber","toNumber","applyLogScale","logBase","minSetToZero","MIN_VALUE","inverseTransform","nextTick","maxNumTicks","numTicks","factor","generateTicksForLogScaleYAxis","tickFormatter","secPerTick","renderData","hiddenSeries","buildFlotPairs","seriesYAxis","processOffset","stackpercent","zero","barWidth","shadowSize","minBorderMargin","backgroundColor","borderWidth","hoverable","clickable","margin","labelMarginX","buildFlotOptions","align","values","dataList","getSeriesValues","histMin","histMax","buckets","start","stop","e10","sqrt","e5","e2","step0","step1","error","histogram","bound","histogam_series","convertValuesToHistogram","prepareXAxis","secondY","configureYAxisOptions","sortOrder","sortDesc","haveSortBy","haveSortOrder","shouldSortBy","sortSeries","incrementRenderCounter","renderError","inspector","console","message","renderingCompleted","callPlot","render_panel","sharedTooltipModeEnabled","otherPanelInFullscreenMode","info","ranges","isEditor","setTime","utc","x1","$on","external_angular_default","directive","$timeout","legendScrollbar","firstRender","getSeriesIndexForElement","openColorSelector","toggleAxis","changeSeriesColor","toggleSeries","seriesInfo","scrollPosition","sortLegend","stat","getTableHeaderHtml","statName","renderLegendElement","tableHeaderElem","seriesElements","renderSeriesLegendElements","alignAsTable","tbodyElem","rightSide","perfect_scrollbar_esm_default","empty","sideWidth","header","reverse","series_overrides_ctrl_SeriesOverridesCtrl","SeriesOverridesCtrl","$element","overrideMenu","currentOverrides","propertyName","option","lenght","submenu","setOverride","subItem","addSeriesOverride","updateCurrentOverrides","colorSelected","fakeSeries","autoClose","onClose","removeOverride","refresh","addOverrideOption","getSeriesNames","$inject","ThresholdFormCtrl","alert","disabled","unbindDestroy","addThreshold","removeThreshold","onFillColorChange","onLineColorChange","controller","sdk_","data_processor_DataProcessor","DataProcessor","getSeriesList","firstItem","autoDetectMode","getAutoDetectXAxisMode","setPanelDefaultsForNewXAxisMode","timeSeriesHandler","customHandler","seriesData","colorIndex","grafana_colors","aliasColors","time_series2","isOutsideRange","dataItem","validateXAxisSeriesValue","validOptions","getXAxisValueOptions","getDataFieldNames","onlyNumbers","isObject","getPropertiesRecursive","field","fieldParts","pluckDeep","propertyParts","AxesEditorCtrl","$q","unitFormats","getUnitFormats","logScales","linear","log (base 2)","log (base 10)","log (base 32)","log (base 1024)","xAxisModes","Time","Series","Histogram","xAxisStatOptions","setUnitFormat","xAxisModeChanged","processor","onDataReceived","xAxisValueChanged","items","prop","axesEditorComponent","__","_super","GraphCtrl","$injector","annotationsSrv","panelDefaults","timeShift","targets","seriesOverrides","onRender","onDataError","onDataSnapshotLoad","onInitEditMode","onInitPanelActions","partialPath","panelPath","addEditorTab","config_default","alertingEnabled","subTabIndex","actions","click","issueQueries","datasource","annotationsPromise","getAnnotations","zoomOut","publishAppEvent","snapshotData","reduce","prev","tip","then","loading","alertState","serie","toggleSeriesExclusiveMode","removeSeriesOverride","without","toggleLegend","legendValuesOptionChanged","exportCsv","templateHtml","modalClass","pluginId","_panelPath"],"mappings":"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","file":"panels/graph/module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 28);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","// TinyColor v1.4.1\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","module.exports = __WEBPACK_EXTERNAL_MODULE__8__;","module.exports = __WEBPACK_EXTERNAL_MODULE__9__;","define([\r\n  'jquery',\r\n  'grafana/app/core/core',\r\n],\r\nfunction ($, core) {\r\n  'use strict';\r\n\r\n  var appEvents = core.appEvents;\r\n\r\n  function GraphTooltip(elem, dashboard, scope, getSeriesFn) {\r\n    var self = this;\r\n    var ctrl = scope.ctrl;\r\n    var panel = ctrl.panel;\r\n\r\n    var $tooltip = $('<div class=\"graph-tooltip\">');\r\n\r\n    this.destroy = function() {\r\n      $tooltip.remove();\r\n    };\r\n\r\n    this.findHoverIndexFromDataPoints = function(posX, series, last) {\r\n      var ps = series.datapoints.pointsize;\r\n      var initial = last*ps;\r\n      var len = series.datapoints.points.length;\r\n      for (var j = initial; j < len; j += ps) {\r\n        // Special case of a non stepped line, highlight the very last point just before a null point\r\n        if ((!series.lines.steps && series.datapoints.points[initial] != null && series.datapoints.points[j] == null)\r\n            //normal case\r\n            || series.datapoints.points[j] > posX) {\r\n          return Math.max(j - ps,  0)/ps;\r\n        }\r\n      }\r\n      return j/ps - 1;\r\n    };\r\n\r\n    this.findHoverIndexFromData = function(posX, series) {\r\n      var lower = 0;\r\n      var upper = series.data.length - 1;\r\n      var middle;\r\n      while (true) {\r\n        if (lower > upper) {\r\n          return Math.max(upper, 0);\r\n        }\r\n        middle = Math.floor((lower + upper) / 2);\r\n        if (series.data[middle][0] === posX) {\r\n          return middle;\r\n        } else if (series.data[middle][0] < posX) {\r\n          lower = middle + 1;\r\n        } else {\r\n          upper = middle - 1;\r\n        }\r\n      }\r\n    };\r\n\r\n    this.renderAndShow = function(absoluteTime, innerHtml, pos, xMode) {\r\n      if (xMode === 'time') {\r\n        innerHtml = '<div class=\"graph-tooltip-time\">'+ absoluteTime + '</div>' + innerHtml;\r\n      }\r\n      $tooltip.html(innerHtml).place_tt(pos.pageX + 20, pos.pageY);\r\n    };\r\n\r\n    this.getMultiSeriesPlotHoverInfo = function(seriesList, pos) {\r\n      var value, i, series, hoverIndex, hoverDistance, pointTime, yaxis;\r\n      // 3 sub-arrays, 1st for hidden series, 2nd for left yaxis, 3rd for right yaxis.\r\n      var results = [[],[],[]];\r\n\r\n      //now we know the current X (j) position for X and Y values\r\n      var last_value = 0; //needed for stacked values\r\n\r\n      var minDistance, minTime;\r\n\r\n      for (i = 0; i < seriesList.length; i++) {\r\n        series = seriesList[i];\r\n\r\n        if (!series.data.length || (panel.legend.hideEmpty && series.allIsNull)) {\r\n          // Init value so that it does not brake series sorting\r\n          results[0].push({ hidden: true, value: 0 });\r\n          continue;\r\n        }\r\n\r\n        if (!series.data.length || (panel.legend.hideZero && series.allIsZero)) {\r\n          // Init value so that it does not brake series sorting\r\n          results[0].push({ hidden: true, value: 0 });\r\n          continue;\r\n        }\r\n\r\n        hoverIndex = this.findHoverIndexFromData(pos.x, series);\r\n        hoverDistance = pos.x - series.data[hoverIndex][0];\r\n        pointTime = series.data[hoverIndex][0];\r\n\r\n        // Take the closest point before the cursor, or if it does not exist, the closest after\r\n        if (! minDistance\r\n            || (hoverDistance >=0 && (hoverDistance < minDistance || minDistance < 0))\r\n            || (hoverDistance < 0 && hoverDistance > minDistance)) {\r\n          minDistance = hoverDistance;\r\n          minTime = pointTime;\r\n        }\r\n\r\n        if (series.stack) {\r\n          if (panel.tooltip.value_type === 'individual') {\r\n            value = series.data[hoverIndex][1];\r\n          } else if (!series.stack) {\r\n            value = series.data[hoverIndex][1];\r\n          } else {\r\n            last_value += series.data[hoverIndex][1];\r\n            value = last_value;\r\n          }\r\n        } else {\r\n          value = series.data[hoverIndex][1];\r\n        }\r\n\r\n        // Highlighting multiple Points depending on the plot type\r\n        if (series.lines.steps || series.stack) {\r\n          // stacked and steppedLine plots can have series with different length.\r\n          // Stacked series can increase its length on each new stacked serie if null points found,\r\n          // to speed the index search we begin always on the last found hoverIndex.\r\n          hoverIndex = this.findHoverIndexFromDataPoints(pos.x, series, hoverIndex);\r\n        }\r\n\r\n        // Be sure we have a yaxis so that it does not brake series sorting\r\n        yaxis = 0;\r\n        if (series.yaxis) {\r\n          yaxis = series.yaxis.n;\r\n        }\r\n\r\n        results[yaxis].push({\r\n          value: value,\r\n          hoverIndex: hoverIndex,\r\n          color: series.color,\r\n          label: series.aliasEscaped,\r\n          time: pointTime,\r\n          distance: hoverDistance,\r\n          index: i\r\n        });\r\n      }\r\n\r\n      // Contat the 3 sub-arrays\r\n      results = results[0].concat(results[1],results[2]);\r\n\r\n      // Time of the point closer to pointer\r\n      results.time = minTime;\r\n\r\n      return results;\r\n    };\r\n\r\n    elem.mouseleave(function () {\r\n      if (panel.tooltip.shared) {\r\n        var plot = elem.data().plot;\r\n        if (plot) {\r\n          $tooltip.detach();\r\n          plot.unhighlight();\r\n        }\r\n      }\r\n      appEvents.emit('graph-hover-clear');\r\n    });\r\n\r\n    elem.bind(\"plothover\", function (event, pos, item) {\r\n      self.show(pos, item);\r\n\r\n      // broadcast to other graph panels that we are hovering!\r\n      pos.panelRelY = (pos.pageY - elem.offset().top) / elem.height();\r\n      appEvents.emit('graph-hover', {pos: pos, panel: panel});\r\n    });\r\n\r\n    elem.bind(\"plotclick\", function (event, pos, item) {\r\n      appEvents.emit('graph-click', {pos: pos, panel: panel, item: item});\r\n    });\r\n\r\n    this.clear = function(plot) {\r\n      $tooltip.detach();\r\n      plot.clearCrosshair();\r\n      plot.unhighlight();\r\n    };\r\n\r\n    this.show = function(pos, item) {\r\n      var plot = elem.data().plot;\r\n      var plotData = plot.getData();\r\n      var xAxes = plot.getXAxes();\r\n      var xMode = xAxes[0].options.mode;\r\n      var seriesList = getSeriesFn();\r\n      var allSeriesMode = panel.tooltip.shared;\r\n      var group, value, absoluteTime, hoverInfo, i, series, seriesHtml, tooltipFormat;\r\n\r\n      // if panelRelY is defined another panel wants us to show a tooltip\r\n      // get pageX from position on x axis and pageY from relative position in original panel\r\n      if (pos.panelRelY) {\r\n        var pointOffset = plot.pointOffset({x: pos.x});\r\n        if (Number.isNaN(pointOffset.left) || pointOffset.left < 0 || pointOffset.left > elem.width()) {\r\n          self.clear(plot);\r\n          return;\r\n        }\r\n        pos.pageX = elem.offset().left + pointOffset.left;\r\n        pos.pageY = elem.offset().top + elem.height() * pos.panelRelY;\r\n        var isVisible = pos.pageY >= $(window).scrollTop() && pos.pageY <= $(window).innerHeight() + $(window).scrollTop();\r\n        if (!isVisible) {\r\n          self.clear(plot);\r\n          return;\r\n        }\r\n        plot.setCrosshair(pos);\r\n        allSeriesMode = true;\r\n\r\n        if (dashboard.sharedCrosshairModeOnly()) {\r\n          // if only crosshair mode we are done\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (seriesList.length === 0) {\r\n        return;\r\n      }\r\n\r\n      if (seriesList[0].hasMsResolution) {\r\n        tooltipFormat = 'YYYY-MM-DD HH:mm:ss.SSS';\r\n      } else {\r\n        tooltipFormat = 'YYYY-MM-DD HH:mm:ss';\r\n      }\r\n\r\n      if (allSeriesMode) {\r\n        plot.unhighlight();\r\n\r\n        var seriesHoverInfo = self.getMultiSeriesPlotHoverInfo(plotData, pos);\r\n\r\n        seriesHtml = '';\r\n\r\n        absoluteTime = dashboard.formatDate(seriesHoverInfo.time, tooltipFormat);\r\n\r\n        // Dynamically reorder the hovercard for the current time point if the\r\n        // option is enabled.\r\n        if (panel.tooltip.sort === 2) {\r\n          seriesHoverInfo.sort(function(a, b) {\r\n            return b.value - a.value;\r\n          });\r\n        } else if (panel.tooltip.sort === 1) {\r\n          seriesHoverInfo.sort(function(a, b) {\r\n            return a.value - b.value;\r\n          });\r\n        }\r\n\r\n        for (i = 0; i < seriesHoverInfo.length; i++) {\r\n          hoverInfo = seriesHoverInfo[i];\r\n\r\n          if (hoverInfo.hidden) {\r\n            continue;\r\n          }\r\n\r\n          var highlightClass = '';\r\n          if (item && hoverInfo.index === item.seriesIndex) {\r\n            highlightClass = 'graph-tooltip-list-item--highlight';\r\n          }\r\n\r\n          series = seriesList[hoverInfo.index];\r\n\r\n          value = series.formatValue(hoverInfo.value);\r\n\r\n          seriesHtml += '<div class=\"graph-tooltip-list-item ' + highlightClass + '\"><div class=\"graph-tooltip-series-name\">';\r\n          seriesHtml += '<i class=\"fa fa-minus\" style=\"color:' + hoverInfo.color +';\"></i> ' + hoverInfo.label + ':</div>';\r\n          seriesHtml += '<div class=\"graph-tooltip-value\">' + value + '</div></div>';\r\n          plot.highlight(hoverInfo.index, hoverInfo.hoverIndex);\r\n        }\r\n\r\n        self.renderAndShow(absoluteTime, seriesHtml, pos, xMode);\r\n      }\r\n      // single series tooltip\r\n      else if (item) {\r\n        series = seriesList[item.seriesIndex];\r\n        group = '<div class=\"graph-tooltip-list-item\"><div class=\"graph-tooltip-series-name\">';\r\n        group += '<i class=\"fa fa-minus\" style=\"color:' + item.series.color +';\"></i> ' + series.aliasEscaped + ':</div>';\r\n\r\n        if (panel.stack && panel.tooltip.value_type === 'individual') {\r\n          value = item.datapoint[1] - item.datapoint[2];\r\n        }\r\n        else {\r\n          value = item.datapoint[1];\r\n        }\r\n\r\n        value = series.formatValue(value);\r\n\r\n        absoluteTime = dashboard.formatDate(item.datapoint[0], tooltipFormat);\r\n\r\n        group += '<div class=\"graph-tooltip-value\">' + value + '</div>';\r\n\r\n        self.renderAndShow(absoluteTime, group, pos, xMode);\r\n      }\r\n      // no hit\r\n      else {\r\n        $tooltip.detach();\r\n      }\r\n    };\r\n  }\r\n\r\n  return GraphTooltip;\r\n});\r\n","/*!\n * perfect-scrollbar v1.4.0\n * (c) 2018 Hyunje Jun\n * @license MIT\n */\nfunction get(element) {\n  return getComputedStyle(element);\n}\n\nfunction set(element, obj) {\n  for (var key in obj) {\n    var val = obj[key];\n    if (typeof val === 'number') {\n      val = val + \"px\";\n    }\n    element.style[key] = val;\n  }\n  return element;\n}\n\nfunction div(className) {\n  var div = document.createElement('div');\n  div.className = className;\n  return div;\n}\n\nvar elMatches =\n  typeof Element !== 'undefined' &&\n  (Element.prototype.matches ||\n    Element.prototype.webkitMatchesSelector ||\n    Element.prototype.mozMatchesSelector ||\n    Element.prototype.msMatchesSelector);\n\nfunction matches(element, query) {\n  if (!elMatches) {\n    throw new Error('No element matching method supported');\n  }\n\n  return elMatches.call(element, query);\n}\n\nfunction remove(element) {\n  if (element.remove) {\n    element.remove();\n  } else {\n    if (element.parentNode) {\n      element.parentNode.removeChild(element);\n    }\n  }\n}\n\nfunction queryChildren(element, selector) {\n  return Array.prototype.filter.call(element.children, function (child) { return matches(child, selector); }\n  );\n}\n\nvar cls = {\n  main: 'ps',\n  element: {\n    thumb: function (x) { return (\"ps__thumb-\" + x); },\n    rail: function (x) { return (\"ps__rail-\" + x); },\n    consuming: 'ps__child--consume',\n  },\n  state: {\n    focus: 'ps--focus',\n    clicking: 'ps--clicking',\n    active: function (x) { return (\"ps--active-\" + x); },\n    scrolling: function (x) { return (\"ps--scrolling-\" + x); },\n  },\n};\n\n/*\n * Helper methods\n */\nvar scrollingClassTimeout = { x: null, y: null };\n\nfunction addScrollingClass(i, x) {\n  var classList = i.element.classList;\n  var className = cls.state.scrolling(x);\n\n  if (classList.contains(className)) {\n    clearTimeout(scrollingClassTimeout[x]);\n  } else {\n    classList.add(className);\n  }\n}\n\nfunction removeScrollingClass(i, x) {\n  scrollingClassTimeout[x] = setTimeout(\n    function () { return i.isAlive && i.element.classList.remove(cls.state.scrolling(x)); },\n    i.settings.scrollingThreshold\n  );\n}\n\nfunction setScrollingClassInstantly(i, x) {\n  addScrollingClass(i, x);\n  removeScrollingClass(i, x);\n}\n\nvar EventElement = function EventElement(element) {\n  this.element = element;\n  this.handlers = {};\n};\n\nvar prototypeAccessors = { isEmpty: { configurable: true } };\n\nEventElement.prototype.bind = function bind (eventName, handler) {\n  if (typeof this.handlers[eventName] === 'undefined') {\n    this.handlers[eventName] = [];\n  }\n  this.handlers[eventName].push(handler);\n  this.element.addEventListener(eventName, handler, false);\n};\n\nEventElement.prototype.unbind = function unbind (eventName, target) {\n    var this$1 = this;\n\n  this.handlers[eventName] = this.handlers[eventName].filter(function (handler) {\n    if (target && handler !== target) {\n      return true;\n    }\n    this$1.element.removeEventListener(eventName, handler, false);\n    return false;\n  });\n};\n\nEventElement.prototype.unbindAll = function unbindAll () {\n    var this$1 = this;\n\n  for (var name in this$1.handlers) {\n    this$1.unbind(name);\n  }\n};\n\nprototypeAccessors.isEmpty.get = function () {\n    var this$1 = this;\n\n  return Object.keys(this.handlers).every(\n    function (key) { return this$1.handlers[key].length === 0; }\n  );\n};\n\nObject.defineProperties( EventElement.prototype, prototypeAccessors );\n\nvar EventManager = function EventManager() {\n  this.eventElements = [];\n};\n\nEventManager.prototype.eventElement = function eventElement (element) {\n  var ee = this.eventElements.filter(function (ee) { return ee.element === element; })[0];\n  if (!ee) {\n    ee = new EventElement(element);\n    this.eventElements.push(ee);\n  }\n  return ee;\n};\n\nEventManager.prototype.bind = function bind (element, eventName, handler) {\n  this.eventElement(element).bind(eventName, handler);\n};\n\nEventManager.prototype.unbind = function unbind (element, eventName, handler) {\n  var ee = this.eventElement(element);\n  ee.unbind(eventName, handler);\n\n  if (ee.isEmpty) {\n    // remove\n    this.eventElements.splice(this.eventElements.indexOf(ee), 1);\n  }\n};\n\nEventManager.prototype.unbindAll = function unbindAll () {\n  this.eventElements.forEach(function (e) { return e.unbindAll(); });\n  this.eventElements = [];\n};\n\nEventManager.prototype.once = function once (element, eventName, handler) {\n  var ee = this.eventElement(element);\n  var onceHandler = function (evt) {\n    ee.unbind(eventName, onceHandler);\n    handler(evt);\n  };\n  ee.bind(eventName, onceHandler);\n};\n\nfunction createEvent(name) {\n  if (typeof window.CustomEvent === 'function') {\n    return new CustomEvent(name);\n  } else {\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(name, false, false, undefined);\n    return evt;\n  }\n}\n\nvar processScrollDiff = function(\n  i,\n  axis,\n  diff,\n  useScrollingClass,\n  forceFireReachEvent\n) {\n  if ( useScrollingClass === void 0 ) useScrollingClass = true;\n  if ( forceFireReachEvent === void 0 ) forceFireReachEvent = false;\n\n  var fields;\n  if (axis === 'top') {\n    fields = [\n      'contentHeight',\n      'containerHeight',\n      'scrollTop',\n      'y',\n      'up',\n      'down' ];\n  } else if (axis === 'left') {\n    fields = [\n      'contentWidth',\n      'containerWidth',\n      'scrollLeft',\n      'x',\n      'left',\n      'right' ];\n  } else {\n    throw new Error('A proper axis should be provided');\n  }\n\n  processScrollDiff$1(i, diff, fields, useScrollingClass, forceFireReachEvent);\n};\n\nfunction processScrollDiff$1(\n  i,\n  diff,\n  ref,\n  useScrollingClass,\n  forceFireReachEvent\n) {\n  var contentHeight = ref[0];\n  var containerHeight = ref[1];\n  var scrollTop = ref[2];\n  var y = ref[3];\n  var up = ref[4];\n  var down = ref[5];\n  if ( useScrollingClass === void 0 ) useScrollingClass = true;\n  if ( forceFireReachEvent === void 0 ) forceFireReachEvent = false;\n\n  var element = i.element;\n\n  // reset reach\n  i.reach[y] = null;\n\n  // 1 for subpixel rounding\n  if (element[scrollTop] < 1) {\n    i.reach[y] = 'start';\n  }\n\n  // 1 for subpixel rounding\n  if (element[scrollTop] > i[contentHeight] - i[containerHeight] - 1) {\n    i.reach[y] = 'end';\n  }\n\n  if (diff) {\n    element.dispatchEvent(createEvent((\"ps-scroll-\" + y)));\n\n    if (diff < 0) {\n      element.dispatchEvent(createEvent((\"ps-scroll-\" + up)));\n    } else if (diff > 0) {\n      element.dispatchEvent(createEvent((\"ps-scroll-\" + down)));\n    }\n\n    if (useScrollingClass) {\n      setScrollingClassInstantly(i, y);\n    }\n  }\n\n  if (i.reach[y] && (diff || forceFireReachEvent)) {\n    element.dispatchEvent(createEvent((\"ps-\" + y + \"-reach-\" + (i.reach[y]))));\n  }\n}\n\nfunction toInt(x) {\n  return parseInt(x, 10) || 0;\n}\n\nfunction isEditable(el) {\n  return (\n    matches(el, 'input,[contenteditable]') ||\n    matches(el, 'select,[contenteditable]') ||\n    matches(el, 'textarea,[contenteditable]') ||\n    matches(el, 'button,[contenteditable]')\n  );\n}\n\nfunction outerWidth(element) {\n  var styles = get(element);\n  return (\n    toInt(styles.width) +\n    toInt(styles.paddingLeft) +\n    toInt(styles.paddingRight) +\n    toInt(styles.borderLeftWidth) +\n    toInt(styles.borderRightWidth)\n  );\n}\n\nvar env = {\n  isWebKit:\n    typeof document !== 'undefined' &&\n    'WebkitAppearance' in document.documentElement.style,\n  supportsTouch:\n    typeof window !== 'undefined' &&\n    ('ontouchstart' in window ||\n      (window.DocumentTouch && document instanceof window.DocumentTouch)),\n  supportsIePointer:\n    typeof navigator !== 'undefined' && navigator.msMaxTouchPoints,\n  isChrome:\n    typeof navigator !== 'undefined' &&\n    /Chrome/i.test(navigator && navigator.userAgent),\n};\n\nvar updateGeometry = function(i) {\n  var element = i.element;\n  var roundedScrollTop = Math.floor(element.scrollTop);\n\n  i.containerWidth = element.clientWidth;\n  i.containerHeight = element.clientHeight;\n  i.contentWidth = element.scrollWidth;\n  i.contentHeight = element.scrollHeight;\n\n  if (!element.contains(i.scrollbarXRail)) {\n    // clean up and append\n    queryChildren(element, cls.element.rail('x')).forEach(function (el) { return remove(el); }\n    );\n    element.appendChild(i.scrollbarXRail);\n  }\n  if (!element.contains(i.scrollbarYRail)) {\n    // clean up and append\n    queryChildren(element, cls.element.rail('y')).forEach(function (el) { return remove(el); }\n    );\n    element.appendChild(i.scrollbarYRail);\n  }\n\n  if (\n    !i.settings.suppressScrollX &&\n    i.containerWidth + i.settings.scrollXMarginOffset < i.contentWidth\n  ) {\n    i.scrollbarXActive = true;\n    i.railXWidth = i.containerWidth - i.railXMarginWidth;\n    i.railXRatio = i.containerWidth / i.railXWidth;\n    i.scrollbarXWidth = getThumbSize(\n      i,\n      toInt(i.railXWidth * i.containerWidth / i.contentWidth)\n    );\n    i.scrollbarXLeft = toInt(\n      (i.negativeScrollAdjustment + element.scrollLeft) *\n        (i.railXWidth - i.scrollbarXWidth) /\n        (i.contentWidth - i.containerWidth)\n    );\n  } else {\n    i.scrollbarXActive = false;\n  }\n\n  if (\n    !i.settings.suppressScrollY &&\n    i.containerHeight + i.settings.scrollYMarginOffset < i.contentHeight\n  ) {\n    i.scrollbarYActive = true;\n    i.railYHeight = i.containerHeight - i.railYMarginHeight;\n    i.railYRatio = i.containerHeight / i.railYHeight;\n    i.scrollbarYHeight = getThumbSize(\n      i,\n      toInt(i.railYHeight * i.containerHeight / i.contentHeight)\n    );\n    i.scrollbarYTop = toInt(\n      roundedScrollTop *\n        (i.railYHeight - i.scrollbarYHeight) /\n        (i.contentHeight - i.containerHeight)\n    );\n  } else {\n    i.scrollbarYActive = false;\n  }\n\n  if (i.scrollbarXLeft >= i.railXWidth - i.scrollbarXWidth) {\n    i.scrollbarXLeft = i.railXWidth - i.scrollbarXWidth;\n  }\n  if (i.scrollbarYTop >= i.railYHeight - i.scrollbarYHeight) {\n    i.scrollbarYTop = i.railYHeight - i.scrollbarYHeight;\n  }\n\n  updateCss(element, i);\n\n  if (i.scrollbarXActive) {\n    element.classList.add(cls.state.active('x'));\n  } else {\n    element.classList.remove(cls.state.active('x'));\n    i.scrollbarXWidth = 0;\n    i.scrollbarXLeft = 0;\n    element.scrollLeft = 0;\n  }\n  if (i.scrollbarYActive) {\n    element.classList.add(cls.state.active('y'));\n  } else {\n    element.classList.remove(cls.state.active('y'));\n    i.scrollbarYHeight = 0;\n    i.scrollbarYTop = 0;\n    element.scrollTop = 0;\n  }\n};\n\nfunction getThumbSize(i, thumbSize) {\n  if (i.settings.minScrollbarLength) {\n    thumbSize = Math.max(thumbSize, i.settings.minScrollbarLength);\n  }\n  if (i.settings.maxScrollbarLength) {\n    thumbSize = Math.min(thumbSize, i.settings.maxScrollbarLength);\n  }\n  return thumbSize;\n}\n\nfunction updateCss(element, i) {\n  var xRailOffset = { width: i.railXWidth };\n  var roundedScrollTop = Math.floor(element.scrollTop);\n\n  if (i.isRtl) {\n    xRailOffset.left =\n      i.negativeScrollAdjustment +\n      element.scrollLeft +\n      i.containerWidth -\n      i.contentWidth;\n  } else {\n    xRailOffset.left = element.scrollLeft;\n  }\n  if (i.isScrollbarXUsingBottom) {\n    xRailOffset.bottom = i.scrollbarXBottom - roundedScrollTop;\n  } else {\n    xRailOffset.top = i.scrollbarXTop + roundedScrollTop;\n  }\n  set(i.scrollbarXRail, xRailOffset);\n\n  var yRailOffset = { top: roundedScrollTop, height: i.railYHeight };\n  if (i.isScrollbarYUsingRight) {\n    if (i.isRtl) {\n      yRailOffset.right =\n        i.contentWidth -\n        (i.negativeScrollAdjustment + element.scrollLeft) -\n        i.scrollbarYRight -\n        i.scrollbarYOuterWidth;\n    } else {\n      yRailOffset.right = i.scrollbarYRight - element.scrollLeft;\n    }\n  } else {\n    if (i.isRtl) {\n      yRailOffset.left =\n        i.negativeScrollAdjustment +\n        element.scrollLeft +\n        i.containerWidth * 2 -\n        i.contentWidth -\n        i.scrollbarYLeft -\n        i.scrollbarYOuterWidth;\n    } else {\n      yRailOffset.left = i.scrollbarYLeft + element.scrollLeft;\n    }\n  }\n  set(i.scrollbarYRail, yRailOffset);\n\n  set(i.scrollbarX, {\n    left: i.scrollbarXLeft,\n    width: i.scrollbarXWidth - i.railBorderXWidth,\n  });\n  set(i.scrollbarY, {\n    top: i.scrollbarYTop,\n    height: i.scrollbarYHeight - i.railBorderYWidth,\n  });\n}\n\nvar clickRail = function(i) {\n  i.event.bind(i.scrollbarY, 'mousedown', function (e) { return e.stopPropagation(); });\n  i.event.bind(i.scrollbarYRail, 'mousedown', function (e) {\n    var positionTop =\n      e.pageY -\n      window.pageYOffset -\n      i.scrollbarYRail.getBoundingClientRect().top;\n    var direction = positionTop > i.scrollbarYTop ? 1 : -1;\n\n    i.element.scrollTop += direction * i.containerHeight;\n    updateGeometry(i);\n\n    e.stopPropagation();\n  });\n\n  i.event.bind(i.scrollbarX, 'mousedown', function (e) { return e.stopPropagation(); });\n  i.event.bind(i.scrollbarXRail, 'mousedown', function (e) {\n    var positionLeft =\n      e.pageX -\n      window.pageXOffset -\n      i.scrollbarXRail.getBoundingClientRect().left;\n    var direction = positionLeft > i.scrollbarXLeft ? 1 : -1;\n\n    i.element.scrollLeft += direction * i.containerWidth;\n    updateGeometry(i);\n\n    e.stopPropagation();\n  });\n};\n\nvar dragThumb = function(i) {\n  bindMouseScrollHandler(i, [\n    'containerWidth',\n    'contentWidth',\n    'pageX',\n    'railXWidth',\n    'scrollbarX',\n    'scrollbarXWidth',\n    'scrollLeft',\n    'x',\n    'scrollbarXRail' ]);\n  bindMouseScrollHandler(i, [\n    'containerHeight',\n    'contentHeight',\n    'pageY',\n    'railYHeight',\n    'scrollbarY',\n    'scrollbarYHeight',\n    'scrollTop',\n    'y',\n    'scrollbarYRail' ]);\n};\n\nfunction bindMouseScrollHandler(\n  i,\n  ref\n) {\n  var containerHeight = ref[0];\n  var contentHeight = ref[1];\n  var pageY = ref[2];\n  var railYHeight = ref[3];\n  var scrollbarY = ref[4];\n  var scrollbarYHeight = ref[5];\n  var scrollTop = ref[6];\n  var y = ref[7];\n  var scrollbarYRail = ref[8];\n\n  var element = i.element;\n\n  var startingScrollTop = null;\n  var startingMousePageY = null;\n  var scrollBy = null;\n\n  function mouseMoveHandler(e) {\n    element[scrollTop] =\n      startingScrollTop + scrollBy * (e[pageY] - startingMousePageY);\n    addScrollingClass(i, y);\n    updateGeometry(i);\n\n    e.stopPropagation();\n    e.preventDefault();\n  }\n\n  function mouseUpHandler() {\n    removeScrollingClass(i, y);\n    i[scrollbarYRail].classList.remove(cls.state.clicking);\n    i.event.unbind(i.ownerDocument, 'mousemove', mouseMoveHandler);\n  }\n\n  i.event.bind(i[scrollbarY], 'mousedown', function (e) {\n    startingScrollTop = element[scrollTop];\n    startingMousePageY = e[pageY];\n    scrollBy =\n      (i[contentHeight] - i[containerHeight]) /\n      (i[railYHeight] - i[scrollbarYHeight]);\n\n    i.event.bind(i.ownerDocument, 'mousemove', mouseMoveHandler);\n    i.event.once(i.ownerDocument, 'mouseup', mouseUpHandler);\n\n    i[scrollbarYRail].classList.add(cls.state.clicking);\n\n    e.stopPropagation();\n    e.preventDefault();\n  });\n}\n\nvar keyboard = function(i) {\n  var element = i.element;\n\n  var elementHovered = function () { return matches(element, ':hover'); };\n  var scrollbarFocused = function () { return matches(i.scrollbarX, ':focus') || matches(i.scrollbarY, ':focus'); };\n\n  function shouldPreventDefault(deltaX, deltaY) {\n    var scrollTop = Math.floor(element.scrollTop);\n    if (deltaX === 0) {\n      if (!i.scrollbarYActive) {\n        return false;\n      }\n      if (\n        (scrollTop === 0 && deltaY > 0) ||\n        (scrollTop >= i.contentHeight - i.containerHeight && deltaY < 0)\n      ) {\n        return !i.settings.wheelPropagation;\n      }\n    }\n\n    var scrollLeft = element.scrollLeft;\n    if (deltaY === 0) {\n      if (!i.scrollbarXActive) {\n        return false;\n      }\n      if (\n        (scrollLeft === 0 && deltaX < 0) ||\n        (scrollLeft >= i.contentWidth - i.containerWidth && deltaX > 0)\n      ) {\n        return !i.settings.wheelPropagation;\n      }\n    }\n    return true;\n  }\n\n  i.event.bind(i.ownerDocument, 'keydown', function (e) {\n    if (\n      (e.isDefaultPrevented && e.isDefaultPrevented()) ||\n      e.defaultPrevented\n    ) {\n      return;\n    }\n\n    if (!elementHovered() && !scrollbarFocused()) {\n      return;\n    }\n\n    var activeElement = document.activeElement\n      ? document.activeElement\n      : i.ownerDocument.activeElement;\n    if (activeElement) {\n      if (activeElement.tagName === 'IFRAME') {\n        activeElement = activeElement.contentDocument.activeElement;\n      } else {\n        // go deeper if element is a webcomponent\n        while (activeElement.shadowRoot) {\n          activeElement = activeElement.shadowRoot.activeElement;\n        }\n      }\n      if (isEditable(activeElement)) {\n        return;\n      }\n    }\n\n    var deltaX = 0;\n    var deltaY = 0;\n\n    switch (e.which) {\n      case 37: // left\n        if (e.metaKey) {\n          deltaX = -i.contentWidth;\n        } else if (e.altKey) {\n          deltaX = -i.containerWidth;\n        } else {\n          deltaX = -30;\n        }\n        break;\n      case 38: // up\n        if (e.metaKey) {\n          deltaY = i.contentHeight;\n        } else if (e.altKey) {\n          deltaY = i.containerHeight;\n        } else {\n          deltaY = 30;\n        }\n        break;\n      case 39: // right\n        if (e.metaKey) {\n          deltaX = i.contentWidth;\n        } else if (e.altKey) {\n          deltaX = i.containerWidth;\n        } else {\n          deltaX = 30;\n        }\n        break;\n      case 40: // down\n        if (e.metaKey) {\n          deltaY = -i.contentHeight;\n        } else if (e.altKey) {\n          deltaY = -i.containerHeight;\n        } else {\n          deltaY = -30;\n        }\n        break;\n      case 32: // space bar\n        if (e.shiftKey) {\n          deltaY = i.containerHeight;\n        } else {\n          deltaY = -i.containerHeight;\n        }\n        break;\n      case 33: // page up\n        deltaY = i.containerHeight;\n        break;\n      case 34: // page down\n        deltaY = -i.containerHeight;\n        break;\n      case 36: // home\n        deltaY = i.contentHeight;\n        break;\n      case 35: // end\n        deltaY = -i.contentHeight;\n        break;\n      default:\n        return;\n    }\n\n    if (i.settings.suppressScrollX && deltaX !== 0) {\n      return;\n    }\n    if (i.settings.suppressScrollY && deltaY !== 0) {\n      return;\n    }\n\n    element.scrollTop -= deltaY;\n    element.scrollLeft += deltaX;\n    updateGeometry(i);\n\n    if (shouldPreventDefault(deltaX, deltaY)) {\n      e.preventDefault();\n    }\n  });\n};\n\nvar wheel = function(i) {\n  var element = i.element;\n\n  function shouldPreventDefault(deltaX, deltaY) {\n    var roundedScrollTop = Math.floor(element.scrollTop);\n    var isTop = element.scrollTop === 0;\n    var isBottom =\n      roundedScrollTop + element.offsetHeight === element.scrollHeight;\n    var isLeft = element.scrollLeft === 0;\n    var isRight =\n      element.scrollLeft + element.offsetWidth === element.scrollWidth;\n\n    var hitsBound;\n\n    // pick axis with primary direction\n    if (Math.abs(deltaY) > Math.abs(deltaX)) {\n      hitsBound = isTop || isBottom;\n    } else {\n      hitsBound = isLeft || isRight;\n    }\n\n    return hitsBound ? !i.settings.wheelPropagation : true;\n  }\n\n  function getDeltaFromEvent(e) {\n    var deltaX = e.deltaX;\n    var deltaY = -1 * e.deltaY;\n\n    if (typeof deltaX === 'undefined' || typeof deltaY === 'undefined') {\n      // OS X Safari\n      deltaX = -1 * e.wheelDeltaX / 6;\n      deltaY = e.wheelDeltaY / 6;\n    }\n\n    if (e.deltaMode && e.deltaMode === 1) {\n      // Firefox in deltaMode 1: Line scrolling\n      deltaX *= 10;\n      deltaY *= 10;\n    }\n\n    if (deltaX !== deltaX && deltaY !== deltaY /* NaN checks */) {\n      // IE in some mouse drivers\n      deltaX = 0;\n      deltaY = e.wheelDelta;\n    }\n\n    if (e.shiftKey) {\n      // reverse axis with shift key\n      return [-deltaY, -deltaX];\n    }\n    return [deltaX, deltaY];\n  }\n\n  function shouldBeConsumedByChild(target, deltaX, deltaY) {\n    // FIXME: this is a workaround for <select> issue in FF and IE #571\n    if (!env.isWebKit && element.querySelector('select:focus')) {\n      return true;\n    }\n\n    if (!element.contains(target)) {\n      return false;\n    }\n\n    var cursor = target;\n\n    while (cursor && cursor !== element) {\n      if (cursor.classList.contains(cls.element.consuming)) {\n        return true;\n      }\n\n      var style = get(cursor);\n      var overflow = [style.overflow, style.overflowX, style.overflowY].join(\n        ''\n      );\n\n      // if scrollable\n      if (overflow.match(/(scroll|auto)/)) {\n        var maxScrollTop = cursor.scrollHeight - cursor.clientHeight;\n        if (maxScrollTop > 0) {\n          if (\n            !(cursor.scrollTop === 0 && deltaY > 0) &&\n            !(cursor.scrollTop === maxScrollTop && deltaY < 0)\n          ) {\n            return true;\n          }\n        }\n        var maxScrollLeft = cursor.scrollWidth - cursor.clientWidth;\n        if (maxScrollLeft > 0) {\n          if (\n            !(cursor.scrollLeft === 0 && deltaX < 0) &&\n            !(cursor.scrollLeft === maxScrollLeft && deltaX > 0)\n          ) {\n            return true;\n          }\n        }\n      }\n\n      cursor = cursor.parentNode;\n    }\n\n    return false;\n  }\n\n  function mousewheelHandler(e) {\n    var ref = getDeltaFromEvent(e);\n    var deltaX = ref[0];\n    var deltaY = ref[1];\n\n    if (shouldBeConsumedByChild(e.target, deltaX, deltaY)) {\n      return;\n    }\n\n    var shouldPrevent = false;\n    if (!i.settings.useBothWheelAxes) {\n      // deltaX will only be used for horizontal scrolling and deltaY will\n      // only be used for vertical scrolling - this is the default\n      element.scrollTop -= deltaY * i.settings.wheelSpeed;\n      element.scrollLeft += deltaX * i.settings.wheelSpeed;\n    } else if (i.scrollbarYActive && !i.scrollbarXActive) {\n      // only vertical scrollbar is active and useBothWheelAxes option is\n      // active, so let's scroll vertical bar using both mouse wheel axes\n      if (deltaY) {\n        element.scrollTop -= deltaY * i.settings.wheelSpeed;\n      } else {\n        element.scrollTop += deltaX * i.settings.wheelSpeed;\n      }\n      shouldPrevent = true;\n    } else if (i.scrollbarXActive && !i.scrollbarYActive) {\n      // useBothWheelAxes and only horizontal bar is active, so use both\n      // wheel axes for horizontal bar\n      if (deltaX) {\n        element.scrollLeft += deltaX * i.settings.wheelSpeed;\n      } else {\n        element.scrollLeft -= deltaY * i.settings.wheelSpeed;\n      }\n      shouldPrevent = true;\n    }\n\n    updateGeometry(i);\n\n    shouldPrevent = shouldPrevent || shouldPreventDefault(deltaX, deltaY);\n    if (shouldPrevent && !e.ctrlKey) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  }\n\n  if (typeof window.onwheel !== 'undefined') {\n    i.event.bind(element, 'wheel', mousewheelHandler);\n  } else if (typeof window.onmousewheel !== 'undefined') {\n    i.event.bind(element, 'mousewheel', mousewheelHandler);\n  }\n};\n\nvar touch = function(i) {\n  if (!env.supportsTouch && !env.supportsIePointer) {\n    return;\n  }\n\n  var element = i.element;\n\n  function shouldPrevent(deltaX, deltaY) {\n    var scrollTop = Math.floor(element.scrollTop);\n    var scrollLeft = element.scrollLeft;\n    var magnitudeX = Math.abs(deltaX);\n    var magnitudeY = Math.abs(deltaY);\n\n    if (magnitudeY > magnitudeX) {\n      // user is perhaps trying to swipe up/down the page\n\n      if (\n        (deltaY < 0 && scrollTop === i.contentHeight - i.containerHeight) ||\n        (deltaY > 0 && scrollTop === 0)\n      ) {\n        // set prevent for mobile Chrome refresh\n        return window.scrollY === 0 && deltaY > 0 && env.isChrome;\n      }\n    } else if (magnitudeX > magnitudeY) {\n      // user is perhaps trying to swipe left/right across the page\n\n      if (\n        (deltaX < 0 && scrollLeft === i.contentWidth - i.containerWidth) ||\n        (deltaX > 0 && scrollLeft === 0)\n      ) {\n        return true;\n      }\n    }\n\n    return true;\n  }\n\n  function applyTouchMove(differenceX, differenceY) {\n    element.scrollTop -= differenceY;\n    element.scrollLeft -= differenceX;\n\n    updateGeometry(i);\n  }\n\n  var startOffset = {};\n  var startTime = 0;\n  var speed = {};\n  var easingLoop = null;\n\n  function getTouch(e) {\n    if (e.targetTouches) {\n      return e.targetTouches[0];\n    } else {\n      // Maybe IE pointer\n      return e;\n    }\n  }\n\n  function shouldHandle(e) {\n    if (e.pointerType && e.pointerType === 'pen' && e.buttons === 0) {\n      return false;\n    }\n    if (e.targetTouches && e.targetTouches.length === 1) {\n      return true;\n    }\n    if (\n      e.pointerType &&\n      e.pointerType !== 'mouse' &&\n      e.pointerType !== e.MSPOINTER_TYPE_MOUSE\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  function touchStart(e) {\n    if (!shouldHandle(e)) {\n      return;\n    }\n\n    var touch = getTouch(e);\n\n    startOffset.pageX = touch.pageX;\n    startOffset.pageY = touch.pageY;\n\n    startTime = new Date().getTime();\n\n    if (easingLoop !== null) {\n      clearInterval(easingLoop);\n    }\n  }\n\n  function shouldBeConsumedByChild(target, deltaX, deltaY) {\n    if (!element.contains(target)) {\n      return false;\n    }\n\n    var cursor = target;\n\n    while (cursor && cursor !== element) {\n      if (cursor.classList.contains(cls.element.consuming)) {\n        return true;\n      }\n\n      var style = get(cursor);\n      var overflow = [style.overflow, style.overflowX, style.overflowY].join(\n        ''\n      );\n\n      // if scrollable\n      if (overflow.match(/(scroll|auto)/)) {\n        var maxScrollTop = cursor.scrollHeight - cursor.clientHeight;\n        if (maxScrollTop > 0) {\n          if (\n            !(cursor.scrollTop === 0 && deltaY > 0) &&\n            !(cursor.scrollTop === maxScrollTop && deltaY < 0)\n          ) {\n            return true;\n          }\n        }\n        var maxScrollLeft = cursor.scrollLeft - cursor.clientWidth;\n        if (maxScrollLeft > 0) {\n          if (\n            !(cursor.scrollLeft === 0 && deltaX < 0) &&\n            !(cursor.scrollLeft === maxScrollLeft && deltaX > 0)\n          ) {\n            return true;\n          }\n        }\n      }\n\n      cursor = cursor.parentNode;\n    }\n\n    return false;\n  }\n\n  function touchMove(e) {\n    if (shouldHandle(e)) {\n      var touch = getTouch(e);\n\n      var currentOffset = { pageX: touch.pageX, pageY: touch.pageY };\n\n      var differenceX = currentOffset.pageX - startOffset.pageX;\n      var differenceY = currentOffset.pageY - startOffset.pageY;\n\n      if (shouldBeConsumedByChild(e.target, differenceX, differenceY)) {\n        return;\n      }\n\n      applyTouchMove(differenceX, differenceY);\n      startOffset = currentOffset;\n\n      var currentTime = new Date().getTime();\n\n      var timeGap = currentTime - startTime;\n      if (timeGap > 0) {\n        speed.x = differenceX / timeGap;\n        speed.y = differenceY / timeGap;\n        startTime = currentTime;\n      }\n\n      if (shouldPrevent(differenceX, differenceY)) {\n        e.preventDefault();\n      }\n    }\n  }\n  function touchEnd() {\n    if (i.settings.swipeEasing) {\n      clearInterval(easingLoop);\n      easingLoop = setInterval(function() {\n        if (i.isInitialized) {\n          clearInterval(easingLoop);\n          return;\n        }\n\n        if (!speed.x && !speed.y) {\n          clearInterval(easingLoop);\n          return;\n        }\n\n        if (Math.abs(speed.x) < 0.01 && Math.abs(speed.y) < 0.01) {\n          clearInterval(easingLoop);\n          return;\n        }\n\n        applyTouchMove(speed.x * 30, speed.y * 30);\n\n        speed.x *= 0.8;\n        speed.y *= 0.8;\n      }, 10);\n    }\n  }\n\n  if (env.supportsTouch) {\n    i.event.bind(element, 'touchstart', touchStart);\n    i.event.bind(element, 'touchmove', touchMove);\n    i.event.bind(element, 'touchend', touchEnd);\n  } else if (env.supportsIePointer) {\n    if (window.PointerEvent) {\n      i.event.bind(element, 'pointerdown', touchStart);\n      i.event.bind(element, 'pointermove', touchMove);\n      i.event.bind(element, 'pointerup', touchEnd);\n    } else if (window.MSPointerEvent) {\n      i.event.bind(element, 'MSPointerDown', touchStart);\n      i.event.bind(element, 'MSPointerMove', touchMove);\n      i.event.bind(element, 'MSPointerUp', touchEnd);\n    }\n  }\n};\n\nvar defaultSettings = function () { return ({\n  handlers: ['click-rail', 'drag-thumb', 'keyboard', 'wheel', 'touch'],\n  maxScrollbarLength: null,\n  minScrollbarLength: null,\n  scrollingThreshold: 1000,\n  scrollXMarginOffset: 0,\n  scrollYMarginOffset: 0,\n  suppressScrollX: false,\n  suppressScrollY: false,\n  swipeEasing: true,\n  useBothWheelAxes: false,\n  wheelPropagation: true,\n  wheelSpeed: 1,\n}); };\n\nvar handlers = {\n  'click-rail': clickRail,\n  'drag-thumb': dragThumb,\n  keyboard: keyboard,\n  wheel: wheel,\n  touch: touch,\n};\n\nvar PerfectScrollbar = function PerfectScrollbar(element, userSettings) {\n  var this$1 = this;\n  if ( userSettings === void 0 ) userSettings = {};\n\n  if (typeof element === 'string') {\n    element = document.querySelector(element);\n  }\n\n  if (!element || !element.nodeName) {\n    throw new Error('no element is specified to initialize PerfectScrollbar');\n  }\n\n  this.element = element;\n\n  element.classList.add(cls.main);\n\n  this.settings = defaultSettings();\n  for (var key in userSettings) {\n    this$1.settings[key] = userSettings[key];\n  }\n\n  this.containerWidth = null;\n  this.containerHeight = null;\n  this.contentWidth = null;\n  this.contentHeight = null;\n\n  var focus = function () { return element.classList.add(cls.state.focus); };\n  var blur = function () { return element.classList.remove(cls.state.focus); };\n\n  this.isRtl = get(element).direction === 'rtl';\n  this.isNegativeScroll = (function () {\n    var originalScrollLeft = element.scrollLeft;\n    var result = null;\n    element.scrollLeft = -1;\n    result = element.scrollLeft < 0;\n    element.scrollLeft = originalScrollLeft;\n    return result;\n  })();\n  this.negativeScrollAdjustment = this.isNegativeScroll\n    ? element.scrollWidth - element.clientWidth\n    : 0;\n  this.event = new EventManager();\n  this.ownerDocument = element.ownerDocument || document;\n\n  this.scrollbarXRail = div(cls.element.rail('x'));\n  element.appendChild(this.scrollbarXRail);\n  this.scrollbarX = div(cls.element.thumb('x'));\n  this.scrollbarXRail.appendChild(this.scrollbarX);\n  this.scrollbarX.setAttribute('tabindex', 0);\n  this.event.bind(this.scrollbarX, 'focus', focus);\n  this.event.bind(this.scrollbarX, 'blur', blur);\n  this.scrollbarXActive = null;\n  this.scrollbarXWidth = null;\n  this.scrollbarXLeft = null;\n  var railXStyle = get(this.scrollbarXRail);\n  this.scrollbarXBottom = parseInt(railXStyle.bottom, 10);\n  if (isNaN(this.scrollbarXBottom)) {\n    this.isScrollbarXUsingBottom = false;\n    this.scrollbarXTop = toInt(railXStyle.top);\n  } else {\n    this.isScrollbarXUsingBottom = true;\n  }\n  this.railBorderXWidth =\n    toInt(railXStyle.borderLeftWidth) + toInt(railXStyle.borderRightWidth);\n  // Set rail to display:block to calculate margins\n  set(this.scrollbarXRail, { display: 'block' });\n  this.railXMarginWidth =\n    toInt(railXStyle.marginLeft) + toInt(railXStyle.marginRight);\n  set(this.scrollbarXRail, { display: '' });\n  this.railXWidth = null;\n  this.railXRatio = null;\n\n  this.scrollbarYRail = div(cls.element.rail('y'));\n  element.appendChild(this.scrollbarYRail);\n  this.scrollbarY = div(cls.element.thumb('y'));\n  this.scrollbarYRail.appendChild(this.scrollbarY);\n  this.scrollbarY.setAttribute('tabindex', 0);\n  this.event.bind(this.scrollbarY, 'focus', focus);\n  this.event.bind(this.scrollbarY, 'blur', blur);\n  this.scrollbarYActive = null;\n  this.scrollbarYHeight = null;\n  this.scrollbarYTop = null;\n  var railYStyle = get(this.scrollbarYRail);\n  this.scrollbarYRight = parseInt(railYStyle.right, 10);\n  if (isNaN(this.scrollbarYRight)) {\n    this.isScrollbarYUsingRight = false;\n    this.scrollbarYLeft = toInt(railYStyle.left);\n  } else {\n    this.isScrollbarYUsingRight = true;\n  }\n  this.scrollbarYOuterWidth = this.isRtl ? outerWidth(this.scrollbarY) : null;\n  this.railBorderYWidth =\n    toInt(railYStyle.borderTopWidth) + toInt(railYStyle.borderBottomWidth);\n  set(this.scrollbarYRail, { display: 'block' });\n  this.railYMarginHeight =\n    toInt(railYStyle.marginTop) + toInt(railYStyle.marginBottom);\n  set(this.scrollbarYRail, { display: '' });\n  this.railYHeight = null;\n  this.railYRatio = null;\n\n  this.reach = {\n    x:\n      element.scrollLeft <= 0\n        ? 'start'\n        : element.scrollLeft >= this.contentWidth - this.containerWidth\n          ? 'end'\n          : null,\n    y:\n      element.scrollTop <= 0\n        ? 'start'\n        : element.scrollTop >= this.contentHeight - this.containerHeight\n          ? 'end'\n          : null,\n  };\n\n  this.isAlive = true;\n\n  this.settings.handlers.forEach(function (handlerName) { return handlers[handlerName](this$1); });\n\n  this.lastScrollTop = Math.floor(element.scrollTop); // for onScroll only\n  this.lastScrollLeft = element.scrollLeft; // for onScroll only\n  this.event.bind(this.element, 'scroll', function (e) { return this$1.onScroll(e); });\n  updateGeometry(this);\n};\n\nPerfectScrollbar.prototype.update = function update () {\n  if (!this.isAlive) {\n    return;\n  }\n\n  // Recalcuate negative scrollLeft adjustment\n  this.negativeScrollAdjustment = this.isNegativeScroll\n    ? this.element.scrollWidth - this.element.clientWidth\n    : 0;\n\n  // Recalculate rail margins\n  set(this.scrollbarXRail, { display: 'block' });\n  set(this.scrollbarYRail, { display: 'block' });\n  this.railXMarginWidth =\n    toInt(get(this.scrollbarXRail).marginLeft) +\n    toInt(get(this.scrollbarXRail).marginRight);\n  this.railYMarginHeight =\n    toInt(get(this.scrollbarYRail).marginTop) +\n    toInt(get(this.scrollbarYRail).marginBottom);\n\n  // Hide scrollbars not to affect scrollWidth and scrollHeight\n  set(this.scrollbarXRail, { display: 'none' });\n  set(this.scrollbarYRail, { display: 'none' });\n\n  updateGeometry(this);\n\n  processScrollDiff(this, 'top', 0, false, true);\n  processScrollDiff(this, 'left', 0, false, true);\n\n  set(this.scrollbarXRail, { display: '' });\n  set(this.scrollbarYRail, { display: '' });\n};\n\nPerfectScrollbar.prototype.onScroll = function onScroll (e) {\n  if (!this.isAlive) {\n    return;\n  }\n\n  updateGeometry(this);\n  processScrollDiff(this, 'top', this.element.scrollTop - this.lastScrollTop);\n  processScrollDiff(\n    this,\n    'left',\n    this.element.scrollLeft - this.lastScrollLeft\n  );\n\n  this.lastScrollTop = Math.floor(this.element.scrollTop);\n  this.lastScrollLeft = this.element.scrollLeft;\n};\n\nPerfectScrollbar.prototype.destroy = function destroy () {\n  if (!this.isAlive) {\n    return;\n  }\n\n  this.event.unbindAll();\n  remove(this.scrollbarX);\n  remove(this.scrollbarY);\n  remove(this.scrollbarXRail);\n  remove(this.scrollbarYRail);\n  this.removePsClasses();\n\n  // unset elements\n  this.element = null;\n  this.scrollbarX = null;\n  this.scrollbarY = null;\n  this.scrollbarXRail = null;\n  this.scrollbarYRail = null;\n\n  this.isAlive = false;\n};\n\nPerfectScrollbar.prototype.removePsClasses = function removePsClasses () {\n  this.element.className = this.element.className\n    .split(' ')\n    .filter(function (name) { return !name.match(/^ps([-_].+|)$/); })\n    .join(' ');\n};\n\nexport default PerfectScrollbar;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__12__;","module.exports = __WEBPACK_EXTERNAL_MODULE__16__;","module.exports = __WEBPACK_EXTERNAL_MODULE__17__;","module.exports = __WEBPACK_EXTERNAL_MODULE__18__;","module.exports = __WEBPACK_EXTERNAL_MODULE__19__;","module.exports = __WEBPACK_EXTERNAL_MODULE__20__;","module.exports = __WEBPACK_EXTERNAL_MODULE__21__;","module.exports = __WEBPACK_EXTERNAL_MODULE__22__;","module.exports = __WEBPACK_EXTERNAL_MODULE__23__;","module.exports = __WEBPACK_EXTERNAL_MODULE__24__;","define([\r\n  'jquery',\r\n  'lodash',\r\n  'angular',\r\n  'tether-drop',\r\n],\r\nfunction ($, _, angular, Drop) {\r\n  'use strict';\r\n\r\n  function createAnnotationToolip(element, event, plot) {\r\n    var injector = angular.element(document).injector();\r\n    var content = document.createElement('div');\r\n    content.innerHTML = '<annotation-tooltip event=\"event\" on-edit=\"onEdit()\"></annotation-tooltip>';\r\n\r\n    injector.invoke([\"$compile\", \"$rootScope\", function($compile, $rootScope) {\r\n      var eventManager = plot.getOptions().events.manager;\r\n      var tmpScope = $rootScope.$new(true);\r\n      tmpScope.event = event;\r\n      tmpScope.onEdit = function() {\r\n        eventManager.editEvent(event);\r\n      };\r\n\r\n      $compile(content)(tmpScope);\r\n      tmpScope.$digest();\r\n      tmpScope.$destroy();\r\n\r\n      var drop = new Drop({\r\n        target: element[0],\r\n        content: content,\r\n        position: \"bottom center\",\r\n        classes: 'drop-popover drop-popover--annotation',\r\n        openOn: 'hover',\r\n        hoverCloseDelay: 200,\r\n        tetherOptions: {\r\n          constraints: [{to: 'window', pin: true, attachment: \"both\"}]\r\n        }\r\n      });\r\n\r\n      drop.open();\r\n\r\n      drop.on('close', function() {\r\n        setTimeout(function() {\r\n          drop.destroy();\r\n        });\r\n      });\r\n    }]);\r\n  }\r\n\r\n  var markerElementToAttachTo = null;\r\n\r\n  function createEditPopover(element, event, plot) {\r\n    var eventManager = plot.getOptions().events.manager;\r\n    if (eventManager.editorOpen) {\r\n      // update marker element to attach to (needed in case of legend on the right\r\n      // when there is a double render pass and the inital marker element is removed)\r\n      markerElementToAttachTo = element;\r\n      return;\r\n    }\r\n\r\n    // mark as openend\r\n    eventManager.editorOpened();\r\n    // set marker elment to attache to\r\n    markerElementToAttachTo = element;\r\n\r\n    // wait for element to be attached and positioned\r\n    setTimeout(function() {\r\n\r\n      var injector = angular.element(document).injector();\r\n      var content = document.createElement('div');\r\n      content.innerHTML = '<event-editor panel-ctrl=\"panelCtrl\" event=\"event\" close=\"close()\"></event-editor>';\r\n\r\n      injector.invoke([\"$compile\", \"$rootScope\", function($compile, $rootScope) {\r\n        var scope = $rootScope.$new(true);\r\n        var drop;\r\n\r\n        scope.event = event;\r\n        scope.panelCtrl = eventManager.panelCtrl;\r\n        scope.close = function() {\r\n          drop.close();\r\n        };\r\n\r\n        $compile(content)(scope);\r\n        scope.$digest();\r\n\r\n        drop = new Drop({\r\n          target: markerElementToAttachTo[0],\r\n          content: content,\r\n          position: \"bottom center\",\r\n          classes: 'drop-popover drop-popover--form',\r\n          openOn: 'click',\r\n          tetherOptions: {\r\n            constraints: [{to: 'window', pin: true, attachment: \"both\"}]\r\n          }\r\n        });\r\n\r\n        drop.open();\r\n        eventManager.editorOpened();\r\n\r\n        drop.on('close', function() {\r\n          // need timeout here in order call drop.destroy\r\n          setTimeout(function() {\r\n            eventManager.editorClosed();\r\n            scope.$destroy();\r\n            drop.destroy();\r\n          });\r\n        });\r\n      }]);\r\n\r\n    }, 100);\r\n  }\r\n\r\n  /*\r\n   * jquery.flot.events\r\n   *\r\n   * description: Flot plugin for adding events/markers to the plot\r\n   * version: 0.2.5\r\n   * authors:\r\n   *    Alexander Wunschik <alex@wunschik.net>\r\n   *    Joel Oughton <joeloughton@gmail.com>\r\n   *    Nicolas Joseph <www.nicolasjoseph.com>\r\n   *\r\n   * website: https://github.com/mojoaxel/flot-events\r\n   *\r\n   * released under MIT License and GPLv2+\r\n   */\r\n\r\n  /**\r\n   * A class that allows for the drawing an remove of some object\r\n   */\r\n  var DrawableEvent = function(object, drawFunc, clearFunc, moveFunc, left, top, width, height) {\r\n    var _object = object;\r\n    var\t_drawFunc = drawFunc;\r\n    var\t_clearFunc = clearFunc;\r\n    var\t_moveFunc = moveFunc;\r\n    var\t_position = { left: left, top: top };\r\n    var\t_width = width;\r\n    var\t_height = height;\r\n\r\n    this.width = function() { return _width; };\r\n    this.height = function() { return _height; };\r\n    this.position = function() { return _position; };\r\n    this.draw = function() { _drawFunc(_object); };\r\n    this.clear = function() { _clearFunc(_object); };\r\n    this.getObject = function() { return _object; };\r\n    this.moveTo = function(position) {\r\n      _position = position;\r\n      _moveFunc(_object, _position);\r\n    };\r\n  };\r\n\r\n  /**\r\n   * Event class that stores options (eventType, min, max, title, description) and the object to draw.\r\n   */\r\n  var VisualEvent = function(options, drawableEvent) {\r\n    var _parent;\r\n    var _options = options;\r\n    var _drawableEvent = drawableEvent;\r\n    var _hidden = false;\r\n\r\n    this.visual = function() { return _drawableEvent; };\r\n    this.getOptions = function() { return _options; };\r\n    this.getParent = function() { return _parent; };\r\n    this.isHidden = function() { return _hidden; };\r\n    this.hide = function() { _hidden = true; };\r\n    this.unhide = function() { _hidden = false; };\r\n  };\r\n\r\n  /**\r\n   * A Class that handles the event-markers inside the given plot\r\n   */\r\n  var EventMarkers = function(plot) {\r\n    var _events = [];\r\n\r\n    this._types = [];\r\n    this._plot = plot;\r\n    this.eventsEnabled = false;\r\n\r\n    this.getEvents = function() {\r\n      return _events;\r\n    };\r\n\r\n    this.setTypes = function(types) {\r\n      return this._types = types;\r\n    };\r\n\r\n    /**\r\n     * create internal objects for the given events\r\n     */\r\n    this.setupEvents = function(events) {\r\n      var that = this;\r\n      var parts = _.partition(events, 'isRegion');\r\n      var regions = parts[0];\r\n      events = parts[1];\r\n\r\n      $.each(events, function(index, event) {\r\n        var ve = new VisualEvent(event, that._buildDiv(event));\r\n        _events.push(ve);\r\n      });\r\n\r\n      $.each(regions, function (index, event) {\r\n        var vre = new VisualEvent(event, that._buildRegDiv(event));\r\n        _events.push(vre);\r\n      });\r\n\r\n      _events.sort(function(a, b) {\r\n        var ao = a.getOptions(), bo = b.getOptions();\r\n        if (ao.min > bo.min) { return 1; }\r\n        if (ao.min < bo.min) { return -1; }\r\n        return 0;\r\n      });\r\n    };\r\n\r\n    /**\r\n     * draw the events to the plot\r\n     */\r\n    this.drawEvents = function() {\r\n      var that = this;\r\n      // var o = this._plot.getPlotOffset();\r\n\r\n      $.each(_events, function(index, event) {\r\n        // check event is inside the graph range\r\n        if (that._insidePlot(event.getOptions().min) && !event.isHidden()) {\r\n          event.visual().draw();\r\n        }  else {\r\n          event.visual().getObject().hide();\r\n        }\r\n      });\r\n    };\r\n\r\n    /**\r\n     * update the position of the event-markers (e.g. after scrolling or zooming)\r\n     */\r\n    this.updateEvents = function() {\r\n      var that = this;\r\n      var o = this._plot.getPlotOffset(), left, top;\r\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\r\n\r\n      $.each(_events, function(index, event) {\r\n        top = o.top + that._plot.height() - event.visual().height();\r\n        left = xaxis.p2c(event.getOptions().min) + o.left - event.visual().width() / 2;\r\n        event.visual().moveTo({ top: top, left: left });\r\n      });\r\n    };\r\n\r\n    /**\r\n     * remove all events from the plot\r\n     */\r\n    this._clearEvents = function() {\r\n      $.each(_events, function(index, val) {\r\n        val.visual().clear();\r\n      });\r\n      _events = [];\r\n    };\r\n\r\n    /**\r\n     * create a DOM element for the given event\r\n     */\r\n    this._buildDiv = function(event) {\r\n      var that = this;\r\n\r\n      var container = this._plot.getPlaceholder();\r\n      var o = this._plot.getPlotOffset();\r\n      var axes = this._plot.getAxes();\r\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\r\n      var yaxis, top, left, color, markerSize, markerShow, lineStyle, lineWidth;\r\n      var markerTooltip;\r\n\r\n      // determine the y axis used\r\n      if (axes.yaxis && axes.yaxis.used) { yaxis = axes.yaxis; }\r\n      if (axes.yaxis2 && axes.yaxis2.used) { yaxis = axes.yaxis2; }\r\n\r\n      // map the eventType to a types object\r\n      var eventTypeId = event.eventType;\r\n\r\n      if (this._types === null || !this._types[eventTypeId] || !this._types[eventTypeId].color) {\r\n        color = '#666';\r\n      } else {\r\n        color = this._types[eventTypeId].color;\r\n      }\r\n\r\n      if (this._types === null || !this._types[eventTypeId] || !this._types[eventTypeId].markerSize) {\r\n        markerSize = 8; //default marker size\r\n      } else {\r\n        markerSize = this._types[eventTypeId].markerSize;\r\n      }\r\n\r\n      if (this._types === null || !this._types[eventTypeId] || this._types[eventTypeId].markerShow === undefined) {\r\n        markerShow = true;\r\n      } else {\r\n        markerShow = this._types[eventTypeId].markerShow;\r\n      }\r\n\r\n      if (this._types === null || !this._types[eventTypeId] || this._types[eventTypeId].markerTooltip === undefined) {\r\n        markerTooltip = true;\r\n      } else {\r\n        markerTooltip = this._types[eventTypeId].markerTooltip;\r\n      }\r\n\r\n      if (this._types == null || !this._types[eventTypeId] || !this._types[eventTypeId].lineStyle) {\r\n        lineStyle = 'dashed'; //default line style\r\n      } else {\r\n        lineStyle = this._types[eventTypeId].lineStyle.toLowerCase();\r\n      }\r\n\r\n      if (this._types == null || !this._types[eventTypeId] || this._types[eventTypeId].lineWidth === undefined) {\r\n        lineWidth = 1; //default line width\r\n      } else {\r\n        lineWidth = this._types[eventTypeId].lineWidth;\r\n      }\r\n\r\n      var topOffset = xaxis.options.eventSectionHeight || 0;\r\n      topOffset = topOffset / 3;\r\n\r\n      top = o.top + this._plot.height() + topOffset;\r\n      left = xaxis.p2c(event.min) + o.left;\r\n\r\n      var line = $('<div class=\"events_line flot-temp-elem\"></div>').css({\r\n        \"position\": \"absolute\",\r\n        \"opacity\": 0.8,\r\n        \"left\": left + 'px',\r\n        \"top\": 8,\r\n        \"width\": lineWidth + \"px\",\r\n        \"height\": this._plot.height() + topOffset * 0.8,\r\n        \"border-left-width\": lineWidth + \"px\",\r\n        \"border-left-style\": lineStyle,\r\n        \"border-left-color\": color,\r\n        \"color\": color\r\n      })\r\n      .appendTo(container);\r\n\r\n      if (markerShow) {\r\n        var marker = $('<div class=\"events_marker\"></div>').css({\r\n          \"position\": \"absolute\",\r\n          \"left\": (-markerSize - Math.round(lineWidth / 2)) + \"px\",\r\n          \"font-size\": 0,\r\n          \"line-height\": 0,\r\n          \"width\": 0,\r\n          \"height\": 0,\r\n          \"border-left\": markerSize+\"px solid transparent\",\r\n          \"border-right\": markerSize+\"px solid transparent\"\r\n        });\r\n\r\n        marker.appendTo(line);\r\n\r\n        if (this._types[eventTypeId] && this._types[eventTypeId].position && this._types[eventTypeId].position.toUpperCase() === 'BOTTOM') {\r\n          marker.css({\r\n            \"top\": top-markerSize-8 +\"px\",\r\n            \"border-top\": \"none\",\r\n            \"border-bottom\": markerSize+\"px solid \" + color\r\n          });\r\n        } else {\r\n          marker.css({\r\n            \"top\": \"0px\",\r\n            \"border-top\": markerSize+\"px solid \" + color,\r\n            \"border-bottom\": \"none\"\r\n          });\r\n        }\r\n\r\n        marker.data({\r\n          \"event\": event\r\n        });\r\n\r\n        var mouseenter = function() {\r\n          createAnnotationToolip(marker, $(this).data(\"event\"), that._plot);\r\n        };\r\n\r\n        if (event.editModel) {\r\n          createEditPopover(marker, event.editModel, that._plot);\r\n        }\r\n\r\n        var mouseleave = function() {\r\n          that._plot.clearSelection();\r\n        };\r\n\r\n        if (markerTooltip) {\r\n          marker.css({ \"cursor\": \"help\" });\r\n          marker.hover(mouseenter, mouseleave);\r\n        }\r\n      }\r\n\r\n      var drawableEvent = new DrawableEvent(\r\n        line,\r\n        function drawFunc(obj) { obj.show(); },\r\n        function(obj) { obj.remove(); },\r\n        function(obj, position) {\r\n          obj.css({\r\n            top: position.top,\r\n            left: position.left\r\n          });\r\n        },\r\n        left,\r\n        top,\r\n        line.width(),\r\n        line.height()\r\n      );\r\n\r\n      return drawableEvent;\r\n    };\r\n\r\n    /**\r\n     * create a DOM element for the given region\r\n     */\r\n    this._buildRegDiv = function (event) {\r\n      var that = this;\r\n\r\n      var container = this._plot.getPlaceholder();\r\n      var o = this._plot.getPlotOffset();\r\n      var axes = this._plot.getAxes();\r\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\r\n      var yaxis, top, left, lineWidth, regionWidth, lineStyle, color, markerTooltip;\r\n\r\n      // determine the y axis used\r\n      if (axes.yaxis && axes.yaxis.used) { yaxis = axes.yaxis; }\r\n      if (axes.yaxis2 && axes.yaxis2.used) { yaxis = axes.yaxis2; }\r\n\r\n      // map the eventType to a types object\r\n      var eventTypeId = event.eventType;\r\n\r\n      if (this._types === null || !this._types[eventTypeId] || !this._types[eventTypeId].color) {\r\n        color = '#666';\r\n      } else {\r\n        color = this._types[eventTypeId].color;\r\n      }\r\n\r\n      if (this._types === null || !this._types[eventTypeId] || this._types[eventTypeId].markerTooltip === undefined) {\r\n        markerTooltip = true;\r\n      } else {\r\n        markerTooltip = this._types[eventTypeId].markerTooltip;\r\n      }\r\n\r\n      if (this._types == null || !this._types[eventTypeId] || this._types[eventTypeId].lineWidth === undefined) {\r\n        lineWidth = 1; //default line width\r\n      } else {\r\n        lineWidth = this._types[eventTypeId].lineWidth;\r\n      }\r\n\r\n      if (this._types == null || !this._types[eventTypeId] || !this._types[eventTypeId].lineStyle) {\r\n        lineStyle = 'dashed'; //default line style\r\n      } else {\r\n        lineStyle = this._types[eventTypeId].lineStyle.toLowerCase();\r\n      }\r\n\r\n      var topOffset = 2;\r\n      top = o.top + this._plot.height() + topOffset;\r\n\r\n      var timeFrom = Math.min(event.min, event.timeEnd);\r\n      var timeTo = Math.max(event.min, event.timeEnd);\r\n      left = xaxis.p2c(timeFrom) + o.left;\r\n      var right = xaxis.p2c(timeTo) + o.left;\r\n      regionWidth = right - left;\r\n\r\n      _.each([left, right], function(position) {\r\n        var line = $('<div class=\"events_line flot-temp-elem\"></div>').css({\r\n          \"position\": \"absolute\",\r\n          \"opacity\": 0.8,\r\n          \"left\": position + 'px',\r\n          \"top\": 8,\r\n          \"width\": lineWidth + \"px\",\r\n          \"height\": that._plot.height() + topOffset,\r\n          \"border-left-width\": lineWidth + \"px\",\r\n          \"border-left-style\": lineStyle,\r\n          \"border-left-color\": color,\r\n          \"color\": color\r\n        });\r\n        line.appendTo(container);\r\n      });\r\n\r\n      var region = $('<div class=\"events_marker region_marker flot-temp-elem\"></div>').css({\r\n        \"position\": \"absolute\",\r\n        \"opacity\": 0.5,\r\n        \"left\": left + 'px',\r\n        \"top\": top,\r\n        \"width\": Math.round(regionWidth + lineWidth) + \"px\",\r\n        \"height\": \"0.5rem\",\r\n        \"border-left-color\": color,\r\n        \"color\": color,\r\n        \"background-color\": color\r\n      });\r\n      region.appendTo(container);\r\n\r\n      region.data({\r\n        \"event\": event\r\n      });\r\n\r\n      var mouseenter = function () {\r\n        createAnnotationToolip(region, $(this).data(\"event\"), that._plot);\r\n      };\r\n\r\n      if (event.editModel) {\r\n        createEditPopover(region, event.editModel, that._plot);\r\n      }\r\n\r\n      var mouseleave = function () {\r\n        that._plot.clearSelection();\r\n      };\r\n\r\n      if (markerTooltip) {\r\n        region.css({ \"cursor\": \"help\" });\r\n        region.hover(mouseenter, mouseleave);\r\n      }\r\n\r\n      var drawableEvent = new DrawableEvent(\r\n        region,\r\n        function drawFunc(obj) { obj.show(); },\r\n        function (obj) { obj.remove(); },\r\n        function (obj, position) {\r\n          obj.css({\r\n            top: position.top,\r\n            left: position.left\r\n          });\r\n        },\r\n        left,\r\n        top,\r\n        region.width(),\r\n        region.height()\r\n      );\r\n\r\n      return drawableEvent;\r\n    };\r\n\r\n    /**\r\n     * check if the event is inside visible range\r\n     */\r\n    this._insidePlot = function(x) {\r\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\r\n      var xc = xaxis.p2c(x);\r\n      return xc > 0 && xc < xaxis.p2c(xaxis.max);\r\n    };\r\n  };\r\n\r\n  /**\r\n   * initialize the plugin for the given plot\r\n   */\r\n  function init(plot) {\r\n    /*jshint validthis:true */\r\n    var that = this;\r\n    var eventMarkers = new EventMarkers(plot);\r\n\r\n    plot.getEvents = function() {\r\n      return eventMarkers._events;\r\n    };\r\n\r\n    plot.hideEvents = function() {\r\n      $.each(eventMarkers._events, function(index, event) {\r\n        event.visual().getObject().hide();\r\n      });\r\n    };\r\n\r\n    plot.showEvents = function() {\r\n      plot.hideEvents();\r\n      $.each(eventMarkers._events, function(index, event) {\r\n        event.hide();\r\n      });\r\n\r\n      that.eventMarkers.drawEvents();\r\n    };\r\n\r\n    // change events on an existing plot\r\n    plot.setEvents = function(events) {\r\n      if (eventMarkers.eventsEnabled) {\r\n        eventMarkers.setupEvents(events);\r\n      }\r\n    };\r\n\r\n    plot.hooks.processOptions.push(function(plot, options) {\r\n      // enable the plugin\r\n      if (options.events.data != null) {\r\n        eventMarkers.eventsEnabled = true;\r\n      }\r\n    });\r\n\r\n    plot.hooks.draw.push(function(plot) {\r\n      var options = plot.getOptions();\r\n\r\n      if (eventMarkers.eventsEnabled) {\r\n        // check for first run\r\n        if (eventMarkers.getEvents().length < 1) {\r\n          eventMarkers.setTypes(options.events.types);\r\n          eventMarkers.setupEvents(options.events.data);\r\n        } else {\r\n          eventMarkers.updateEvents();\r\n        }\r\n      }\r\n\r\n      eventMarkers.drawEvents();\r\n    });\r\n  }\r\n\r\n  var defaultOptions = {\r\n    events: {\r\n      data: null,\r\n      types: null,\r\n      xaxis: 1,\r\n      position: 'BOTTOM'\r\n    }\r\n  };\r\n\r\n  $.plot.plugins.push({\r\n    init: init,\r\n    options: defaultOptions,\r\n    name: \"events\",\r\n    version: \"0.2.5\"\r\n  });\r\n});\r\n","/*! tether-drop 1.4.1 */\n\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([\"tether\"], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require('tether'));\n  } else {\n    root.Drop = factory(root.Tether);\n  }\n}(this, function(Tether) {\n\n/* global Tether */\n'use strict';\n\nvar _bind = Function.prototype.bind;\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _Tether$Utils = Tether.Utils;\nvar extend = _Tether$Utils.extend;\nvar addClass = _Tether$Utils.addClass;\nvar removeClass = _Tether$Utils.removeClass;\nvar hasClass = _Tether$Utils.hasClass;\nvar Evented = _Tether$Utils.Evented;\n\nfunction sortAttach(str) {\n  var _str$split = str.split(' ');\n\n  var _str$split2 = _slicedToArray(_str$split, 2);\n\n  var first = _str$split2[0];\n  var second = _str$split2[1];\n\n  if (['left', 'right'].indexOf(first) >= 0) {\n    var _ref = [second, first];\n    first = _ref[0];\n    second = _ref[1];\n  }\n  return [first, second].join(' ');\n}\n\nfunction removeFromArray(arr, item) {\n  var index = undefined;\n  var results = [];\n  while ((index = arr.indexOf(item)) !== -1) {\n    results.push(arr.splice(index, 1));\n  }\n  return results;\n}\n\nvar clickEvents = ['click'];\nif ('ontouchstart' in document.documentElement) {\n  clickEvents.push('touchstart');\n}\n\nvar transitionEndEvents = {\n  'WebkitTransition': 'webkitTransitionEnd',\n  'MozTransition': 'transitionend',\n  'OTransition': 'otransitionend',\n  'transition': 'transitionend'\n};\n\nvar transitionEndEvent = '';\nfor (var _name in transitionEndEvents) {\n  if (({}).hasOwnProperty.call(transitionEndEvents, _name)) {\n    var tempEl = document.createElement('p');\n    if (typeof tempEl.style[_name] !== 'undefined') {\n      transitionEndEvent = transitionEndEvents[_name];\n    }\n  }\n}\n\nvar MIRROR_ATTACH = {\n  left: 'right',\n  right: 'left',\n  top: 'bottom',\n  bottom: 'top',\n  middle: 'middle',\n  center: 'center'\n};\n\nvar allDrops = {};\n\n// Drop can be included in external libraries.  Calling createContext gives you a fresh\n// copy of drop which won't interact with other copies on the page (beyond calling the document events).\n\nfunction createContext() {\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  var drop = function drop() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return new (_bind.apply(DropInstance, [null].concat(args)))();\n  };\n\n  extend(drop, {\n    createContext: createContext,\n    drops: [],\n    defaults: {}\n  });\n\n  var defaultOptions = {\n    classPrefix: 'drop',\n    defaults: {\n      position: 'bottom left',\n      openOn: 'click',\n      beforeClose: null,\n      constrainToScrollParent: true,\n      constrainToWindow: true,\n      classes: '',\n      remove: false,\n      openDelay: 0,\n      closeDelay: 50,\n      // inherited from openDelay and closeDelay if not explicitly defined\n      focusDelay: null,\n      blurDelay: null,\n      hoverOpenDelay: null,\n      hoverCloseDelay: null,\n      tetherOptions: {}\n    }\n  };\n\n  extend(drop, defaultOptions, options);\n  extend(drop.defaults, defaultOptions.defaults, options.defaults);\n\n  if (typeof allDrops[drop.classPrefix] === 'undefined') {\n    allDrops[drop.classPrefix] = [];\n  }\n\n  drop.updateBodyClasses = function () {\n    // There is only one body, so despite the context concept, we still iterate through all\n    // drops which share our classPrefix.\n\n    var anyOpen = false;\n    var drops = allDrops[drop.classPrefix];\n    var len = drops.length;\n    for (var i = 0; i < len; ++i) {\n      if (drops[i].isOpened()) {\n        anyOpen = true;\n        break;\n      }\n    }\n\n    if (anyOpen) {\n      addClass(document.body, drop.classPrefix + '-open');\n    } else {\n      removeClass(document.body, drop.classPrefix + '-open');\n    }\n  };\n\n  var DropInstance = (function (_Evented) {\n    _inherits(DropInstance, _Evented);\n\n    function DropInstance(opts) {\n      _classCallCheck(this, DropInstance);\n\n      _get(Object.getPrototypeOf(DropInstance.prototype), 'constructor', this).call(this);\n      this.options = extend({}, drop.defaults, opts);\n      this.target = this.options.target;\n\n      if (typeof this.target === 'undefined') {\n        throw new Error('Drop Error: You must provide a target.');\n      }\n\n      var dataPrefix = 'data-' + drop.classPrefix;\n\n      var contentAttr = this.target.getAttribute(dataPrefix);\n      if (contentAttr && this.options.content == null) {\n        this.options.content = contentAttr;\n      }\n\n      var attrsOverride = ['position', 'openOn'];\n      for (var i = 0; i < attrsOverride.length; ++i) {\n\n        var override = this.target.getAttribute(dataPrefix + '-' + attrsOverride[i]);\n        if (override && this.options[attrsOverride[i]] == null) {\n          this.options[attrsOverride[i]] = override;\n        }\n      }\n\n      if (this.options.classes && this.options.addTargetClasses !== false) {\n        addClass(this.target, this.options.classes);\n      }\n\n      drop.drops.push(this);\n      allDrops[drop.classPrefix].push(this);\n\n      this._boundEvents = [];\n      this.bindMethods();\n      this.setupElements();\n      this.setupEvents();\n      this.setupTether();\n    }\n\n    _createClass(DropInstance, [{\n      key: '_on',\n      value: function _on(element, event, handler) {\n        this._boundEvents.push({ element: element, event: event, handler: handler });\n        element.addEventListener(event, handler);\n      }\n    }, {\n      key: 'bindMethods',\n      value: function bindMethods() {\n        this.transitionEndHandler = this._transitionEndHandler.bind(this);\n      }\n    }, {\n      key: 'setupElements',\n      value: function setupElements() {\n        var _this = this;\n\n        this.drop = document.createElement('div');\n        addClass(this.drop, drop.classPrefix);\n\n        if (this.options.classes) {\n          addClass(this.drop, this.options.classes);\n        }\n\n        this.content = document.createElement('div');\n        addClass(this.content, drop.classPrefix + '-content');\n\n        if (typeof this.options.content === 'function') {\n          var generateAndSetContent = function generateAndSetContent() {\n            // content function might return a string or an element\n            var contentElementOrHTML = _this.options.content.call(_this, _this);\n\n            if (typeof contentElementOrHTML === 'string') {\n              _this.content.innerHTML = contentElementOrHTML;\n            } else if (typeof contentElementOrHTML === 'object') {\n              _this.content.innerHTML = '';\n              _this.content.appendChild(contentElementOrHTML);\n            } else {\n              throw new Error('Drop Error: Content function should return a string or HTMLElement.');\n            }\n          };\n\n          generateAndSetContent();\n          this.on('open', generateAndSetContent.bind(this));\n        } else if (typeof this.options.content === 'object') {\n          this.content.appendChild(this.options.content);\n        } else {\n          this.content.innerHTML = this.options.content;\n        }\n\n        this.drop.appendChild(this.content);\n      }\n    }, {\n      key: 'setupTether',\n      value: function setupTether() {\n        // Tether expects two attachment points, one in the target element, one in the\n        // drop.  We use a single one, and use the order as well, to allow us to put\n        // the drop on either side of any of the four corners.  This magic converts between\n        // the two:\n        var dropAttach = this.options.position.split(' ');\n        dropAttach[0] = MIRROR_ATTACH[dropAttach[0]];\n        dropAttach = dropAttach.join(' ');\n\n        var constraints = [];\n        if (this.options.constrainToScrollParent) {\n          constraints.push({\n            to: 'scrollParent',\n            pin: 'top, bottom',\n            attachment: 'together none'\n          });\n        } else {\n          // To get 'out of bounds' classes\n          constraints.push({\n            to: 'scrollParent'\n          });\n        }\n\n        if (this.options.constrainToWindow !== false) {\n          constraints.push({\n            to: 'window',\n            attachment: 'together'\n          });\n        } else {\n          // To get 'out of bounds' classes\n          constraints.push({\n            to: 'window'\n          });\n        }\n\n        var opts = {\n          element: this.drop,\n          target: this.target,\n          attachment: sortAttach(dropAttach),\n          targetAttachment: sortAttach(this.options.position),\n          classPrefix: drop.classPrefix,\n          offset: '0 0',\n          targetOffset: '0 0',\n          enabled: false,\n          constraints: constraints,\n          addTargetClasses: this.options.addTargetClasses\n        };\n\n        if (this.options.tetherOptions !== false) {\n          this.tether = new Tether(extend({}, opts, this.options.tetherOptions));\n        }\n      }\n    }, {\n      key: 'setupEvents',\n      value: function setupEvents() {\n        var _this2 = this;\n\n        if (!this.options.openOn) {\n          return;\n        }\n\n        if (this.options.openOn === 'always') {\n          setTimeout(this.open.bind(this));\n          return;\n        }\n\n        var events = this.options.openOn.split(' ');\n\n        if (events.indexOf('click') >= 0) {\n          var openHandler = function openHandler(event) {\n            _this2.toggle(event);\n            event.preventDefault();\n          };\n\n          var closeHandler = function closeHandler(event) {\n            if (!_this2.isOpened()) {\n              return;\n            }\n\n            // Clicking inside dropdown\n            if (event.target === _this2.drop || _this2.drop.contains(event.target)) {\n              return;\n            }\n\n            // Clicking target\n            if (event.target === _this2.target || _this2.target.contains(event.target)) {\n              return;\n            }\n\n            _this2.close(event);\n          };\n\n          for (var i = 0; i < clickEvents.length; ++i) {\n            var clickEvent = clickEvents[i];\n            this._on(this.target, clickEvent, openHandler);\n            this._on(document, clickEvent, closeHandler);\n          }\n        }\n\n        var inTimeout = null;\n        var outTimeout = null;\n\n        var inHandler = function inHandler(event) {\n          if (outTimeout !== null) {\n            clearTimeout(outTimeout);\n          } else {\n            inTimeout = setTimeout(function () {\n              _this2.open(event);\n              inTimeout = null;\n            }, (event.type === 'focus' ? _this2.options.focusDelay : _this2.options.hoverOpenDelay) || _this2.options.openDelay);\n          }\n        };\n\n        var outHandler = function outHandler(event) {\n          if (inTimeout !== null) {\n            clearTimeout(inTimeout);\n          } else {\n            outTimeout = setTimeout(function () {\n              _this2.close(event);\n              outTimeout = null;\n            }, (event.type === 'blur' ? _this2.options.blurDelay : _this2.options.hoverCloseDelay) || _this2.options.closeDelay);\n          }\n        };\n\n        if (events.indexOf('hover') >= 0) {\n          this._on(this.target, 'mouseover', inHandler);\n          this._on(this.drop, 'mouseover', inHandler);\n          this._on(this.target, 'mouseout', outHandler);\n          this._on(this.drop, 'mouseout', outHandler);\n        }\n\n        if (events.indexOf('focus') >= 0) {\n          this._on(this.target, 'focus', inHandler);\n          this._on(this.drop, 'focus', inHandler);\n          this._on(this.target, 'blur', outHandler);\n          this._on(this.drop, 'blur', outHandler);\n        }\n      }\n    }, {\n      key: 'isOpened',\n      value: function isOpened() {\n        if (this.drop) {\n          return hasClass(this.drop, drop.classPrefix + '-open');\n        }\n      }\n    }, {\n      key: 'toggle',\n      value: function toggle(event) {\n        if (this.isOpened()) {\n          this.close(event);\n        } else {\n          this.open(event);\n        }\n      }\n    }, {\n      key: 'open',\n      value: function open(event) {\n        var _this3 = this;\n\n        /* eslint no-unused-vars: 0 */\n        if (this.isOpened()) {\n          return;\n        }\n\n        if (!this.drop.parentNode) {\n          document.body.appendChild(this.drop);\n        }\n\n        if (typeof this.tether !== 'undefined') {\n          this.tether.enable();\n        }\n\n        addClass(this.drop, drop.classPrefix + '-open');\n        addClass(this.drop, drop.classPrefix + '-open-transitionend');\n\n        setTimeout(function () {\n          if (_this3.drop) {\n            addClass(_this3.drop, drop.classPrefix + '-after-open');\n          }\n        });\n\n        if (typeof this.tether !== 'undefined') {\n          this.tether.position();\n        }\n\n        this.trigger('open');\n\n        drop.updateBodyClasses();\n      }\n    }, {\n      key: '_transitionEndHandler',\n      value: function _transitionEndHandler(e) {\n        if (e.target !== e.currentTarget) {\n          return;\n        }\n\n        if (!hasClass(this.drop, drop.classPrefix + '-open')) {\n          removeClass(this.drop, drop.classPrefix + '-open-transitionend');\n        }\n        this.drop.removeEventListener(transitionEndEvent, this.transitionEndHandler);\n      }\n    }, {\n      key: 'beforeCloseHandler',\n      value: function beforeCloseHandler(event) {\n        var shouldClose = true;\n\n        if (!this.isClosing && typeof this.options.beforeClose === 'function') {\n          this.isClosing = true;\n          shouldClose = this.options.beforeClose(event, this) !== false;\n        }\n\n        this.isClosing = false;\n\n        return shouldClose;\n      }\n    }, {\n      key: 'close',\n      value: function close(event) {\n        if (!this.isOpened()) {\n          return;\n        }\n\n        if (!this.beforeCloseHandler(event)) {\n          return;\n        }\n\n        removeClass(this.drop, drop.classPrefix + '-open');\n        removeClass(this.drop, drop.classPrefix + '-after-open');\n\n        this.drop.addEventListener(transitionEndEvent, this.transitionEndHandler);\n\n        this.trigger('close');\n\n        if (typeof this.tether !== 'undefined') {\n          this.tether.disable();\n        }\n\n        drop.updateBodyClasses();\n\n        if (this.options.remove) {\n          this.remove(event);\n        }\n      }\n    }, {\n      key: 'remove',\n      value: function remove(event) {\n        this.close(event);\n        if (this.drop.parentNode) {\n          this.drop.parentNode.removeChild(this.drop);\n        }\n      }\n    }, {\n      key: 'position',\n      value: function position() {\n        if (this.isOpened() && typeof this.tether !== 'undefined') {\n          this.tether.position();\n        }\n      }\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.remove();\n\n        if (typeof this.tether !== 'undefined') {\n          this.tether.destroy();\n        }\n\n        for (var i = 0; i < this._boundEvents.length; ++i) {\n          var _boundEvents$i = this._boundEvents[i];\n          var element = _boundEvents$i.element;\n          var _event = _boundEvents$i.event;\n          var handler = _boundEvents$i.handler;\n\n          element.removeEventListener(_event, handler);\n        }\n\n        this._boundEvents = [];\n\n        this.tether = null;\n        this.drop = null;\n        this.content = null;\n        this.target = null;\n\n        removeFromArray(allDrops[drop.classPrefix], this);\n        removeFromArray(drop.drops, this);\n      }\n    }]);\n\n    return DropInstance;\n  })(Evented);\n\n  return drop;\n}\n\nvar Drop = createContext();\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  Drop.updateBodyClasses();\n});\nreturn Drop;\n\n}));\n","/*! tether 1.4.4 */\n\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.Tether = factory();\n  }\n}(this, function() {\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar TetherBase = undefined;\nif (typeof TetherBase === 'undefined') {\n  TetherBase = { modules: [] };\n}\n\nvar zeroElement = null;\n\n// Same as native getBoundingClientRect, except it takes into account parent <frame> offsets\n// if the element lies within a nested document (<frame> or <iframe>-like).\nfunction getActualBoundingClientRect(node) {\n  var boundingRect = node.getBoundingClientRect();\n\n  // The original object returned by getBoundingClientRect is immutable, so we clone it\n  // We can't use extend because the properties are not considered part of the object by hasOwnProperty in IE9\n  var rect = {};\n  for (var k in boundingRect) {\n    rect[k] = boundingRect[k];\n  }\n\n  if (node.ownerDocument !== document) {\n    var _frameElement = node.ownerDocument.defaultView.frameElement;\n    if (_frameElement) {\n      var frameRect = getActualBoundingClientRect(_frameElement);\n      rect.top += frameRect.top;\n      rect.bottom += frameRect.top;\n      rect.left += frameRect.left;\n      rect.right += frameRect.left;\n    }\n  }\n\n  return rect;\n}\n\nfunction getScrollParents(el) {\n  // In firefox if the el is inside an iframe with display: none; window.getComputedStyle() will return null;\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n  var computedStyle = getComputedStyle(el) || {};\n  var position = computedStyle.position;\n  var parents = [];\n\n  if (position === 'fixed') {\n    return [el];\n  }\n\n  var parent = el;\n  while ((parent = parent.parentNode) && parent && parent.nodeType === 1) {\n    var style = undefined;\n    try {\n      style = getComputedStyle(parent);\n    } catch (err) {}\n\n    if (typeof style === 'undefined' || style === null) {\n      parents.push(parent);\n      return parents;\n    }\n\n    var _style = style;\n    var overflow = _style.overflow;\n    var overflowX = _style.overflowX;\n    var overflowY = _style.overflowY;\n\n    if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n      if (position !== 'absolute' || ['relative', 'absolute', 'fixed'].indexOf(style.position) >= 0) {\n        parents.push(parent);\n      }\n    }\n  }\n\n  parents.push(el.ownerDocument.body);\n\n  // If the node is within a frame, account for the parent window scroll\n  if (el.ownerDocument !== document) {\n    parents.push(el.ownerDocument.defaultView);\n  }\n\n  return parents;\n}\n\nvar uniqueId = (function () {\n  var id = 0;\n  return function () {\n    return ++id;\n  };\n})();\n\nvar zeroPosCache = {};\nvar getOrigin = function getOrigin() {\n  // getBoundingClientRect is unfortunately too accurate.  It introduces a pixel or two of\n  // jitter as the user scrolls that messes with our ability to detect if two positions\n  // are equivilant or not.  We place an element at the top left of the page that will\n  // get the same jitter, so we can cancel the two out.\n  var node = zeroElement;\n  if (!node || !document.body.contains(node)) {\n    node = document.createElement('div');\n    node.setAttribute('data-tether-id', uniqueId());\n    extend(node.style, {\n      top: 0,\n      left: 0,\n      position: 'absolute'\n    });\n\n    document.body.appendChild(node);\n\n    zeroElement = node;\n  }\n\n  var id = node.getAttribute('data-tether-id');\n  if (typeof zeroPosCache[id] === 'undefined') {\n    zeroPosCache[id] = getActualBoundingClientRect(node);\n\n    // Clear the cache when this position call is done\n    defer(function () {\n      delete zeroPosCache[id];\n    });\n  }\n\n  return zeroPosCache[id];\n};\n\nfunction removeUtilElements() {\n  if (zeroElement) {\n    document.body.removeChild(zeroElement);\n  }\n  zeroElement = null;\n};\n\nfunction getBounds(el) {\n  var doc = undefined;\n  if (el === document) {\n    doc = document;\n    el = document.documentElement;\n  } else {\n    doc = el.ownerDocument;\n  }\n\n  var docEl = doc.documentElement;\n\n  var box = getActualBoundingClientRect(el);\n\n  var origin = getOrigin();\n\n  box.top -= origin.top;\n  box.left -= origin.left;\n\n  if (typeof box.width === 'undefined') {\n    box.width = document.body.scrollWidth - box.left - box.right;\n  }\n  if (typeof box.height === 'undefined') {\n    box.height = document.body.scrollHeight - box.top - box.bottom;\n  }\n\n  box.top = box.top - docEl.clientTop;\n  box.left = box.left - docEl.clientLeft;\n  box.right = doc.body.clientWidth - box.width - box.left;\n  box.bottom = doc.body.clientHeight - box.height - box.top;\n\n  return box;\n}\n\nfunction getOffsetParent(el) {\n  return el.offsetParent || document.documentElement;\n}\n\nvar _scrollBarSize = null;\nfunction getScrollBarSize() {\n  if (_scrollBarSize) {\n    return _scrollBarSize;\n  }\n  var inner = document.createElement('div');\n  inner.style.width = '100%';\n  inner.style.height = '200px';\n\n  var outer = document.createElement('div');\n  extend(outer.style, {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    pointerEvents: 'none',\n    visibility: 'hidden',\n    width: '200px',\n    height: '150px',\n    overflow: 'hidden'\n  });\n\n  outer.appendChild(inner);\n\n  document.body.appendChild(outer);\n\n  var widthContained = inner.offsetWidth;\n  outer.style.overflow = 'scroll';\n  var widthScroll = inner.offsetWidth;\n\n  if (widthContained === widthScroll) {\n    widthScroll = outer.clientWidth;\n  }\n\n  document.body.removeChild(outer);\n\n  var width = widthContained - widthScroll;\n\n  _scrollBarSize = { width: width, height: width };\n  return _scrollBarSize;\n}\n\nfunction extend() {\n  var out = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  var args = [];\n\n  Array.prototype.push.apply(args, arguments);\n\n  args.slice(1).forEach(function (obj) {\n    if (obj) {\n      for (var key in obj) {\n        if (({}).hasOwnProperty.call(obj, key)) {\n          out[key] = obj[key];\n        }\n      }\n    }\n  });\n\n  return out;\n}\n\nfunction removeClass(el, name) {\n  if (typeof el.classList !== 'undefined') {\n    name.split(' ').forEach(function (cls) {\n      if (cls.trim()) {\n        el.classList.remove(cls);\n      }\n    });\n  } else {\n    var regex = new RegExp('(^| )' + name.split(' ').join('|') + '( |$)', 'gi');\n    var className = getClassName(el).replace(regex, ' ');\n    setClassName(el, className);\n  }\n}\n\nfunction addClass(el, name) {\n  if (typeof el.classList !== 'undefined') {\n    name.split(' ').forEach(function (cls) {\n      if (cls.trim()) {\n        el.classList.add(cls);\n      }\n    });\n  } else {\n    removeClass(el, name);\n    var cls = getClassName(el) + (' ' + name);\n    setClassName(el, cls);\n  }\n}\n\nfunction hasClass(el, name) {\n  if (typeof el.classList !== 'undefined') {\n    return el.classList.contains(name);\n  }\n  var className = getClassName(el);\n  return new RegExp('(^| )' + name + '( |$)', 'gi').test(className);\n}\n\nfunction getClassName(el) {\n  // Can't use just SVGAnimatedString here since nodes within a Frame in IE have\n  // completely separately SVGAnimatedString base classes\n  if (el.className instanceof el.ownerDocument.defaultView.SVGAnimatedString) {\n    return el.className.baseVal;\n  }\n  return el.className;\n}\n\nfunction setClassName(el, className) {\n  el.setAttribute('class', className);\n}\n\nfunction updateClasses(el, add, all) {\n  // Of the set of 'all' classes, we need the 'add' classes, and only the\n  // 'add' classes to be set.\n  all.forEach(function (cls) {\n    if (add.indexOf(cls) === -1 && hasClass(el, cls)) {\n      removeClass(el, cls);\n    }\n  });\n\n  add.forEach(function (cls) {\n    if (!hasClass(el, cls)) {\n      addClass(el, cls);\n    }\n  });\n}\n\nvar deferred = [];\n\nvar defer = function defer(fn) {\n  deferred.push(fn);\n};\n\nvar flush = function flush() {\n  var fn = undefined;\n  while (fn = deferred.pop()) {\n    fn();\n  }\n};\n\nvar Evented = (function () {\n  function Evented() {\n    _classCallCheck(this, Evented);\n  }\n\n  _createClass(Evented, [{\n    key: 'on',\n    value: function on(event, handler, ctx) {\n      var once = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\n      if (typeof this.bindings === 'undefined') {\n        this.bindings = {};\n      }\n      if (typeof this.bindings[event] === 'undefined') {\n        this.bindings[event] = [];\n      }\n      this.bindings[event].push({ handler: handler, ctx: ctx, once: once });\n    }\n  }, {\n    key: 'once',\n    value: function once(event, handler, ctx) {\n      this.on(event, handler, ctx, true);\n    }\n  }, {\n    key: 'off',\n    value: function off(event, handler) {\n      if (typeof this.bindings === 'undefined' || typeof this.bindings[event] === 'undefined') {\n        return;\n      }\n\n      if (typeof handler === 'undefined') {\n        delete this.bindings[event];\n      } else {\n        var i = 0;\n        while (i < this.bindings[event].length) {\n          if (this.bindings[event][i].handler === handler) {\n            this.bindings[event].splice(i, 1);\n          } else {\n            ++i;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'trigger',\n    value: function trigger(event) {\n      if (typeof this.bindings !== 'undefined' && this.bindings[event]) {\n        var i = 0;\n\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        while (i < this.bindings[event].length) {\n          var _bindings$event$i = this.bindings[event][i];\n          var handler = _bindings$event$i.handler;\n          var ctx = _bindings$event$i.ctx;\n          var once = _bindings$event$i.once;\n\n          var context = ctx;\n          if (typeof context === 'undefined') {\n            context = this;\n          }\n\n          handler.apply(context, args);\n\n          if (once) {\n            this.bindings[event].splice(i, 1);\n          } else {\n            ++i;\n          }\n        }\n      }\n    }\n  }]);\n\n  return Evented;\n})();\n\nTetherBase.Utils = {\n  getActualBoundingClientRect: getActualBoundingClientRect,\n  getScrollParents: getScrollParents,\n  getBounds: getBounds,\n  getOffsetParent: getOffsetParent,\n  extend: extend,\n  addClass: addClass,\n  removeClass: removeClass,\n  hasClass: hasClass,\n  updateClasses: updateClasses,\n  defer: defer,\n  flush: flush,\n  uniqueId: uniqueId,\n  Evented: Evented,\n  getScrollBarSize: getScrollBarSize,\n  removeUtilElements: removeUtilElements\n};\n/* globals TetherBase, performance */\n\n'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x6, _x7, _x8) { var _again = true; _function: while (_again) { var object = _x6, property = _x7, receiver = _x8; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x6 = parent; _x7 = property; _x8 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nif (typeof TetherBase === 'undefined') {\n  throw new Error('You must include the utils.js file before tether.js');\n}\n\nvar _TetherBase$Utils = TetherBase.Utils;\nvar getScrollParents = _TetherBase$Utils.getScrollParents;\nvar getBounds = _TetherBase$Utils.getBounds;\nvar getOffsetParent = _TetherBase$Utils.getOffsetParent;\nvar extend = _TetherBase$Utils.extend;\nvar addClass = _TetherBase$Utils.addClass;\nvar removeClass = _TetherBase$Utils.removeClass;\nvar updateClasses = _TetherBase$Utils.updateClasses;\nvar defer = _TetherBase$Utils.defer;\nvar flush = _TetherBase$Utils.flush;\nvar getScrollBarSize = _TetherBase$Utils.getScrollBarSize;\nvar removeUtilElements = _TetherBase$Utils.removeUtilElements;\n\nfunction within(a, b) {\n  var diff = arguments.length <= 2 || arguments[2] === undefined ? 1 : arguments[2];\n\n  return a + diff >= b && b >= a - diff;\n}\n\nvar transformKey = (function () {\n  if (typeof document === 'undefined') {\n    return '';\n  }\n  var el = document.createElement('div');\n\n  var transforms = ['transform', 'WebkitTransform', 'OTransform', 'MozTransform', 'msTransform'];\n  for (var i = 0; i < transforms.length; ++i) {\n    var key = transforms[i];\n    if (el.style[key] !== undefined) {\n      return key;\n    }\n  }\n})();\n\nvar tethers = [];\n\nvar position = function position() {\n  tethers.forEach(function (tether) {\n    tether.position(false);\n  });\n  flush();\n};\n\nfunction now() {\n  if (typeof performance === 'object' && typeof performance.now === 'function') {\n    return performance.now();\n  }\n  return +new Date();\n}\n\n(function () {\n  var lastCall = null;\n  var lastDuration = null;\n  var pendingTimeout = null;\n\n  var tick = function tick() {\n    if (typeof lastDuration !== 'undefined' && lastDuration > 16) {\n      // We voluntarily throttle ourselves if we can't manage 60fps\n      lastDuration = Math.min(lastDuration - 16, 250);\n\n      // Just in case this is the last event, remember to position just once more\n      pendingTimeout = setTimeout(tick, 250);\n      return;\n    }\n\n    if (typeof lastCall !== 'undefined' && now() - lastCall < 10) {\n      // Some browsers call events a little too frequently, refuse to run more than is reasonable\n      return;\n    }\n\n    if (pendingTimeout != null) {\n      clearTimeout(pendingTimeout);\n      pendingTimeout = null;\n    }\n\n    lastCall = now();\n    position();\n    lastDuration = now() - lastCall;\n  };\n\n  if (typeof window !== 'undefined' && typeof window.addEventListener !== 'undefined') {\n    ['resize', 'scroll', 'touchmove'].forEach(function (event) {\n      window.addEventListener(event, tick);\n    });\n  }\n})();\n\nvar MIRROR_LR = {\n  center: 'center',\n  left: 'right',\n  right: 'left'\n};\n\nvar MIRROR_TB = {\n  middle: 'middle',\n  top: 'bottom',\n  bottom: 'top'\n};\n\nvar OFFSET_MAP = {\n  top: 0,\n  left: 0,\n  middle: '50%',\n  center: '50%',\n  bottom: '100%',\n  right: '100%'\n};\n\nvar autoToFixedAttachment = function autoToFixedAttachment(attachment, relativeToAttachment) {\n  var left = attachment.left;\n  var top = attachment.top;\n\n  if (left === 'auto') {\n    left = MIRROR_LR[relativeToAttachment.left];\n  }\n\n  if (top === 'auto') {\n    top = MIRROR_TB[relativeToAttachment.top];\n  }\n\n  return { left: left, top: top };\n};\n\nvar attachmentToOffset = function attachmentToOffset(attachment) {\n  var left = attachment.left;\n  var top = attachment.top;\n\n  if (typeof OFFSET_MAP[attachment.left] !== 'undefined') {\n    left = OFFSET_MAP[attachment.left];\n  }\n\n  if (typeof OFFSET_MAP[attachment.top] !== 'undefined') {\n    top = OFFSET_MAP[attachment.top];\n  }\n\n  return { left: left, top: top };\n};\n\nfunction addOffset() {\n  var out = { top: 0, left: 0 };\n\n  for (var _len = arguments.length, offsets = Array(_len), _key = 0; _key < _len; _key++) {\n    offsets[_key] = arguments[_key];\n  }\n\n  offsets.forEach(function (_ref) {\n    var top = _ref.top;\n    var left = _ref.left;\n\n    if (typeof top === 'string') {\n      top = parseFloat(top, 10);\n    }\n    if (typeof left === 'string') {\n      left = parseFloat(left, 10);\n    }\n\n    out.top += top;\n    out.left += left;\n  });\n\n  return out;\n}\n\nfunction offsetToPx(offset, size) {\n  if (typeof offset.left === 'string' && offset.left.indexOf('%') !== -1) {\n    offset.left = parseFloat(offset.left, 10) / 100 * size.width;\n  }\n  if (typeof offset.top === 'string' && offset.top.indexOf('%') !== -1) {\n    offset.top = parseFloat(offset.top, 10) / 100 * size.height;\n  }\n\n  return offset;\n}\n\nvar parseOffset = function parseOffset(value) {\n  var _value$split = value.split(' ');\n\n  var _value$split2 = _slicedToArray(_value$split, 2);\n\n  var top = _value$split2[0];\n  var left = _value$split2[1];\n\n  return { top: top, left: left };\n};\nvar parseAttachment = parseOffset;\n\nvar TetherClass = (function (_Evented) {\n  _inherits(TetherClass, _Evented);\n\n  function TetherClass(options) {\n    var _this = this;\n\n    _classCallCheck(this, TetherClass);\n\n    _get(Object.getPrototypeOf(TetherClass.prototype), 'constructor', this).call(this);\n    this.position = this.position.bind(this);\n\n    tethers.push(this);\n\n    this.history = [];\n\n    this.setOptions(options, false);\n\n    TetherBase.modules.forEach(function (module) {\n      if (typeof module.initialize !== 'undefined') {\n        module.initialize.call(_this);\n      }\n    });\n\n    this.position();\n  }\n\n  _createClass(TetherClass, [{\n    key: 'getClass',\n    value: function getClass() {\n      var key = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];\n      var classes = this.options.classes;\n\n      if (typeof classes !== 'undefined' && classes[key]) {\n        return this.options.classes[key];\n      } else if (this.options.classPrefix) {\n        return this.options.classPrefix + '-' + key;\n      } else {\n        return key;\n      }\n    }\n  }, {\n    key: 'setOptions',\n    value: function setOptions(options) {\n      var _this2 = this;\n\n      var pos = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\n\n      var defaults = {\n        offset: '0 0',\n        targetOffset: '0 0',\n        targetAttachment: 'auto auto',\n        classPrefix: 'tether'\n      };\n\n      this.options = extend(defaults, options);\n\n      var _options = this.options;\n      var element = _options.element;\n      var target = _options.target;\n      var targetModifier = _options.targetModifier;\n\n      this.element = element;\n      this.target = target;\n      this.targetModifier = targetModifier;\n\n      if (this.target === 'viewport') {\n        this.target = document.body;\n        this.targetModifier = 'visible';\n      } else if (this.target === 'scroll-handle') {\n        this.target = document.body;\n        this.targetModifier = 'scroll-handle';\n      }\n\n      ['element', 'target'].forEach(function (key) {\n        if (typeof _this2[key] === 'undefined') {\n          throw new Error('Tether Error: Both element and target must be defined');\n        }\n\n        if (typeof _this2[key].jquery !== 'undefined') {\n          _this2[key] = _this2[key][0];\n        } else if (typeof _this2[key] === 'string') {\n          _this2[key] = document.querySelector(_this2[key]);\n        }\n      });\n\n      addClass(this.element, this.getClass('element'));\n      if (!(this.options.addTargetClasses === false)) {\n        addClass(this.target, this.getClass('target'));\n      }\n\n      if (!this.options.attachment) {\n        throw new Error('Tether Error: You must provide an attachment');\n      }\n\n      this.targetAttachment = parseAttachment(this.options.targetAttachment);\n      this.attachment = parseAttachment(this.options.attachment);\n      this.offset = parseOffset(this.options.offset);\n      this.targetOffset = parseOffset(this.options.targetOffset);\n\n      if (typeof this.scrollParents !== 'undefined') {\n        this.disable();\n      }\n\n      if (this.targetModifier === 'scroll-handle') {\n        this.scrollParents = [this.target];\n      } else {\n        this.scrollParents = getScrollParents(this.target);\n      }\n\n      if (!(this.options.enabled === false)) {\n        this.enable(pos);\n      }\n    }\n  }, {\n    key: 'getTargetBounds',\n    value: function getTargetBounds() {\n      if (typeof this.targetModifier !== 'undefined') {\n        if (this.targetModifier === 'visible') {\n          if (this.target === document.body) {\n            return { top: pageYOffset, left: pageXOffset, height: innerHeight, width: innerWidth };\n          } else {\n            var bounds = getBounds(this.target);\n\n            var out = {\n              height: bounds.height,\n              width: bounds.width,\n              top: bounds.top,\n              left: bounds.left\n            };\n\n            out.height = Math.min(out.height, bounds.height - (pageYOffset - bounds.top));\n            out.height = Math.min(out.height, bounds.height - (bounds.top + bounds.height - (pageYOffset + innerHeight)));\n            out.height = Math.min(innerHeight, out.height);\n            out.height -= 2;\n\n            out.width = Math.min(out.width, bounds.width - (pageXOffset - bounds.left));\n            out.width = Math.min(out.width, bounds.width - (bounds.left + bounds.width - (pageXOffset + innerWidth)));\n            out.width = Math.min(innerWidth, out.width);\n            out.width -= 2;\n\n            if (out.top < pageYOffset) {\n              out.top = pageYOffset;\n            }\n            if (out.left < pageXOffset) {\n              out.left = pageXOffset;\n            }\n\n            return out;\n          }\n        } else if (this.targetModifier === 'scroll-handle') {\n          var bounds = undefined;\n          var target = this.target;\n          if (target === document.body) {\n            target = document.documentElement;\n\n            bounds = {\n              left: pageXOffset,\n              top: pageYOffset,\n              height: innerHeight,\n              width: innerWidth\n            };\n          } else {\n            bounds = getBounds(target);\n          }\n\n          var style = getComputedStyle(target);\n\n          var hasBottomScroll = target.scrollWidth > target.clientWidth || [style.overflow, style.overflowX].indexOf('scroll') >= 0 || this.target !== document.body;\n\n          var scrollBottom = 0;\n          if (hasBottomScroll) {\n            scrollBottom = 15;\n          }\n\n          var height = bounds.height - parseFloat(style.borderTopWidth) - parseFloat(style.borderBottomWidth) - scrollBottom;\n\n          var out = {\n            width: 15,\n            height: height * 0.975 * (height / target.scrollHeight),\n            left: bounds.left + bounds.width - parseFloat(style.borderLeftWidth) - 15\n          };\n\n          var fitAdj = 0;\n          if (height < 408 && this.target === document.body) {\n            fitAdj = -0.00011 * Math.pow(height, 2) - 0.00727 * height + 22.58;\n          }\n\n          if (this.target !== document.body) {\n            out.height = Math.max(out.height, 24);\n          }\n\n          var scrollPercentage = this.target.scrollTop / (target.scrollHeight - height);\n          out.top = scrollPercentage * (height - out.height - fitAdj) + bounds.top + parseFloat(style.borderTopWidth);\n\n          if (this.target === document.body) {\n            out.height = Math.max(out.height, 24);\n          }\n\n          return out;\n        }\n      } else {\n        return getBounds(this.target);\n      }\n    }\n  }, {\n    key: 'clearCache',\n    value: function clearCache() {\n      this._cache = {};\n    }\n  }, {\n    key: 'cache',\n    value: function cache(k, getter) {\n      // More than one module will often need the same DOM info, so\n      // we keep a cache which is cleared on each position call\n      if (typeof this._cache === 'undefined') {\n        this._cache = {};\n      }\n\n      if (typeof this._cache[k] === 'undefined') {\n        this._cache[k] = getter.call(this);\n      }\n\n      return this._cache[k];\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      var _this3 = this;\n\n      var pos = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\n      if (!(this.options.addTargetClasses === false)) {\n        addClass(this.target, this.getClass('enabled'));\n      }\n      addClass(this.element, this.getClass('enabled'));\n      this.enabled = true;\n\n      this.scrollParents.forEach(function (parent) {\n        if (parent !== _this3.target.ownerDocument) {\n          parent.addEventListener('scroll', _this3.position);\n        }\n      });\n\n      if (pos) {\n        this.position();\n      }\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      var _this4 = this;\n\n      removeClass(this.target, this.getClass('enabled'));\n      removeClass(this.element, this.getClass('enabled'));\n      this.enabled = false;\n\n      if (typeof this.scrollParents !== 'undefined') {\n        this.scrollParents.forEach(function (parent) {\n          parent.removeEventListener('scroll', _this4.position);\n        });\n      }\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      var _this5 = this;\n\n      this.disable();\n\n      tethers.forEach(function (tether, i) {\n        if (tether === _this5) {\n          tethers.splice(i, 1);\n        }\n      });\n\n      // Remove any elements we were using for convenience from the DOM\n      if (tethers.length === 0) {\n        removeUtilElements();\n      }\n    }\n  }, {\n    key: 'updateAttachClasses',\n    value: function updateAttachClasses(elementAttach, targetAttach) {\n      var _this6 = this;\n\n      elementAttach = elementAttach || this.attachment;\n      targetAttach = targetAttach || this.targetAttachment;\n      var sides = ['left', 'top', 'bottom', 'right', 'middle', 'center'];\n\n      if (typeof this._addAttachClasses !== 'undefined' && this._addAttachClasses.length) {\n        // updateAttachClasses can be called more than once in a position call, so\n        // we need to clean up after ourselves such that when the last defer gets\n        // ran it doesn't add any extra classes from previous calls.\n        this._addAttachClasses.splice(0, this._addAttachClasses.length);\n      }\n\n      if (typeof this._addAttachClasses === 'undefined') {\n        this._addAttachClasses = [];\n      }\n      var add = this._addAttachClasses;\n\n      if (elementAttach.top) {\n        add.push(this.getClass('element-attached') + '-' + elementAttach.top);\n      }\n      if (elementAttach.left) {\n        add.push(this.getClass('element-attached') + '-' + elementAttach.left);\n      }\n      if (targetAttach.top) {\n        add.push(this.getClass('target-attached') + '-' + targetAttach.top);\n      }\n      if (targetAttach.left) {\n        add.push(this.getClass('target-attached') + '-' + targetAttach.left);\n      }\n\n      var all = [];\n      sides.forEach(function (side) {\n        all.push(_this6.getClass('element-attached') + '-' + side);\n        all.push(_this6.getClass('target-attached') + '-' + side);\n      });\n\n      defer(function () {\n        if (!(typeof _this6._addAttachClasses !== 'undefined')) {\n          return;\n        }\n\n        updateClasses(_this6.element, _this6._addAttachClasses, all);\n        if (!(_this6.options.addTargetClasses === false)) {\n          updateClasses(_this6.target, _this6._addAttachClasses, all);\n        }\n\n        delete _this6._addAttachClasses;\n      });\n    }\n  }, {\n    key: 'position',\n    value: function position() {\n      var _this7 = this;\n\n      var flushChanges = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\n      // flushChanges commits the changes immediately, leave true unless you are positioning multiple\n      // tethers (in which case call Tether.Utils.flush yourself when you're done)\n\n      if (!this.enabled) {\n        return;\n      }\n\n      this.clearCache();\n\n      // Turn 'auto' attachments into the appropriate corner or edge\n      var targetAttachment = autoToFixedAttachment(this.targetAttachment, this.attachment);\n\n      this.updateAttachClasses(this.attachment, targetAttachment);\n\n      var elementPos = this.cache('element-bounds', function () {\n        return getBounds(_this7.element);\n      });\n\n      var width = elementPos.width;\n      var height = elementPos.height;\n\n      if (width === 0 && height === 0 && typeof this.lastSize !== 'undefined') {\n        var _lastSize = this.lastSize;\n\n        // We cache the height and width to make it possible to position elements that are\n        // getting hidden.\n        width = _lastSize.width;\n        height = _lastSize.height;\n      } else {\n        this.lastSize = { width: width, height: height };\n      }\n\n      var targetPos = this.cache('target-bounds', function () {\n        return _this7.getTargetBounds();\n      });\n      var targetSize = targetPos;\n\n      // Get an actual px offset from the attachment\n      var offset = offsetToPx(attachmentToOffset(this.attachment), { width: width, height: height });\n      var targetOffset = offsetToPx(attachmentToOffset(targetAttachment), targetSize);\n\n      var manualOffset = offsetToPx(this.offset, { width: width, height: height });\n      var manualTargetOffset = offsetToPx(this.targetOffset, targetSize);\n\n      // Add the manually provided offset\n      offset = addOffset(offset, manualOffset);\n      targetOffset = addOffset(targetOffset, manualTargetOffset);\n\n      // It's now our goal to make (element position + offset) == (target position + target offset)\n      var left = targetPos.left + targetOffset.left - offset.left;\n      var top = targetPos.top + targetOffset.top - offset.top;\n\n      for (var i = 0; i < TetherBase.modules.length; ++i) {\n        var _module2 = TetherBase.modules[i];\n        var ret = _module2.position.call(this, {\n          left: left,\n          top: top,\n          targetAttachment: targetAttachment,\n          targetPos: targetPos,\n          elementPos: elementPos,\n          offset: offset,\n          targetOffset: targetOffset,\n          manualOffset: manualOffset,\n          manualTargetOffset: manualTargetOffset,\n          scrollbarSize: scrollbarSize,\n          attachment: this.attachment\n        });\n\n        if (ret === false) {\n          return false;\n        } else if (typeof ret === 'undefined' || typeof ret !== 'object') {\n          continue;\n        } else {\n          top = ret.top;\n          left = ret.left;\n        }\n      }\n\n      // We describe the position three different ways to give the optimizer\n      // a chance to decide the best possible way to position the element\n      // with the fewest repaints.\n      var next = {\n        // It's position relative to the page (absolute positioning when\n        // the element is a child of the body)\n        page: {\n          top: top,\n          left: left\n        },\n\n        // It's position relative to the viewport (fixed positioning)\n        viewport: {\n          top: top - pageYOffset,\n          bottom: pageYOffset - top - height + innerHeight,\n          left: left - pageXOffset,\n          right: pageXOffset - left - width + innerWidth\n        }\n      };\n\n      var doc = this.target.ownerDocument;\n      var win = doc.defaultView;\n\n      var scrollbarSize = undefined;\n      if (win.innerHeight > doc.documentElement.clientHeight) {\n        scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n        next.viewport.bottom -= scrollbarSize.height;\n      }\n\n      if (win.innerWidth > doc.documentElement.clientWidth) {\n        scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n        next.viewport.right -= scrollbarSize.width;\n      }\n\n      if (['', 'static'].indexOf(doc.body.style.position) === -1 || ['', 'static'].indexOf(doc.body.parentElement.style.position) === -1) {\n        // Absolute positioning in the body will be relative to the page, not the 'initial containing block'\n        next.page.bottom = doc.body.scrollHeight - top - height;\n        next.page.right = doc.body.scrollWidth - left - width;\n      }\n\n      if (typeof this.options.optimizations !== 'undefined' && this.options.optimizations.moveElement !== false && !(typeof this.targetModifier !== 'undefined')) {\n        (function () {\n          var offsetParent = _this7.cache('target-offsetparent', function () {\n            return getOffsetParent(_this7.target);\n          });\n          var offsetPosition = _this7.cache('target-offsetparent-bounds', function () {\n            return getBounds(offsetParent);\n          });\n          var offsetParentStyle = getComputedStyle(offsetParent);\n          var offsetParentSize = offsetPosition;\n\n          var offsetBorder = {};\n          ['Top', 'Left', 'Bottom', 'Right'].forEach(function (side) {\n            offsetBorder[side.toLowerCase()] = parseFloat(offsetParentStyle['border' + side + 'Width']);\n          });\n\n          offsetPosition.right = doc.body.scrollWidth - offsetPosition.left - offsetParentSize.width + offsetBorder.right;\n          offsetPosition.bottom = doc.body.scrollHeight - offsetPosition.top - offsetParentSize.height + offsetBorder.bottom;\n\n          if (next.page.top >= offsetPosition.top + offsetBorder.top && next.page.bottom >= offsetPosition.bottom) {\n            if (next.page.left >= offsetPosition.left + offsetBorder.left && next.page.right >= offsetPosition.right) {\n              // We're within the visible part of the target's scroll parent\n              var scrollTop = offsetParent.scrollTop;\n              var scrollLeft = offsetParent.scrollLeft;\n\n              // It's position relative to the target's offset parent (absolute positioning when\n              // the element is moved to be a child of the target's offset parent).\n              next.offset = {\n                top: next.page.top - offsetPosition.top + scrollTop - offsetBorder.top,\n                left: next.page.left - offsetPosition.left + scrollLeft - offsetBorder.left\n              };\n            }\n          }\n        })();\n      }\n\n      // We could also travel up the DOM and try each containing context, rather than only\n      // looking at the body, but we're gonna get diminishing returns.\n\n      this.move(next);\n\n      this.history.unshift(next);\n\n      if (this.history.length > 3) {\n        this.history.pop();\n      }\n\n      if (flushChanges) {\n        flush();\n      }\n\n      return true;\n    }\n\n    // THE ISSUE\n  }, {\n    key: 'move',\n    value: function move(pos) {\n      var _this8 = this;\n\n      if (!(typeof this.element.parentNode !== 'undefined')) {\n        return;\n      }\n\n      var same = {};\n\n      for (var type in pos) {\n        same[type] = {};\n\n        for (var key in pos[type]) {\n          var found = false;\n\n          for (var i = 0; i < this.history.length; ++i) {\n            var point = this.history[i];\n            if (typeof point[type] !== 'undefined' && !within(point[type][key], pos[type][key])) {\n              found = true;\n              break;\n            }\n          }\n\n          if (!found) {\n            same[type][key] = true;\n          }\n        }\n      }\n\n      var css = { top: '', left: '', right: '', bottom: '' };\n\n      var transcribe = function transcribe(_same, _pos) {\n        var hasOptimizations = typeof _this8.options.optimizations !== 'undefined';\n        var gpu = hasOptimizations ? _this8.options.optimizations.gpu : null;\n        if (gpu !== false) {\n          var yPos = undefined,\n              xPos = undefined;\n          if (_same.top) {\n            css.top = 0;\n            yPos = _pos.top;\n          } else {\n            css.bottom = 0;\n            yPos = -_pos.bottom;\n          }\n\n          if (_same.left) {\n            css.left = 0;\n            xPos = _pos.left;\n          } else {\n            css.right = 0;\n            xPos = -_pos.right;\n          }\n\n          if (window.matchMedia) {\n            // HubSpot/tether#207\n            var retina = window.matchMedia('only screen and (min-resolution: 1.3dppx)').matches || window.matchMedia('only screen and (-webkit-min-device-pixel-ratio: 1.3)').matches;\n            if (!retina) {\n              xPos = Math.round(xPos);\n              yPos = Math.round(yPos);\n            }\n          }\n\n          css[transformKey] = 'translateX(' + xPos + 'px) translateY(' + yPos + 'px)';\n\n          if (transformKey !== 'msTransform') {\n            // The Z transform will keep this in the GPU (faster, and prevents artifacts),\n            // but IE9 doesn't support 3d transforms and will choke.\n            css[transformKey] += \" translateZ(0)\";\n          }\n        } else {\n          if (_same.top) {\n            css.top = _pos.top + 'px';\n          } else {\n            css.bottom = _pos.bottom + 'px';\n          }\n\n          if (_same.left) {\n            css.left = _pos.left + 'px';\n          } else {\n            css.right = _pos.right + 'px';\n          }\n        }\n      };\n\n      var moved = false;\n      if ((same.page.top || same.page.bottom) && (same.page.left || same.page.right)) {\n        css.position = 'absolute';\n        transcribe(same.page, pos.page);\n      } else if ((same.viewport.top || same.viewport.bottom) && (same.viewport.left || same.viewport.right)) {\n        css.position = 'fixed';\n        transcribe(same.viewport, pos.viewport);\n      } else if (typeof same.offset !== 'undefined' && same.offset.top && same.offset.left) {\n        (function () {\n          css.position = 'absolute';\n          var offsetParent = _this8.cache('target-offsetparent', function () {\n            return getOffsetParent(_this8.target);\n          });\n\n          if (getOffsetParent(_this8.element) !== offsetParent) {\n            defer(function () {\n              _this8.element.parentNode.removeChild(_this8.element);\n              offsetParent.appendChild(_this8.element);\n            });\n          }\n\n          transcribe(same.offset, pos.offset);\n          moved = true;\n        })();\n      } else {\n        css.position = 'absolute';\n        transcribe({ top: true, left: true }, pos.page);\n      }\n\n      if (!moved) {\n        if (this.options.bodyElement) {\n          if (this.element.parentNode !== this.options.bodyElement) {\n            this.options.bodyElement.appendChild(this.element);\n          }\n        } else {\n          var isFullscreenElement = function isFullscreenElement(e) {\n            var d = e.ownerDocument;\n            var fe = d.fullscreenElement || d.webkitFullscreenElement || d.mozFullScreenElement || d.msFullscreenElement;\n            return fe === e;\n          };\n\n          var offsetParentIsBody = true;\n\n          var currentNode = this.element.parentNode;\n          while (currentNode && currentNode.nodeType === 1 && currentNode.tagName !== 'BODY' && !isFullscreenElement(currentNode)) {\n            if (getComputedStyle(currentNode).position !== 'static') {\n              offsetParentIsBody = false;\n              break;\n            }\n\n            currentNode = currentNode.parentNode;\n          }\n\n          if (!offsetParentIsBody) {\n            this.element.parentNode.removeChild(this.element);\n            this.element.ownerDocument.body.appendChild(this.element);\n          }\n        }\n      }\n\n      // Any css change will trigger a repaint, so let's avoid one if nothing changed\n      var writeCSS = {};\n      var write = false;\n      for (var key in css) {\n        var val = css[key];\n        var elVal = this.element.style[key];\n\n        if (elVal !== val) {\n          write = true;\n          writeCSS[key] = val;\n        }\n      }\n\n      if (write) {\n        defer(function () {\n          extend(_this8.element.style, writeCSS);\n          _this8.trigger('repositioned');\n        });\n      }\n    }\n  }]);\n\n  return TetherClass;\n})(Evented);\n\nTetherClass.modules = [];\n\nTetherBase.position = position;\n\nvar Tether = extend(TetherClass, TetherBase);\n/* globals TetherBase */\n\n'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _TetherBase$Utils = TetherBase.Utils;\nvar getBounds = _TetherBase$Utils.getBounds;\nvar extend = _TetherBase$Utils.extend;\nvar updateClasses = _TetherBase$Utils.updateClasses;\nvar defer = _TetherBase$Utils.defer;\n\nvar BOUNDS_FORMAT = ['left', 'top', 'right', 'bottom'];\n\nfunction getBoundingRect(tether, to) {\n  if (to === 'scrollParent') {\n    to = tether.scrollParents[0];\n  } else if (to === 'window') {\n    to = [pageXOffset, pageYOffset, innerWidth + pageXOffset, innerHeight + pageYOffset];\n  }\n\n  if (to === document) {\n    to = to.documentElement;\n  }\n\n  if (typeof to.nodeType !== 'undefined') {\n    (function () {\n      var node = to;\n      var size = getBounds(to);\n      var pos = size;\n      var style = getComputedStyle(to);\n\n      to = [pos.left, pos.top, size.width + pos.left, size.height + pos.top];\n\n      // Account any parent Frames scroll offset\n      if (node.ownerDocument !== document) {\n        var win = node.ownerDocument.defaultView;\n        to[0] += win.pageXOffset;\n        to[1] += win.pageYOffset;\n        to[2] += win.pageXOffset;\n        to[3] += win.pageYOffset;\n      }\n\n      BOUNDS_FORMAT.forEach(function (side, i) {\n        side = side[0].toUpperCase() + side.substr(1);\n        if (side === 'Top' || side === 'Left') {\n          to[i] += parseFloat(style['border' + side + 'Width']);\n        } else {\n          to[i] -= parseFloat(style['border' + side + 'Width']);\n        }\n      });\n    })();\n  }\n\n  return to;\n}\n\nTetherBase.modules.push({\n  position: function position(_ref) {\n    var _this = this;\n\n    var top = _ref.top;\n    var left = _ref.left;\n    var targetAttachment = _ref.targetAttachment;\n\n    if (!this.options.constraints) {\n      return true;\n    }\n\n    var _cache = this.cache('element-bounds', function () {\n      return getBounds(_this.element);\n    });\n\n    var height = _cache.height;\n    var width = _cache.width;\n\n    if (width === 0 && height === 0 && typeof this.lastSize !== 'undefined') {\n      var _lastSize = this.lastSize;\n\n      // Handle the item getting hidden as a result of our positioning without glitching\n      // the classes in and out\n      width = _lastSize.width;\n      height = _lastSize.height;\n    }\n\n    var targetSize = this.cache('target-bounds', function () {\n      return _this.getTargetBounds();\n    });\n\n    var targetHeight = targetSize.height;\n    var targetWidth = targetSize.width;\n\n    var allClasses = [this.getClass('pinned'), this.getClass('out-of-bounds')];\n\n    this.options.constraints.forEach(function (constraint) {\n      var outOfBoundsClass = constraint.outOfBoundsClass;\n      var pinnedClass = constraint.pinnedClass;\n\n      if (outOfBoundsClass) {\n        allClasses.push(outOfBoundsClass);\n      }\n      if (pinnedClass) {\n        allClasses.push(pinnedClass);\n      }\n    });\n\n    allClasses.forEach(function (cls) {\n      ['left', 'top', 'right', 'bottom'].forEach(function (side) {\n        allClasses.push(cls + '-' + side);\n      });\n    });\n\n    var addClasses = [];\n\n    var tAttachment = extend({}, targetAttachment);\n    var eAttachment = extend({}, this.attachment);\n\n    this.options.constraints.forEach(function (constraint) {\n      var to = constraint.to;\n      var attachment = constraint.attachment;\n      var pin = constraint.pin;\n\n      if (typeof attachment === 'undefined') {\n        attachment = '';\n      }\n\n      var changeAttachX = undefined,\n          changeAttachY = undefined;\n      if (attachment.indexOf(' ') >= 0) {\n        var _attachment$split = attachment.split(' ');\n\n        var _attachment$split2 = _slicedToArray(_attachment$split, 2);\n\n        changeAttachY = _attachment$split2[0];\n        changeAttachX = _attachment$split2[1];\n      } else {\n        changeAttachX = changeAttachY = attachment;\n      }\n\n      var bounds = getBoundingRect(_this, to);\n\n      if (changeAttachY === 'target' || changeAttachY === 'both') {\n        if (top < bounds[1] && tAttachment.top === 'top') {\n          top += targetHeight;\n          tAttachment.top = 'bottom';\n        }\n\n        if (top + height > bounds[3] && tAttachment.top === 'bottom') {\n          top -= targetHeight;\n          tAttachment.top = 'top';\n        }\n      }\n\n      if (changeAttachY === 'together') {\n        if (tAttachment.top === 'top') {\n          if (eAttachment.top === 'bottom' && top < bounds[1]) {\n            top += targetHeight;\n            tAttachment.top = 'bottom';\n\n            top += height;\n            eAttachment.top = 'top';\n          } else if (eAttachment.top === 'top' && top + height > bounds[3] && top - (height - targetHeight) >= bounds[1]) {\n            top -= height - targetHeight;\n            tAttachment.top = 'bottom';\n\n            eAttachment.top = 'bottom';\n          }\n        }\n\n        if (tAttachment.top === 'bottom') {\n          if (eAttachment.top === 'top' && top + height > bounds[3]) {\n            top -= targetHeight;\n            tAttachment.top = 'top';\n\n            top -= height;\n            eAttachment.top = 'bottom';\n          } else if (eAttachment.top === 'bottom' && top < bounds[1] && top + (height * 2 - targetHeight) <= bounds[3]) {\n            top += height - targetHeight;\n            tAttachment.top = 'top';\n\n            eAttachment.top = 'top';\n          }\n        }\n\n        if (tAttachment.top === 'middle') {\n          if (top + height > bounds[3] && eAttachment.top === 'top') {\n            top -= height;\n            eAttachment.top = 'bottom';\n          } else if (top < bounds[1] && eAttachment.top === 'bottom') {\n            top += height;\n            eAttachment.top = 'top';\n          }\n        }\n      }\n\n      if (changeAttachX === 'target' || changeAttachX === 'both') {\n        if (left < bounds[0] && tAttachment.left === 'left') {\n          left += targetWidth;\n          tAttachment.left = 'right';\n        }\n\n        if (left + width > bounds[2] && tAttachment.left === 'right') {\n          left -= targetWidth;\n          tAttachment.left = 'left';\n        }\n      }\n\n      if (changeAttachX === 'together') {\n        if (left < bounds[0] && tAttachment.left === 'left') {\n          if (eAttachment.left === 'right') {\n            left += targetWidth;\n            tAttachment.left = 'right';\n\n            left += width;\n            eAttachment.left = 'left';\n          } else if (eAttachment.left === 'left') {\n            left += targetWidth;\n            tAttachment.left = 'right';\n\n            left -= width;\n            eAttachment.left = 'right';\n          }\n        } else if (left + width > bounds[2] && tAttachment.left === 'right') {\n          if (eAttachment.left === 'left') {\n            left -= targetWidth;\n            tAttachment.left = 'left';\n\n            left -= width;\n            eAttachment.left = 'right';\n          } else if (eAttachment.left === 'right') {\n            left -= targetWidth;\n            tAttachment.left = 'left';\n\n            left += width;\n            eAttachment.left = 'left';\n          }\n        } else if (tAttachment.left === 'center') {\n          if (left + width > bounds[2] && eAttachment.left === 'left') {\n            left -= width;\n            eAttachment.left = 'right';\n          } else if (left < bounds[0] && eAttachment.left === 'right') {\n            left += width;\n            eAttachment.left = 'left';\n          }\n        }\n      }\n\n      if (changeAttachY === 'element' || changeAttachY === 'both') {\n        if (top < bounds[1] && eAttachment.top === 'bottom') {\n          top += height;\n          eAttachment.top = 'top';\n        }\n\n        if (top + height > bounds[3] && eAttachment.top === 'top') {\n          top -= height;\n          eAttachment.top = 'bottom';\n        }\n      }\n\n      if (changeAttachX === 'element' || changeAttachX === 'both') {\n        if (left < bounds[0]) {\n          if (eAttachment.left === 'right') {\n            left += width;\n            eAttachment.left = 'left';\n          } else if (eAttachment.left === 'center') {\n            left += width / 2;\n            eAttachment.left = 'left';\n          }\n        }\n\n        if (left + width > bounds[2]) {\n          if (eAttachment.left === 'left') {\n            left -= width;\n            eAttachment.left = 'right';\n          } else if (eAttachment.left === 'center') {\n            left -= width / 2;\n            eAttachment.left = 'right';\n          }\n        }\n      }\n\n      if (typeof pin === 'string') {\n        pin = pin.split(',').map(function (p) {\n          return p.trim();\n        });\n      } else if (pin === true) {\n        pin = ['top', 'left', 'right', 'bottom'];\n      }\n\n      pin = pin || [];\n\n      var pinned = [];\n      var oob = [];\n\n      if (top < bounds[1]) {\n        if (pin.indexOf('top') >= 0) {\n          top = bounds[1];\n          pinned.push('top');\n        } else {\n          oob.push('top');\n        }\n      }\n\n      if (top + height > bounds[3]) {\n        if (pin.indexOf('bottom') >= 0) {\n          top = bounds[3] - height;\n          pinned.push('bottom');\n        } else {\n          oob.push('bottom');\n        }\n      }\n\n      if (left < bounds[0]) {\n        if (pin.indexOf('left') >= 0) {\n          left = bounds[0];\n          pinned.push('left');\n        } else {\n          oob.push('left');\n        }\n      }\n\n      if (left + width > bounds[2]) {\n        if (pin.indexOf('right') >= 0) {\n          left = bounds[2] - width;\n          pinned.push('right');\n        } else {\n          oob.push('right');\n        }\n      }\n\n      if (pinned.length) {\n        (function () {\n          var pinnedClass = undefined;\n          if (typeof _this.options.pinnedClass !== 'undefined') {\n            pinnedClass = _this.options.pinnedClass;\n          } else {\n            pinnedClass = _this.getClass('pinned');\n          }\n\n          addClasses.push(pinnedClass);\n          pinned.forEach(function (side) {\n            addClasses.push(pinnedClass + '-' + side);\n          });\n        })();\n      }\n\n      if (oob.length) {\n        (function () {\n          var oobClass = undefined;\n          if (typeof _this.options.outOfBoundsClass !== 'undefined') {\n            oobClass = _this.options.outOfBoundsClass;\n          } else {\n            oobClass = _this.getClass('out-of-bounds');\n          }\n\n          addClasses.push(oobClass);\n          oob.forEach(function (side) {\n            addClasses.push(oobClass + '-' + side);\n          });\n        })();\n      }\n\n      if (pinned.indexOf('left') >= 0 || pinned.indexOf('right') >= 0) {\n        eAttachment.left = tAttachment.left = false;\n      }\n      if (pinned.indexOf('top') >= 0 || pinned.indexOf('bottom') >= 0) {\n        eAttachment.top = tAttachment.top = false;\n      }\n\n      if (tAttachment.top !== targetAttachment.top || tAttachment.left !== targetAttachment.left || eAttachment.top !== _this.attachment.top || eAttachment.left !== _this.attachment.left) {\n        _this.updateAttachClasses(eAttachment, tAttachment);\n        _this.trigger('update', {\n          attachment: eAttachment,\n          targetAttachment: tAttachment\n        });\n      }\n    });\n\n    defer(function () {\n      if (!(_this.options.addTargetClasses === false)) {\n        updateClasses(_this.target, addClasses, allClasses);\n      }\n      updateClasses(_this.element, addClasses, allClasses);\n    });\n\n    return { top: top, left: left };\n  }\n});\n/* globals TetherBase */\n\n'use strict';\n\nvar _TetherBase$Utils = TetherBase.Utils;\nvar getBounds = _TetherBase$Utils.getBounds;\nvar updateClasses = _TetherBase$Utils.updateClasses;\nvar defer = _TetherBase$Utils.defer;\n\nTetherBase.modules.push({\n  position: function position(_ref) {\n    var _this = this;\n\n    var top = _ref.top;\n    var left = _ref.left;\n\n    var _cache = this.cache('element-bounds', function () {\n      return getBounds(_this.element);\n    });\n\n    var height = _cache.height;\n    var width = _cache.width;\n\n    var targetPos = this.getTargetBounds();\n\n    var bottom = top + height;\n    var right = left + width;\n\n    var abutted = [];\n    if (top <= targetPos.bottom && bottom >= targetPos.top) {\n      ['left', 'right'].forEach(function (side) {\n        var targetPosSide = targetPos[side];\n        if (targetPosSide === left || targetPosSide === right) {\n          abutted.push(side);\n        }\n      });\n    }\n\n    if (left <= targetPos.right && right >= targetPos.left) {\n      ['top', 'bottom'].forEach(function (side) {\n        var targetPosSide = targetPos[side];\n        if (targetPosSide === top || targetPosSide === bottom) {\n          abutted.push(side);\n        }\n      });\n    }\n\n    var allClasses = [];\n    var addClasses = [];\n\n    var sides = ['left', 'top', 'right', 'bottom'];\n    allClasses.push(this.getClass('abutted'));\n    sides.forEach(function (side) {\n      allClasses.push(_this.getClass('abutted') + '-' + side);\n    });\n\n    if (abutted.length) {\n      addClasses.push(this.getClass('abutted'));\n    }\n\n    abutted.forEach(function (side) {\n      addClasses.push(_this.getClass('abutted') + '-' + side);\n    });\n\n    defer(function () {\n      if (!(_this.options.addTargetClasses === false)) {\n        updateClasses(_this.target, addClasses, allClasses);\n      }\n      updateClasses(_this.element, addClasses, allClasses);\n    });\n\n    return true;\n  }\n});\n/* globals TetherBase */\n\n'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nTetherBase.modules.push({\n  position: function position(_ref) {\n    var top = _ref.top;\n    var left = _ref.left;\n\n    if (!this.options.shift) {\n      return;\n    }\n\n    var shift = this.options.shift;\n    if (typeof this.options.shift === 'function') {\n      shift = this.options.shift.call(this, { top: top, left: left });\n    }\n\n    var shiftTop = undefined,\n        shiftLeft = undefined;\n    if (typeof shift === 'string') {\n      shift = shift.split(' ');\n      shift[1] = shift[1] || shift[0];\n\n      var _shift = shift;\n\n      var _shift2 = _slicedToArray(_shift, 2);\n\n      shiftTop = _shift2[0];\n      shiftLeft = _shift2[1];\n\n      shiftTop = parseFloat(shiftTop, 10);\n      shiftLeft = parseFloat(shiftLeft, 10);\n    } else {\n      shiftTop = shift.top;\n      shiftLeft = shift.left;\n    }\n\n    top += shiftTop;\n    left += shiftLeft;\n\n    return { top: top, left: left };\n  }\n});\nreturn Tether;\n\n}));\n","export class AnnotationEvent {\r\n  dashboardId: number;\r\n  panelId: number;\r\n  userId: number;\r\n  time: any;\r\n  timeEnd: any;\r\n  isRegion: boolean;\r\n  text: string;\r\n  type: string;\r\n  tags: string;\r\n}\r\n","import _ from 'lodash';\r\nimport tinycolor from 'tinycolor2';\r\n\r\nexport const PALETTE_ROWS = 4;\r\nexport const PALETTE_COLUMNS = 14;\r\nexport const DEFAULT_ANNOTATION_COLOR = 'rgba(0, 211, 255, 1)';\r\nexport const OK_COLOR = 'rgba(11, 237, 50, 1)';\r\nexport const ALERTING_COLOR = 'rgba(237, 46, 24, 1)';\r\nexport const NO_DATA_COLOR = 'rgba(150, 150, 150, 1)';\r\nexport const REGION_FILL_ALPHA = 0.09;\r\n\r\nlet colors = [\r\n  '#7EB26D',\r\n  '#EAB839',\r\n  '#6ED0E0',\r\n  '#EF843C',\r\n  '#E24D42',\r\n  '#1F78C1',\r\n  '#BA43A9',\r\n  '#705DA0',\r\n  '#508642',\r\n  '#CCA300',\r\n  '#447EBC',\r\n  '#C15C17',\r\n  '#890F02',\r\n  '#0A437C',\r\n  '#6D1F62',\r\n  '#584477',\r\n  '#B7DBAB',\r\n  '#F4D598',\r\n  '#70DBED',\r\n  '#F9BA8F',\r\n  '#F29191',\r\n  '#82B5D8',\r\n  '#E5A8E2',\r\n  '#AEA2E0',\r\n  '#629E51',\r\n  '#E5AC0E',\r\n  '#64B0C8',\r\n  '#E0752D',\r\n  '#BF1B00',\r\n  '#0A50A1',\r\n  '#962D82',\r\n  '#614D93',\r\n  '#9AC48A',\r\n  '#F2C96D',\r\n  '#65C5DB',\r\n  '#F9934E',\r\n  '#EA6460',\r\n  '#5195CE',\r\n  '#D683CE',\r\n  '#806EB7',\r\n  '#3F6833',\r\n  '#967302',\r\n  '#2F575E',\r\n  '#99440A',\r\n  '#58140C',\r\n  '#052B51',\r\n  '#511749',\r\n  '#3F2B5B',\r\n  '#E0F9D7',\r\n  '#FCEACA',\r\n  '#CFFAFF',\r\n  '#F9E2D2',\r\n  '#FCE2DE',\r\n  '#BADFF4',\r\n  '#F9D9F9',\r\n  '#DEDAF7',\r\n];\r\n\r\nexport function sortColorsByHue(hexColors) {\r\n  let hslColors = _.map(hexColors, hexToHsl);\r\n\r\n  let sortedHSLColors: any = _.sortBy(hslColors, ['h']);\r\n  sortedHSLColors = _.chunk(sortedHSLColors, PALETTE_ROWS);\r\n  sortedHSLColors = _.map(sortedHSLColors, chunk => {\r\n    return _.sortBy(chunk, 'l');\r\n  });\r\n  sortedHSLColors = _.flattenDeep(_.zip(...sortedHSLColors));\r\n\r\n  return _.map(sortedHSLColors, hslToHex);\r\n}\r\n\r\nexport function hexToHsl(color) {\r\n  return tinycolor(color).toHsl();\r\n}\r\n\r\nexport function hslToHex(color) {\r\n  return tinycolor(color).toHexString();\r\n}\r\n\r\nexport let sortedColors = sortColorsByHue(colors);\r\nexport default colors;\r\n","import _ from 'lodash';\r\nimport moment from 'moment';\r\nimport tinycolor from 'tinycolor2';\r\nimport { MetricsPanelCtrl } from 'grafana/app/plugins/sdk';\r\nimport { AnnotationEvent } from './event';\r\nimport {\r\n  DEFAULT_ANNOTATION_COLOR,\r\n  OK_COLOR,\r\n  ALERTING_COLOR,\r\n  NO_DATA_COLOR,\r\n  REGION_FILL_ALPHA\r\n} from './colors';\r\n\r\nexport class EventManager {\r\n  event: AnnotationEvent;\r\n  editorOpen: boolean;\r\n\r\n  constructor(private panelCtrl: MetricsPanelCtrl) { }\r\n\r\n  editorClosed() {\r\n    this.event = null;\r\n    this.editorOpen = false;\r\n    this.panelCtrl.render();\r\n  }\r\n\r\n  editorOpened() {\r\n    this.editorOpen = true;\r\n  }\r\n\r\n  updateTime(range) {\r\n    if (!this.event) {\r\n      this.event = new AnnotationEvent();\r\n      this.event.dashboardId = this.panelCtrl.dashboard.id;\r\n      this.event.panelId = this.panelCtrl.panel.id;\r\n    }\r\n\r\n    // update time\r\n    this.event.time = moment(range.from);\r\n    this.event.isRegion = false;\r\n    if (range.to) {\r\n      this.event.timeEnd = moment(range.to);\r\n      this.event.isRegion = true;\r\n    }\r\n\r\n    this.panelCtrl.render();\r\n  }\r\n\r\n  editEvent(event, elem?) {\r\n    this.event = event;\r\n    this.panelCtrl.render();\r\n  }\r\n\r\n  addFlotEvents(annotations, flotOptions) {\r\n    if (!this.event && annotations.length === 0) {\r\n      return;\r\n    }\r\n\r\n    var types = {\r\n      $__alerting: {\r\n        color: ALERTING_COLOR,\r\n        position: 'BOTTOM',\r\n        markerSize: 5,\r\n      },\r\n      $__ok: {\r\n        color: OK_COLOR,\r\n        position: 'BOTTOM',\r\n        markerSize: 5,\r\n      },\r\n      $__no_data: {\r\n        color: NO_DATA_COLOR,\r\n        position: 'BOTTOM',\r\n        markerSize: 5,\r\n      },\r\n      $__editing: {\r\n        color: DEFAULT_ANNOTATION_COLOR,\r\n        position: 'BOTTOM',\r\n        markerSize: 5,\r\n      },\r\n    };\r\n\r\n    if (this.event) {\r\n      if (this.event.isRegion) {\r\n        annotations = [\r\n          {\r\n            isRegion: true,\r\n            min: this.event.time.valueOf(),\r\n            timeEnd: this.event.timeEnd.valueOf(),\r\n            text: this.event.text,\r\n            eventType: '$__editing',\r\n            editModel: this.event,\r\n          },\r\n        ];\r\n      } else {\r\n        annotations = [\r\n          {\r\n            min: this.event.time.valueOf(),\r\n            text: this.event.text,\r\n            editModel: this.event,\r\n            eventType: '$__editing',\r\n          },\r\n        ];\r\n      }\r\n    } else {\r\n      // annotations from query\r\n      for (var i = 0; i < annotations.length; i++) {\r\n        var item = annotations[i];\r\n\r\n        // add properties used by jquery flot events\r\n        item.min = item.time;\r\n        item.max = item.time;\r\n        item.eventType = item.source.name;\r\n\r\n        if (item.newState) {\r\n          item.eventType = '$__' + item.newState;\r\n          continue;\r\n        }\r\n\r\n        if (!types[item.source.name]) {\r\n          types[item.source.name] = {\r\n            color: item.source.iconColor,\r\n            position: 'BOTTOM',\r\n            markerSize: 5,\r\n          };\r\n        }\r\n      }\r\n    }\r\n\r\n    let regions = getRegions(annotations);\r\n    addRegionMarking(regions, flotOptions);\r\n\r\n    let eventSectionHeight = 20;\r\n    let eventSectionMargin = 7;\r\n    flotOptions.grid.eventSectionHeight = eventSectionMargin;\r\n    flotOptions.xaxis.eventSectionHeight = eventSectionHeight;\r\n\r\n    flotOptions.events = {\r\n      levels: _.keys(types).length + 1,\r\n      data: annotations,\r\n      types: types,\r\n      manager: this,\r\n    };\r\n  }\r\n}\r\n\r\nfunction getRegions(events) {\r\n  return _.filter(events, 'isRegion');\r\n}\r\n\r\nfunction addRegionMarking(regions, flotOptions) {\r\n  let markings = flotOptions.grid.markings;\r\n  let defaultColor = DEFAULT_ANNOTATION_COLOR;\r\n  let fillColor;\r\n\r\n  _.each(regions, region => {\r\n    if (region.source) {\r\n      fillColor = region.source.iconColor || defaultColor;\r\n    } else {\r\n      fillColor = defaultColor;\r\n    }\r\n\r\n    fillColor = addAlphaToRGB(fillColor, REGION_FILL_ALPHA);\r\n    markings.push({\r\n      xaxis: { from: region.min, to: region.timeEnd },\r\n      color: fillColor,\r\n    });\r\n  });\r\n}\r\n\r\nfunction addAlphaToRGB(colorString: string, alpha: number): string {\r\n  let color = tinycolor(colorString);\r\n  if (color.isValid()) {\r\n    color.setAlpha(alpha);\r\n    return color.toRgbString();\r\n  } else {\r\n    return colorString;\r\n  }\r\n}\r\n","import { getDataMinMax } from './time_series2';\r\n\r\n/**\r\n * Calculate tick step.\r\n * Implementation from d3-array (ticks.js)\r\n * https://github.com/d3/d3-array/blob/master/src/ticks.js\r\n * @param start Start value\r\n * @param stop End value\r\n * @param count Ticks count\r\n */\r\nexport function tickStep(start: number, stop: number, count: number): number {\r\n  let e10 = Math.sqrt(50),\r\n    e5 = Math.sqrt(10),\r\n    e2 = Math.sqrt(2);\r\n\r\n  let step0 = Math.abs(stop - start) / Math.max(0, count),\r\n    step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\r\n    error = step0 / step1;\r\n\r\n  if (error >= e10) {\r\n    step1 *= 10;\r\n  } else if (error >= e5) {\r\n    step1 *= 5;\r\n  } else if (error >= e2) {\r\n    step1 *= 2;\r\n  }\r\n\r\n  return stop < start ? -step1 : step1;\r\n}\r\n\r\nexport function getScaledDecimals(decimals, tick_size) {\r\n  return decimals - Math.floor(Math.log(tick_size) / Math.LN10);\r\n}\r\n\r\n/**\r\n * Calculate tick size based on min and max values, number of ticks and precision.\r\n * Implementation from Flot.\r\n * @param min           Axis minimum\r\n * @param max           Axis maximum\r\n * @param noTicks       Number of ticks\r\n * @param tickDecimals  Tick decimal precision\r\n */\r\nexport function getFlotTickSize(min: number, max: number, noTicks: number, tickDecimals: number) {\r\n  var delta = (max - min) / noTicks,\r\n    dec = -Math.floor(Math.log(delta) / Math.LN10),\r\n    maxDec = tickDecimals;\r\n\r\n  var magn = Math.pow(10, -dec),\r\n    norm = delta / magn, // norm is between 1.0 and 10.0\r\n    size;\r\n\r\n  if (norm < 1.5) {\r\n    size = 1;\r\n  } else if (norm < 3) {\r\n    size = 2;\r\n    // special case for 2.5, requires an extra decimal\r\n    if (norm > 2.25 && (maxDec == null || dec + 1 <= maxDec)) {\r\n      size = 2.5;\r\n      ++dec;\r\n    }\r\n  } else if (norm < 7.5) {\r\n    size = 5;\r\n  } else {\r\n    size = 10;\r\n  }\r\n\r\n  size *= magn;\r\n\r\n  return size;\r\n}\r\n\r\n/**\r\n * Calculate axis range (min and max).\r\n * Implementation from Flot.\r\n */\r\nexport function getFlotRange(panelMin, panelMax, datamin, datamax) {\r\n  const autoscaleMargin = 0.02;\r\n\r\n  let min = +(panelMin != null ? panelMin : datamin);\r\n  let max = +(panelMax != null ? panelMax : datamax);\r\n  let delta = max - min;\r\n\r\n  if (delta === 0.0) {\r\n    // Grafana fix: wide Y min and max using increased wideFactor\r\n    // when all series values are the same\r\n    var wideFactor = 0.25;\r\n    var widen = Math.abs(max === 0 ? 1 : max * wideFactor);\r\n\r\n    if (panelMin === null) {\r\n      min -= widen;\r\n    }\r\n    // always widen max if we couldn't widen min to ensure we\r\n    // don't fall into min == max which doesn't work\r\n    if (panelMax == null || panelMin != null) {\r\n      max += widen;\r\n    }\r\n  } else {\r\n    // consider autoscaling\r\n    var margin = autoscaleMargin;\r\n    if (margin != null) {\r\n      if (panelMin == null) {\r\n        min -= delta * margin;\r\n        // make sure we don't go below zero if all values\r\n        // are positive\r\n        if (min < 0 && datamin != null && datamin >= 0) {\r\n          min = 0;\r\n        }\r\n      }\r\n      if (panelMax == null) {\r\n        max += delta * margin;\r\n        if (max > 0 && datamax != null && datamax <= 0) {\r\n          max = 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return { min, max };\r\n}\r\n\r\n/**\r\n * Calculate tick decimals.\r\n * Implementation from Flot.\r\n */\r\nexport function getFlotTickDecimals(data, axis) {\r\n  let { datamin, datamax } = getDataMinMax(data);\r\n  let { min, max } = getFlotRange(axis.min, axis.max, datamin, datamax);\r\n  let noTicks = 3;\r\n  let tickDecimals, maxDec;\r\n  let delta = (max - min) / noTicks;\r\n  let dec = -Math.floor(Math.log(delta) / Math.LN10);\r\n\r\n  let magn = Math.pow(10, -dec);\r\n  // norm is between 1.0 and 10.0\r\n  let norm = delta / magn;\r\n  let size;\r\n\r\n  if (norm < 1.5) {\r\n    size = 1;\r\n  } else if (norm < 3) {\r\n    size = 2;\r\n    // special case for 2.5, requires an extra decimal\r\n    if (norm > 2.25 && (maxDec == null || dec + 1 <= maxDec)) {\r\n      size = 2.5;\r\n      ++dec;\r\n    }\r\n  } else if (norm < 7.5) {\r\n    size = 5;\r\n  } else {\r\n    size = 10;\r\n  }\r\n\r\n  size *= magn;\r\n\r\n  tickDecimals = Math.max(0, maxDec != null ? maxDec : dec);\r\n  // grafana addition\r\n  const scaledDecimals = tickDecimals - Math.floor(Math.log(size) / Math.LN10);\r\n  return { tickDecimals, scaledDecimals };\r\n}\r\n","import kbn from 'grafana/app/core/utils/kbn';\r\nimport { getFlotTickDecimals } from './ticks';\r\nimport _ from 'lodash';\r\n\r\nfunction matchSeriesOverride(aliasOrRegex, seriesAlias) {\r\n  if (!aliasOrRegex) {\r\n    return false;\r\n  }\r\n\r\n  if (aliasOrRegex[0] === '/') {\r\n    var regex = kbn.stringToJsRegex(aliasOrRegex);\r\n    return seriesAlias.match(regex) != null;\r\n  }\r\n\r\n  return aliasOrRegex === seriesAlias;\r\n}\r\n\r\nfunction translateFillOption(fill) {\r\n  return fill === 0 ? 0.001 : fill / 10;\r\n}\r\n\r\n/**\r\n * Calculate decimals for legend and update values for each series.\r\n * @param data series data\r\n * @param panel\r\n */\r\nexport function updateLegendValues(data: TimeSeries[], panel) {\r\n  for (let i = 0; i < data.length; i++) {\r\n    let series = data[i];\r\n    let yaxes = panel.yaxes;\r\n    const seriesYAxis = series.yaxis || 1;\r\n    let axis = yaxes[seriesYAxis - 1];\r\n    let { tickDecimals, scaledDecimals } = getFlotTickDecimals(data, axis);\r\n    let formater = kbn.valueFormats[panel.yaxes[seriesYAxis - 1].format];\r\n\r\n    // decimal override\r\n    if (_.isNumber(panel.decimals)) {\r\n      series.updateLegendValues(formater, panel.decimals, null);\r\n    } else {\r\n      // auto decimals\r\n      // legend and tooltip gets one more decimal precision\r\n      // than graph legend ticks\r\n      tickDecimals = (tickDecimals || -1) + 1;\r\n      series.updateLegendValues(formater, tickDecimals, scaledDecimals + 2);\r\n    }\r\n  }\r\n}\r\n\r\nexport function getDataMinMax(data: TimeSeries[]) {\r\n  let datamin = null;\r\n  let datamax = null;\r\n\r\n  for (let series of data) {\r\n    if (datamax === null || datamax < series.stats.max) {\r\n      datamax = series.stats.max;\r\n    }\r\n    if (datamin === null || datamin > series.stats.min) {\r\n      datamin = series.stats.min;\r\n    }\r\n  }\r\n\r\n  return { datamin, datamax };\r\n}\r\n\r\nexport default class TimeSeries {\r\n  datapoints: any;\r\n  id: string;\r\n  label: string;\r\n  alias: string;\r\n  aliasEscaped: string;\r\n  color: string;\r\n  valueFormater: any;\r\n  stats: any;\r\n  legend: boolean;\r\n  allIsNull: boolean;\r\n  allIsZero: boolean;\r\n  decimals: number;\r\n  scaledDecimals: number;\r\n  hasMsResolution: boolean;\r\n  isOutsideRange: boolean;\r\n\r\n  lines: any;\r\n  dashes: any;\r\n  bars: any;\r\n  points: any;\r\n  yaxis: any;\r\n  zindex: any;\r\n  stack: any;\r\n  nullPointMode: any;\r\n  fillBelowTo: any;\r\n  transform: any;\r\n  flotpairs: any;\r\n  unit: any;\r\n\r\n  constructor(opts) {\r\n    this.datapoints = opts.datapoints;\r\n    this.label = opts.alias;\r\n    this.id = opts.alias;\r\n    this.alias = opts.alias;\r\n    this.aliasEscaped = _.escape(opts.alias);\r\n    this.color = opts.color;\r\n    this.valueFormater = kbn.valueFormats.none;\r\n    this.stats = {};\r\n    this.legend = true;\r\n    this.unit = opts.unit;\r\n    this.hasMsResolution = this.isMsResolutionNeeded();\r\n  }\r\n\r\n  applySeriesOverrides(overrides) {\r\n    this.lines = {};\r\n    this.dashes = {\r\n      dashLength: [],\r\n    };\r\n    this.points = {};\r\n    this.bars = {};\r\n    this.yaxis = 1;\r\n    this.zindex = 0;\r\n    this.nullPointMode = null;\r\n    delete this.stack;\r\n\r\n    for (var i = 0; i < overrides.length; i++) {\r\n      var override = overrides[i];\r\n      if (!matchSeriesOverride(override.alias, this.alias)) {\r\n        continue;\r\n      }\r\n      if (override.lines !== void 0) {\r\n        this.lines.show = override.lines;\r\n      }\r\n      if (override.dashes !== void 0) {\r\n        this.dashes.show = override.dashes;\r\n        this.lines.lineWidth = 0;\r\n      }\r\n      if (override.points !== void 0) {\r\n        this.points.show = override.points;\r\n      }\r\n      if (override.bars !== void 0) {\r\n        this.bars.show = override.bars;\r\n      }\r\n      if (override.fill !== void 0) {\r\n        this.lines.fill = translateFillOption(override.fill);\r\n      }\r\n      if (override.stack !== void 0) {\r\n        this.stack = override.stack;\r\n      }\r\n      if (override.linewidth !== void 0) {\r\n        this.lines.lineWidth = this.dashes.show ? 0 : override.linewidth;\r\n        this.dashes.lineWidth = override.linewidth;\r\n      }\r\n      if (override.dashLength !== void 0) {\r\n        this.dashes.dashLength[0] = override.dashLength;\r\n      }\r\n      if (override.spaceLength !== void 0) {\r\n        this.dashes.dashLength[1] = override.spaceLength;\r\n      }\r\n      if (override.nullPointMode !== void 0) {\r\n        this.nullPointMode = override.nullPointMode;\r\n      }\r\n      if (override.pointradius !== void 0) {\r\n        this.points.radius = override.pointradius;\r\n      }\r\n      if (override.steppedLine !== void 0) {\r\n        this.lines.steps = override.steppedLine;\r\n      }\r\n      if (override.zindex !== void 0) {\r\n        this.zindex = override.zindex;\r\n      }\r\n      if (override.fillBelowTo !== void 0) {\r\n        this.fillBelowTo = override.fillBelowTo;\r\n      }\r\n      if (override.color !== void 0) {\r\n        this.color = override.color;\r\n      }\r\n      if (override.transform !== void 0) {\r\n        this.transform = override.transform;\r\n      }\r\n      if (override.legend !== void 0) {\r\n        this.legend = override.legend;\r\n      }\r\n\r\n      if (override.yaxis !== void 0) {\r\n        this.yaxis = override.yaxis;\r\n      }\r\n    }\r\n  }\r\n\r\n  getFlotPairs(fillStyle) {\r\n    var result = [];\r\n\r\n    this.stats.total = 0;\r\n    this.stats.max = -Number.MAX_VALUE;\r\n    this.stats.min = Number.MAX_VALUE;\r\n    this.stats.logmin = Number.MAX_VALUE;\r\n    this.stats.avg = null;\r\n    this.stats.current = null;\r\n    this.stats.first = null;\r\n    this.stats.delta = 0;\r\n    this.stats.diff = null;\r\n    this.stats.range = null;\r\n    this.stats.timeStep = Number.MAX_VALUE;\r\n    this.allIsNull = true;\r\n    this.allIsZero = true;\r\n\r\n    var ignoreNulls = fillStyle === 'connected';\r\n    var nullAsZero = fillStyle === 'null as zero';\r\n    var currentTime;\r\n    var currentValue;\r\n    var nonNulls = 0;\r\n    var previousTime;\r\n    var previousValue = 0;\r\n    var previousDeltaUp = true;\r\n\r\n    for (var i = 0; i < this.datapoints.length; i++) {\r\n      currentValue = this.datapoints[i][0];\r\n      currentTime = this.datapoints[i][1];\r\n\r\n      // Due to missing values we could have different timeStep all along the series\r\n      // so we have to find the minimum one (could occur with aggregators such as ZimSum)\r\n      if (previousTime !== undefined) {\r\n        let timeStep = currentTime - previousTime;\r\n        if (timeStep < this.stats.timeStep) {\r\n          this.stats.timeStep = timeStep;\r\n        }\r\n      }\r\n      previousTime = currentTime;\r\n\r\n      if (currentValue === null) {\r\n        if (ignoreNulls) {\r\n          continue;\r\n        }\r\n        if (nullAsZero) {\r\n          currentValue = 0;\r\n        }\r\n      }\r\n\r\n      if (currentValue !== null) {\r\n        if (_.isNumber(currentValue)) {\r\n          this.stats.total += currentValue;\r\n          this.allIsNull = false;\r\n          nonNulls++;\r\n        }\r\n\r\n        if (currentValue > this.stats.max) {\r\n          this.stats.max = currentValue;\r\n        }\r\n\r\n        if (currentValue < this.stats.min) {\r\n          this.stats.min = currentValue;\r\n        }\r\n\r\n        if (this.stats.first === null) {\r\n          this.stats.first = currentValue;\r\n        } else {\r\n          if (previousValue > currentValue) {\r\n            // counter reset\r\n            previousDeltaUp = false;\r\n            if (i === this.datapoints.length - 1) {\r\n              // reset on last\r\n              this.stats.delta += currentValue;\r\n            }\r\n          } else {\r\n            if (previousDeltaUp) {\r\n              this.stats.delta += currentValue - previousValue; // normal increment\r\n            } else {\r\n              this.stats.delta += currentValue; // account for counter reset\r\n            }\r\n            previousDeltaUp = true;\r\n          }\r\n        }\r\n        previousValue = currentValue;\r\n\r\n        if (currentValue < this.stats.logmin && currentValue > 0) {\r\n          this.stats.logmin = currentValue;\r\n        }\r\n\r\n        if (currentValue !== 0) {\r\n          this.allIsZero = false;\r\n        }\r\n      }\r\n\r\n      result.push([currentTime, currentValue]);\r\n    }\r\n\r\n    if (this.stats.max === -Number.MAX_VALUE) {\r\n      this.stats.max = null;\r\n    }\r\n    if (this.stats.min === Number.MAX_VALUE) {\r\n      this.stats.min = null;\r\n    }\r\n\r\n    if (result.length && !this.allIsNull) {\r\n      this.stats.avg = this.stats.total / nonNulls;\r\n      this.stats.current = result[result.length - 1][1];\r\n      if (this.stats.current === null && result.length > 1) {\r\n        this.stats.current = result[result.length - 2][1];\r\n      }\r\n    }\r\n    if (this.stats.max !== null && this.stats.min !== null) {\r\n      this.stats.range = this.stats.max - this.stats.min;\r\n    }\r\n    if (this.stats.current !== null && this.stats.first !== null) {\r\n      this.stats.diff = this.stats.current - this.stats.first;\r\n    }\r\n\r\n    this.stats.count = result.length;\r\n    return result;\r\n  }\r\n\r\n  updateLegendValues(formater, decimals, scaledDecimals) {\r\n    this.valueFormater = formater;\r\n    this.decimals = decimals;\r\n    this.scaledDecimals = scaledDecimals;\r\n  }\r\n\r\n  formatValue(value) {\r\n    if (!_.isFinite(value)) {\r\n      value = null; // Prevent NaN formatting\r\n    }\r\n    return this.valueFormater(value, this.decimals, this.scaledDecimals);\r\n  }\r\n\r\n  isMsResolutionNeeded() {\r\n    for (var i = 0; i < this.datapoints.length; i++) {\r\n      if (this.datapoints[i][1] !== null) {\r\n        var timestamp = this.datapoints[i][1].toString();\r\n        if (timestamp.length === 13 && timestamp % 1000 !== 0) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  hideFromLegend(options) {\r\n    if (options.hideEmpty && this.allIsNull) {\r\n      return true;\r\n    }\r\n    // ignore series excluded via override\r\n    if (!this.legend) {\r\n      return true;\r\n    }\r\n\r\n    // ignore zero series\r\n    return options.hideZero && this.allIsZero;\r\n\r\n  }\r\n}\r\n","import 'grafana/vendor/flot/jquery.flot.js';\r\nimport * as $ from 'jquery';\r\nimport _ from 'lodash';\r\n\r\nexport class ThresholdManager {\r\n  plot: any;\r\n  placeholder: any;\r\n  height: any;\r\n  thresholds: any;\r\n  needsCleanup: boolean;\r\n  hasSecondYAxis: any;\r\n\r\n  constructor(private panelCtrl) {}\r\n\r\n  getHandleHtml(handleIndex, model, valueStr) {\r\n    var stateClass = model.colorMode;\r\n    if (model.colorMode === 'custom') {\r\n      stateClass = 'critical';\r\n    }\r\n\r\n    return `\r\n    <div class=\"alert-handle-wrapper alert-handle-wrapper--T${handleIndex}\">\r\n      <div class=\"alert-handle-line alert-handle-line--${stateClass}\">\r\n      </div>\r\n      <div class=\"alert-handle\" data-handle-index=\"${handleIndex}\">\r\n        <i class=\"icon-gf icon-gf-${stateClass} alert-state-${stateClass}\"></i>\r\n        <span class=\"alert-handle-value\">${valueStr}<i class=\"alert-handle-grip\"></i></span>\r\n      </div>\r\n    </div>`;\r\n  }\r\n\r\n  initDragging(evt) {\r\n    var handleElem = $(evt.currentTarget).parents('.alert-handle-wrapper');\r\n    var handleIndex = $(evt.currentTarget).data('handleIndex');\r\n\r\n    var lastY = null;\r\n    var posTop;\r\n    var plot = this.plot;\r\n    var panelCtrl = this.panelCtrl;\r\n    var model = this.thresholds[handleIndex];\r\n\r\n    function dragging(evt) {\r\n      if (lastY === null) {\r\n        lastY = evt.clientY;\r\n      } else {\r\n        var diff = evt.clientY - lastY;\r\n        posTop = posTop + diff;\r\n        lastY = evt.clientY;\r\n        handleElem.css({ top: posTop + diff });\r\n      }\r\n    }\r\n\r\n    function stopped() {\r\n      // calculate graph level\r\n      var graphValue = plot.c2p({ left: 0, top: posTop }).y;\r\n      graphValue = parseInt(graphValue.toFixed(0));\r\n      model.value = graphValue;\r\n\r\n      handleElem.off('mousemove', dragging);\r\n      handleElem.off('mouseup', dragging);\r\n      handleElem.off('mouseleave', dragging);\r\n\r\n      // trigger digest and render\r\n      panelCtrl.$scope.$apply(function() {\r\n        panelCtrl.render();\r\n        panelCtrl.events.emit('threshold-changed', {\r\n          threshold: model,\r\n          handleIndex: handleIndex,\r\n        });\r\n      });\r\n    }\r\n\r\n    lastY = null;\r\n    posTop = handleElem.position().top;\r\n\r\n    handleElem.on('mousemove', dragging);\r\n    handleElem.on('mouseup', stopped);\r\n    handleElem.on('mouseleave', stopped);\r\n  }\r\n\r\n  cleanUp() {\r\n    this.placeholder.find('.alert-handle-wrapper').remove();\r\n    this.needsCleanup = false;\r\n  }\r\n\r\n  renderHandle(handleIndex, defaultHandleTopPos) {\r\n    var model = this.thresholds[handleIndex];\r\n    var value = model.value;\r\n    var valueStr = value;\r\n    var handleTopPos = 0;\r\n\r\n    // handle no value\r\n    if (!_.isNumber(value)) {\r\n      valueStr = '';\r\n      handleTopPos = defaultHandleTopPos;\r\n    } else {\r\n      var valueCanvasPos = this.plot.p2c({ x: 0, y: value });\r\n      handleTopPos = Math.round(Math.min(Math.max(valueCanvasPos.top, 0), this.height) - 6);\r\n    }\r\n\r\n    var handleElem = $(this.getHandleHtml(handleIndex, model, valueStr));\r\n    this.placeholder.append(handleElem);\r\n\r\n    handleElem.toggleClass('alert-handle-wrapper--no-value', valueStr === '');\r\n    handleElem.css({ top: handleTopPos });\r\n  }\r\n\r\n  shouldDrawHandles() {\r\n    return !this.hasSecondYAxis && this.panelCtrl.editingThresholds && this.panelCtrl.panel.thresholds.length > 0;\r\n  }\r\n\r\n  prepare(elem, data) {\r\n    this.hasSecondYAxis = false;\r\n    for (var i = 0; i < data.length; i++) {\r\n      if (data[i].yaxis > 1) {\r\n        this.hasSecondYAxis = true;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.shouldDrawHandles()) {\r\n      var thresholdMargin = this.panelCtrl.panel.thresholds.length > 1 ? '220px' : '110px';\r\n      elem.css('margin-right', thresholdMargin);\r\n    } else if (this.needsCleanup) {\r\n      elem.css('margin-right', '0');\r\n    }\r\n  }\r\n\r\n  draw(plot) {\r\n    this.thresholds = this.panelCtrl.panel.thresholds;\r\n    this.plot = plot;\r\n    this.placeholder = plot.getPlaceholder();\r\n\r\n    if (this.needsCleanup) {\r\n      this.cleanUp();\r\n    }\r\n\r\n    if (!this.shouldDrawHandles()) {\r\n      return;\r\n    }\r\n\r\n    this.height = plot.height();\r\n\r\n    if (this.thresholds.length > 0) {\r\n      this.renderHandle(0, 10);\r\n    }\r\n    if (this.thresholds.length > 1) {\r\n      this.renderHandle(1, this.height - 30);\r\n    }\r\n\r\n    this.placeholder.off('mousedown', '.alert-handle');\r\n    this.placeholder.on('mousedown', '.alert-handle', this.initDragging.bind(this));\r\n    this.needsCleanup = true;\r\n  }\r\n\r\n  addFlotOptions(options, panel) {\r\n    if (!panel.thresholds || panel.thresholds.length === 0) {\r\n      return;\r\n    }\r\n\r\n    var gtLimit = Infinity;\r\n    var ltLimit = -Infinity;\r\n    var i, threshold, other;\r\n\r\n    for (i = 0; i < panel.thresholds.length; i++) {\r\n      threshold = panel.thresholds[i];\r\n      if (!_.isNumber(threshold.value)) {\r\n        continue;\r\n      }\r\n\r\n      var limit;\r\n      switch (threshold.op) {\r\n        case 'gt': {\r\n          limit = gtLimit;\r\n          // if next threshold is less then op and greater value, then use that as limit\r\n          if (panel.thresholds.length > i + 1) {\r\n            other = panel.thresholds[i + 1];\r\n            if (other.value > threshold.value) {\r\n              limit = other.value;\r\n              ltLimit = limit;\r\n            }\r\n          }\r\n          break;\r\n        }\r\n        case 'lt': {\r\n          limit = ltLimit;\r\n          // if next threshold is less then op and greater value, then use that as limit\r\n          if (panel.thresholds.length > i + 1) {\r\n            other = panel.thresholds[i + 1];\r\n            if (other.value < threshold.value) {\r\n              limit = other.value;\r\n              gtLimit = limit;\r\n            }\r\n          }\r\n          break;\r\n        }\r\n      }\r\n\r\n      var fillColor, lineColor;\r\n      switch (threshold.colorMode) {\r\n        case 'critical': {\r\n          fillColor = 'rgba(234, 112, 112, 0.12)';\r\n          lineColor = 'rgba(237, 46, 24, 0.60)';\r\n          break;\r\n        }\r\n        case 'warning': {\r\n          fillColor = 'rgba(235, 138, 14, 0.12)';\r\n          lineColor = 'rgba(247, 149, 32, 0.60)';\r\n          break;\r\n        }\r\n        case 'ok': {\r\n          fillColor = 'rgba(11, 237, 50, 0.090)';\r\n          lineColor = 'rgba(6,163,69, 0.60)';\r\n          break;\r\n        }\r\n        case 'custom': {\r\n          fillColor = threshold.fillColor;\r\n          lineColor = threshold.lineColor;\r\n          break;\r\n        }\r\n      }\r\n\r\n      // fill\r\n      if (threshold.fill) {\r\n        options.grid.markings.push({\r\n          yaxis: { from: threshold.value, to: limit },\r\n          color: fillColor,\r\n        });\r\n      }\r\n      if (threshold.line) {\r\n        options.grid.markings.push({\r\n          yaxis: { from: threshold.value, to: threshold.value },\r\n          color: lineColor,\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\n","\r\nimport _ from 'lodash';\r\n\r\n/**\r\n * Convert series into array of series values.\r\n * @param data Array of series\r\n */\r\nexport function getSeriesValues(dataList: any[]): number[] {\r\n  const VALUE_INDEX = 0;\r\n  let values = [];\r\n\r\n  // Count histogam stats\r\n  for (let i = 0; i < dataList.length; i++) {\r\n    let series = dataList[i];\r\n    let datapoints = series.datapoints;\r\n    for (let j = 0; j < datapoints.length; j++) {\r\n      if (datapoints[j][VALUE_INDEX] !== null) {\r\n        values.push(datapoints[j][VALUE_INDEX]);\r\n      }\r\n    }\r\n  }\r\n\r\n  return values;\r\n}\r\n\r\n/**\r\n * Convert array of values into timeseries-like histogram:\r\n * [[val_1, count_1], [val_2, count_2], ..., [val_n, count_n]]\r\n * @param values\r\n * @param bucketSize\r\n */\r\nexport function convertValuesToHistogram(values: number[], bucketSize: number): any[] {\r\n  let histogram = {};\r\n\r\n  for (let i = 0; i < values.length; i++) {\r\n    let bound = getBucketBound(values[i], bucketSize);\r\n    if (histogram[bound]) {\r\n      histogram[bound] = histogram[bound] + 1;\r\n    } else {\r\n      histogram[bound] = 1;\r\n    }\r\n  }\r\n\r\n  let histogam_series = _.map(histogram, (count, bound) => {\r\n    return [Number(bound), count];\r\n  });\r\n\r\n  // Sort by Y axis values\r\n  return _.sortBy(histogam_series, point => point[0]);\r\n}\r\n\r\nfunction getBucketBound(value: number, bucketSize: number): number {\r\n  return Math.floor(value / bucketSize) * bucketSize;\r\n}\r\n","import 'grafana/vendor/flot/jquery.flot.js';\r\nimport 'grafana/vendor/flot/jquery.flot.time.js';\r\nimport 'grafana/vendor/flot/jquery.flot.selection.js';\r\nimport 'grafana/vendor/flot/jquery.flot.stack.js';\r\nimport 'grafana/vendor/flot/jquery.flot.stackpercent.js';\r\nimport 'grafana/vendor/flot/jquery.flot.fillbelow.js';\r\nimport 'grafana/vendor/flot/jquery.flot.crosshair.js';\r\nimport 'grafana/vendor/flot/jquery.flot.dashes.js';\r\nimport 'grafana/vendor/flot/jquery.flot.gauge.js';\r\nimport 'grafana/vendor/flot/jquery.flot.pie.js';\r\nimport './vendor/flot/jquery.flot.events';\r\nimport { EventManager } from './vendor/grafana/event_manager';\r\nimport { updateLegendValues} from './vendor/grafana/time_series2';\r\nimport { tickStep } from './vendor/grafana/ticks';\r\n\r\nimport * as $ from 'jquery';\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\nimport kbn from 'grafana/app/core/utils/kbn';\r\nimport { appEvents, coreModule } from 'grafana/app/core/core';\r\nimport GraphTooltip from './graph_tooltip';\r\nimport { ThresholdManager } from './threshold_manager';\r\nimport { convertValuesToHistogram, getSeriesValues } from './histogram';\r\n\r\n\r\n/** @ngInject **/\r\nfunction graphDirective(timeSrv, popoverSrv, contextSrv) {\r\n  return {\r\n    restrict: 'A',\r\n    template: '',\r\n    link: function(scope, elem) {\r\n      var ctrl = scope.ctrl;\r\n      var dashboard = ctrl.dashboard;\r\n      var panel = ctrl.panel;\r\n      var annotations = [];\r\n      var data;\r\n      var plot;\r\n      var sortedSeries;\r\n      var panelWidth = 0;\r\n      var eventManager = new EventManager(ctrl);\r\n      var thresholdManager = new ThresholdManager(ctrl);\r\n      var tooltip = new GraphTooltip(elem, dashboard, scope, function() {\r\n        return sortedSeries;\r\n      });\r\n\r\n      // panel events\r\n      ctrl.events.on('panel-teardown', () => {\r\n        thresholdManager = null;\r\n\r\n        if (plot) {\r\n          plot.destroy();\r\n          plot = null;\r\n        }\r\n      });\r\n\r\n      /**\r\n       * Split graph rendering into two parts.\r\n       * First, calculate series stats in buildFlotPairs() function. Then legend rendering started\r\n       * (see ctrl.events.on('render') in legend.ts).\r\n       * When legend is rendered it emits 'legend-rendering-complete' and graph rendered.\r\n       */\r\n      ctrl.events.on('render', renderData => {\r\n        data = renderData || data;\r\n        if (!data) {\r\n          return;\r\n        }\r\n\r\n        annotations = ctrl.annotations || [];\r\n        buildFlotPairs(data);\r\n        updateLegendValues(data, panel);\r\n\r\n        ctrl.events.emit('render-legend');\r\n      });\r\n\r\n      ctrl.events.on('legend-rendering-complete', () => {\r\n        render_panel();\r\n      });\r\n\r\n      // global events\r\n      appEvents.on(\r\n        'graph-hover',\r\n        evt => {\r\n          // ignore other graph hover events if shared tooltip is disabled\r\n          if (!dashboard.sharedTooltipModeEnabled()) {\r\n            return;\r\n          }\r\n\r\n          // ignore if we are the emitter\r\n          if (!plot || evt.panel.id === panel.id || ctrl.otherPanelInFullscreenMode()) {\r\n            return;\r\n          }\r\n\r\n          tooltip.show(evt.pos);\r\n        },\r\n        scope\r\n      );\r\n\r\n      appEvents.on(\r\n        'graph-hover-clear',\r\n        (event, info) => {\r\n          if (plot) {\r\n            tooltip.clear(plot);\r\n          }\r\n        },\r\n        scope\r\n      );\r\n\r\n      function shouldAbortRender() {\r\n        if (!data) {\r\n          return true;\r\n        }\r\n\r\n        if (panelWidth === 0) {\r\n          return true;\r\n        }\r\n\r\n        return false;\r\n      }\r\n\r\n      function drawHook(plot) {\r\n        // add left axis labels\r\n        if (panel.yaxes[0].label && panel.yaxes[0].show) {\r\n          $(\"<div class='axisLabel left-yaxis-label flot-temp-elem'></div>\")\r\n            .text(panel.yaxes[0].label)\r\n            .appendTo(elem);\r\n        }\r\n\r\n        // add right axis labels\r\n        if (panel.yaxes[1].label && panel.yaxes[1].show) {\r\n          $(\"<div class='axisLabel right-yaxis-label flot-temp-elem'></div>\")\r\n            .text(panel.yaxes[1].label)\r\n            .appendTo(elem);\r\n        }\r\n\r\n        if (ctrl.dataWarning) {\r\n          $(`<div class=\"datapoints-warning flot-temp-elem\">${ctrl.dataWarning.title}</div>`).appendTo(elem);\r\n        }\r\n\r\n        thresholdManager.draw(plot);\r\n      }\r\n\r\n      function processOffsetHook(plot, gridMargin) {\r\n        var left = panel.yaxes[0];\r\n        var right = panel.yaxes[1];\r\n        if (left.show && left.label) {\r\n          gridMargin.left = 20;\r\n        }\r\n        if (right.show && right.label) {\r\n          gridMargin.right = 20;\r\n        }\r\n\r\n        // apply y-axis min/max options\r\n        var yaxis = plot.getYAxes();\r\n        for (var i = 0; i < yaxis.length; i++) {\r\n          var axis = yaxis[i];\r\n          var panelOptions = panel.yaxes[i];\r\n          axis.options.max = axis.options.max !== null ? axis.options.max : panelOptions.max;\r\n          axis.options.min = axis.options.min !== null ? axis.options.min : panelOptions.min;\r\n        }\r\n      }\r\n\r\n      // Series could have different timeSteps,\r\n      // let's find the smallest one so that bars are correctly rendered.\r\n      // In addition, only take series which are rendered as bars for this.\r\n      function getMinTimeStepOfSeries(data) {\r\n        var min = Number.MAX_VALUE;\r\n\r\n        for (let i = 0; i < data.length; i++) {\r\n          if (!data[i].stats.timeStep) {\r\n            continue;\r\n          }\r\n          if (panel.bars) {\r\n            if (data[i].bars && data[i].bars.show === false) {\r\n              continue;\r\n            }\r\n          } else {\r\n            if (typeof data[i].bars === 'undefined' || typeof data[i].bars.show === 'undefined' || !data[i].bars.show) {\r\n              continue;\r\n            }\r\n          }\r\n\r\n          if (data[i].stats.timeStep < min) {\r\n            min = data[i].stats.timeStep;\r\n          }\r\n        }\r\n\r\n        return min;\r\n      }\r\n\r\n      // Function for rendering panel\r\n      function render_panel() {\r\n        panelWidth = elem.width();\r\n        if (shouldAbortRender()) {\r\n          return;\r\n        }\r\n\r\n        // give space to alert editing\r\n        thresholdManager.prepare(elem, data);\r\n\r\n        // un-check dashes if lines are unchecked\r\n        panel.dashes = panel.lines ? panel.dashes : false;\r\n\r\n        // Populate element\r\n        let options: any = buildFlotOptions(panel);\r\n        prepareXAxis(options, panel);\r\n        configureYAxisOptions(data, options);\r\n        thresholdManager.addFlotOptions(options, panel);\r\n        eventManager.addFlotEvents(annotations, options);\r\n\r\n        sortedSeries = sortSeries(data, panel);\r\n        callPlot(options, true);\r\n      }\r\n\r\n      function buildFlotPairs(data) {\r\n        for (let i = 0; i < data.length; i++) {\r\n          let series = data[i];\r\n          series.data = series.getFlotPairs(series.nullPointMode || panel.nullPointMode);\r\n\r\n          // if hidden remove points and disable stack\r\n          if (ctrl.hiddenSeries[series.alias]) {\r\n            series.data = [];\r\n            series.stack = false;\r\n          }\r\n        }\r\n      }\r\n\r\n      function prepareXAxis(options, panel) {\r\n        switch (panel.xaxis.mode) {\r\n          case 'series': {\r\n            options.series.bars.barWidth = 0.7;\r\n            options.series.bars.align = 'center';\r\n\r\n            for (let i = 0; i < data.length; i++) {\r\n              let series = data[i];\r\n              series.data = [[i + 1, series.stats[panel.xaxis.values[0]]]];\r\n            }\r\n\r\n            addXSeriesAxis(options);\r\n            break;\r\n          }\r\n          case 'histogram': {\r\n            let bucketSize: number;\r\n            let values = getSeriesValues(data);\r\n\r\n            if (data.length && values.length) {\r\n              let histMin = _.min(_.map(data, (s:any) => s.stats.min));\r\n              let histMax = _.max(_.map(data, (s:any) => s.stats.max));\r\n              let ticks = panel.xaxis.buckets || panelWidth / 50;\r\n              bucketSize = tickStep(histMin, histMax, ticks);\r\n              let histogram = convertValuesToHistogram(values, bucketSize);\r\n              data[0].data = histogram;\r\n              options.series.bars.barWidth = bucketSize * 0.8;\r\n            } else {\r\n              bucketSize = 0;\r\n            }\r\n\r\n            addXHistogramAxis(options, bucketSize);\r\n            break;\r\n          }\r\n          case 'table': {\r\n            options.series.bars.barWidth = 0.7;\r\n            options.series.bars.align = 'center';\r\n            addXTableAxis(options);\r\n            break;\r\n          }\r\n          default: {\r\n            options.series.bars.barWidth = getMinTimeStepOfSeries(data) / 1.5;\r\n            addTimeAxis(options);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      function callPlot(options, incrementRenderCounter) {\r\n        try {\r\n          plot = $.plot(elem, sortedSeries, options);\r\n          if (ctrl.renderError) {\r\n            delete ctrl.error;\r\n            delete ctrl.inspector;\r\n          }\r\n        } catch (e) {\r\n          console.log('flotcharts error', e);\r\n          ctrl.error = e.message || 'Render Error';\r\n          ctrl.renderError = true;\r\n          ctrl.inspector = { error: e };\r\n        }\r\n\r\n        if (incrementRenderCounter) {\r\n          ctrl.renderingCompleted();\r\n        }\r\n      }\r\n\r\n      function buildFlotOptions(panel) {\r\n        const stack = panel.stack ? true : null;\r\n        let options = {\r\n          hooks: {\r\n            draw: [drawHook],\r\n            processOffset: [processOffsetHook],\r\n          },\r\n          legend: { show: false },\r\n          series: {\r\n            stackpercent: panel.stack ? panel.percentage : false,\r\n            stack: panel.percentage ? null : stack,\r\n            lines: {\r\n              show: panel.lines,\r\n              zero: false,\r\n              fill: translateFillOption(panel.fill),\r\n              lineWidth: panel.dashes ? 0 : panel.linewidth,\r\n              steps: panel.steppedLine,\r\n            },\r\n            dashes: {\r\n              show: panel.dashes,\r\n              lineWidth: panel.linewidth,\r\n              dashLength: [panel.dashLength, panel.spaceLength],\r\n            },\r\n            bars: {\r\n              show: panel.bars,\r\n              fill: 1,\r\n              barWidth: 1,\r\n              zero: false,\r\n              lineWidth: 0,\r\n            },\r\n            points: {\r\n              show: panel.points,\r\n              fill: 1,\r\n              fillColor: false,\r\n              radius: panel.points ? panel.pointradius : 2,\r\n            },\r\n            shadowSize: 0,\r\n          },\r\n          yaxes: [],\r\n          xaxis: {},\r\n          grid: {\r\n            minBorderMargin: 0,\r\n            markings: [],\r\n            backgroundColor: null,\r\n            borderWidth: 0,\r\n            hoverable: true,\r\n            clickable: true,\r\n            color: '#c8c8c8',\r\n            margin: { left: 0, right: 0 },\r\n            labelMarginX: 0,\r\n          },\r\n          selection: {\r\n            mode: 'x',\r\n            color: '#666',\r\n          },\r\n          crosshair: {\r\n            mode: 'x',\r\n          },\r\n        };\r\n        return options;\r\n      }\r\n\r\n      function sortSeries(series, panel) {\r\n        var sortBy = panel.legend.sort;\r\n        var sortOrder = panel.legend.sortDesc;\r\n        var haveSortBy = sortBy !== null || sortBy !== undefined;\r\n        var haveSortOrder = sortOrder !== null || sortOrder !== undefined;\r\n        var shouldSortBy = panel.stack && haveSortBy && haveSortOrder;\r\n        var sortDesc = panel.legend.sortDesc === true ? -1 : 1;\r\n\r\n        series.sort((x, y) => {\r\n          if (x.zindex > y.zindex) {\r\n            return 1;\r\n          }\r\n\r\n          if (x.zindex < y.zindex) {\r\n            return -1;\r\n          }\r\n\r\n          if (shouldSortBy) {\r\n            if (x.stats[sortBy] > y.stats[sortBy]) {\r\n              return 1 * sortDesc;\r\n            }\r\n            if (x.stats[sortBy] < y.stats[sortBy]) {\r\n              return -1 * sortDesc;\r\n            }\r\n          }\r\n\r\n          return 0;\r\n        });\r\n\r\n        return series;\r\n      }\r\n\r\n      function translateFillOption(fill) {\r\n        if (panel.percentage && panel.stack) {\r\n          return fill === 0 ? 0.001 : fill / 10;\r\n        } else {\r\n          return fill / 10;\r\n        }\r\n      }\r\n\r\n      function addTimeAxis(options) {\r\n        var ticks = panelWidth / 100;\r\n        var min = _.isUndefined(ctrl.range.from) ? null : ctrl.range.from.valueOf();\r\n        var max = _.isUndefined(ctrl.range.to) ? null : ctrl.range.to.valueOf();\r\n\r\n        options.xaxis = {\r\n          timezone: dashboard.getTimezone(),\r\n          show: panel.xaxis.show,\r\n          mode: 'time',\r\n          min: min,\r\n          max: max,\r\n          label: 'Datetime',\r\n          ticks: ticks,\r\n          timeformat: time_format(ticks, min, max),\r\n        };\r\n      }\r\n\r\n      function addXSeriesAxis(options) {\r\n        var ticks = _.map(data, function(series: any, index) {\r\n          return [index + 1, series.alias];\r\n        });\r\n\r\n        options.xaxis = {\r\n          timezone: dashboard.getTimezone(),\r\n          show: panel.xaxis.show,\r\n          mode: null,\r\n          min: 0,\r\n          max: ticks.length + 1,\r\n          label: 'Datetime',\r\n          ticks: ticks,\r\n        };\r\n      }\r\n\r\n      function addXHistogramAxis(options, bucketSize) {\r\n        let ticks, min, max;\r\n        let defaultTicks = panelWidth / 50;\r\n\r\n        if (data.length && bucketSize) {\r\n          ticks = _.map(data[0].data, point => point[0]);\r\n          min = _.min(ticks);\r\n          max = _.max(ticks);\r\n\r\n          // Adjust tick step\r\n          let tickStep = bucketSize;\r\n          let ticks_num = Math.floor((max - min) / tickStep);\r\n          while (ticks_num > defaultTicks) {\r\n            tickStep = tickStep * 2;\r\n            ticks_num = Math.ceil((max - min) / tickStep);\r\n          }\r\n\r\n          // Expand ticks for pretty view\r\n          min = Math.floor(min / tickStep) * tickStep;\r\n          max = Math.ceil(max / tickStep) * tickStep;\r\n\r\n          ticks = [];\r\n          for (let i = min; i <= max; i += tickStep) {\r\n            ticks.push(i);\r\n          }\r\n        } else {\r\n          // Set defaults if no data\r\n          ticks = defaultTicks / 2;\r\n          min = 0;\r\n          max = 1;\r\n        }\r\n\r\n        options.xaxis = {\r\n          timezone: dashboard.getTimezone(),\r\n          show: panel.xaxis.show,\r\n          mode: null,\r\n          min: min,\r\n          max: max,\r\n          label: 'Histogram',\r\n          ticks: ticks,\r\n        };\r\n\r\n        // Use 'short' format for histogram values\r\n        configureAxisMode(options.xaxis, 'short');\r\n      }\r\n\r\n      function addXTableAxis(options) {\r\n        var ticks = _.map(data, function(series: any, seriesIndex) {\r\n          return _.map(series.datapoints, function(point, pointIndex) {\r\n            var tickIndex = parseInt(seriesIndex) * series.datapoints.length + pointIndex;\r\n            return [tickIndex + 1, point[1]];\r\n          });\r\n        });\r\n        ticks = _.flatten(ticks);\r\n\r\n        options.xaxis = {\r\n          timezone: dashboard.getTimezone(),\r\n          show: panel.xaxis.show,\r\n          mode: null,\r\n          min: 0,\r\n          max: ticks.length + 1,\r\n          label: 'Datetime',\r\n          ticks: ticks,\r\n        };\r\n      }\r\n\r\n      function configureYAxisOptions(data, options) {\r\n        var defaults = {\r\n          position: 'left',\r\n          show: panel.yaxes[0].show,\r\n          index: 1,\r\n          logBase: panel.yaxes[0].logBase || 1,\r\n          min: parseNumber(panel.yaxes[0].min),\r\n          max: parseNumber(panel.yaxes[0].max),\r\n          tickDecimals: panel.yaxes[0].decimals,\r\n        };\r\n\r\n        options.yaxes.push(defaults);\r\n\r\n        if (_.find(data, { yaxis: 2 })) {\r\n          var secondY = _.clone(defaults);\r\n          secondY.index = 2;\r\n          secondY.show = panel.yaxes[1].show;\r\n          secondY.logBase = panel.yaxes[1].logBase || 1;\r\n          secondY.position = 'right';\r\n          secondY.min = parseNumber(panel.yaxes[1].min);\r\n          secondY.max = parseNumber(panel.yaxes[1].max);\r\n          secondY.tickDecimals = panel.yaxes[1].decimals;\r\n          options.yaxes.push(secondY);\r\n\r\n          applyLogScale(options.yaxes[1], data);\r\n          configureAxisMode(options.yaxes[1], panel.percentage && panel.stack ? 'percent' : panel.yaxes[1].format);\r\n        }\r\n        applyLogScale(options.yaxes[0], data);\r\n        configureAxisMode(options.yaxes[0], panel.percentage && panel.stack ? 'percent' : panel.yaxes[0].format);\r\n      }\r\n\r\n      function parseNumber(value: any) {\r\n        if (value === null || typeof value === 'undefined') {\r\n          return null;\r\n        }\r\n\r\n        return _.toNumber(value);\r\n      }\r\n\r\n      function applyLogScale(axis, data) {\r\n        if (axis.logBase === 1) {\r\n          return;\r\n        }\r\n\r\n        const minSetToZero = axis.min === 0;\r\n\r\n        if (axis.min < Number.MIN_VALUE) {\r\n          axis.min = null;\r\n        }\r\n        if (axis.max < Number.MIN_VALUE) {\r\n          axis.max = null;\r\n        }\r\n\r\n        var series, i;\r\n        var max = axis.max,\r\n          min = axis.min;\r\n\r\n        for (i = 0; i < data.length; i++) {\r\n          series = data[i];\r\n          if (series.yaxis === axis.index) {\r\n            if (!max || max < series.stats.max) {\r\n              max = series.stats.max;\r\n            }\r\n            if (!min || min > series.stats.logmin) {\r\n              min = series.stats.logmin;\r\n            }\r\n          }\r\n        }\r\n\r\n        axis.transform = function(v) {\r\n          return v < Number.MIN_VALUE ? null : Math.log(v) / Math.log(axis.logBase);\r\n        };\r\n        axis.inverseTransform = function(v) {\r\n          return Math.pow(axis.logBase, v);\r\n        };\r\n\r\n        if (!max && !min) {\r\n          max = axis.inverseTransform(+2);\r\n          min = axis.inverseTransform(-2);\r\n        } else if (!max) {\r\n          max = min * axis.inverseTransform(+4);\r\n        } else if (!min) {\r\n          min = max * axis.inverseTransform(-4);\r\n        }\r\n\r\n        if (axis.min) {\r\n          min = axis.inverseTransform(Math.ceil(axis.transform(axis.min)));\r\n        } else {\r\n          min = axis.min = axis.inverseTransform(Math.floor(axis.transform(min)));\r\n        }\r\n        if (axis.max) {\r\n          max = axis.inverseTransform(Math.floor(axis.transform(axis.max)));\r\n        } else {\r\n          max = axis.max = axis.inverseTransform(Math.ceil(axis.transform(max)));\r\n        }\r\n\r\n        if (!min || min < Number.MIN_VALUE || !max || max < Number.MIN_VALUE) {\r\n          return;\r\n        }\r\n\r\n        if (Number.isFinite(min) && Number.isFinite(max)) {\r\n          if (minSetToZero) {\r\n            axis.min = 0.1;\r\n            min = 1;\r\n          }\r\n\r\n          axis.ticks = generateTicksForLogScaleYAxis(min, max, axis.logBase);\r\n          if (minSetToZero) {\r\n            axis.ticks.unshift(0.1);\r\n          }\r\n          if (axis.ticks[axis.ticks.length - 1] > axis.max) {\r\n            axis.max = axis.ticks[axis.ticks.length - 1];\r\n          }\r\n        } else {\r\n          axis.ticks = [1, 2];\r\n          delete axis.min;\r\n          delete axis.max;\r\n        }\r\n      }\r\n\r\n      function generateTicksForLogScaleYAxis(min, max, logBase) {\r\n        let ticks = [];\r\n\r\n        var nextTick;\r\n        for (nextTick = min; nextTick <= max; nextTick *= logBase) {\r\n          ticks.push(nextTick);\r\n        }\r\n\r\n        const maxNumTicks = Math.ceil(ctrl.height / 25);\r\n        const numTicks = ticks.length;\r\n        if (numTicks > maxNumTicks) {\r\n          const factor = Math.ceil(numTicks / maxNumTicks) * logBase;\r\n          ticks = [];\r\n\r\n          for (nextTick = min; nextTick <= max * factor; nextTick *= factor) {\r\n            ticks.push(nextTick);\r\n          }\r\n        }\r\n\r\n        return ticks;\r\n      }\r\n\r\n      function configureAxisMode(axis, format) {\r\n        axis.tickFormatter = function(val, axis) {\r\n          return kbn.valueFormats[format](val, axis.tickDecimals, axis.scaledDecimals);\r\n        };\r\n      }\r\n\r\n      function time_format(ticks, min, max) {\r\n        if (min && max && ticks) {\r\n          var range = max - min;\r\n          var secPerTick = range / ticks / 1000;\r\n          var oneDay = 86400000;\r\n          var oneYear = 31536000000;\r\n\r\n          if (secPerTick <= 45) {\r\n            return '%H:%M:%S';\r\n          }\r\n          if (secPerTick <= 7200 || range <= oneDay) {\r\n            return '%H:%M';\r\n          }\r\n          if (secPerTick <= 80000) {\r\n            return '%m/%d %H:%M';\r\n          }\r\n          if (secPerTick <= 2419200 || range <= oneYear) {\r\n            return '%m/%d';\r\n          }\r\n          return '%Y-%m';\r\n        }\r\n\r\n        return '%H:%M';\r\n      }\r\n\r\n      elem.bind('plotselected', function(event, ranges) {\r\n        if (panel.xaxis.mode !== 'time') {\r\n          // Skip if panel in histogram or series mode\r\n          plot.clearSelection();\r\n          return;\r\n        }\r\n\r\n        if ((ranges.ctrlKey || ranges.metaKey) && contextSrv.isEditor) {\r\n          // Add annotation\r\n          setTimeout(() => {\r\n            eventManager.updateTime(ranges.xaxis);\r\n          }, 100);\r\n        } else {\r\n          scope.$apply(function() {\r\n            timeSrv.setTime({\r\n              from: moment.utc(ranges.xaxis.from),\r\n              to: moment.utc(ranges.xaxis.to),\r\n            });\r\n          });\r\n        }\r\n      });\r\n\r\n      elem.bind('plotclick', function(event, pos, item) {\r\n        if (panel.xaxis.mode !== 'time') {\r\n          // Skip if panel in histogram or series mode\r\n          return;\r\n        }\r\n\r\n        if ((pos.ctrlKey || pos.metaKey) && contextSrv.isEditor) {\r\n          // Skip if range selected (added in \"plotselected\" event handler)\r\n          let isRangeSelection = pos.x !== pos.x1;\r\n          if (!isRangeSelection) {\r\n            setTimeout(() => {\r\n              eventManager.updateTime({ from: pos.x, to: null });\r\n            }, 100);\r\n          }\r\n        }\r\n      });\r\n\r\n      scope.$on('$destroy', function() {\r\n        tooltip.destroy();\r\n        elem.off();\r\n        elem.remove();\r\n      });\r\n    },\r\n  };\r\n}\r\n\r\ncoreModule.directive('grafanaTemplateGraph', graphDirective);\r\n","import angular from 'angular';\r\nimport _ from 'lodash';\r\nimport * as $ from 'jquery';\r\nimport PerfectScrollbar from 'perfect-scrollbar';\r\n\r\nvar module = angular.module('grafana.directives');\r\n\r\nmodule.directive('graphTemplateLegend', function(popoverSrv, $timeout) {\r\n  return {\r\n    link: function(scope: any, elem) {\r\n      var firstRender = true;\r\n      var ctrl = scope.ctrl;\r\n      var panel = ctrl.panel;\r\n      var data;\r\n      var seriesList;\r\n      var i;\r\n      var legendScrollbar;\r\n\r\n      scope.$on('$destroy', function() {\r\n        if (legendScrollbar) {\r\n          legendScrollbar.destroy();\r\n        }\r\n      });\r\n\r\n      ctrl.events.on('render-legend', () => {\r\n        data = ctrl.seriesList;\r\n        if (data) {\r\n          render();\r\n        }\r\n        ctrl.events.emit('legend-rendering-complete');\r\n      });\r\n\r\n      function getSeriesIndexForElement(el) {\r\n        return el.parents('[data-series-index]').data('series-index');\r\n      }\r\n\r\n      function openColorSelector(e) {\r\n        // if we clicked inside poup container ignore click\r\n        if ($(e.target).parents('.popover').length) {\r\n          return;\r\n        }\r\n\r\n        var el = $(e.currentTarget).find('.fa-minus');\r\n        var index = getSeriesIndexForElement(el);\r\n        var series = seriesList[index];\r\n\r\n        $timeout(function() {\r\n          popoverSrv.show({\r\n            element: el[0],\r\n            position: 'bottom left',\r\n            targetAttachment: 'top left',\r\n            template:\r\n              '<series-color-picker series=\"series\" onToggleAxis=\"toggleAxis\" onColorChange=\"colorSelected\">' +\r\n              '</series-color-picker>',\r\n            openOn: 'hover',\r\n            model: {\r\n              series: series,\r\n              toggleAxis: function() {\r\n                ctrl.toggleAxis(series);\r\n              },\r\n              colorSelected: function(color) {\r\n                ctrl.changeSeriesColor(series, color);\r\n              },\r\n            },\r\n          });\r\n        });\r\n      }\r\n\r\n      function toggleSeries(e) {\r\n        var el = $(e.currentTarget);\r\n        var index = getSeriesIndexForElement(el);\r\n        var seriesInfo = seriesList[index];\r\n        var scrollPosition = $(elem.children('tbody')).scrollTop();\r\n        ctrl.toggleSeries(seriesInfo, e);\r\n        $(elem.children('tbody')).scrollTop(scrollPosition);\r\n      }\r\n\r\n      function sortLegend(e) {\r\n        var el = $(e.currentTarget);\r\n        var stat = el.data('stat');\r\n\r\n        if (stat !== panel.legend.sort) {\r\n          panel.legend.sortDesc = null;\r\n        }\r\n\r\n        // if already sort ascending, disable sorting\r\n        if (panel.legend.sortDesc === false) {\r\n          panel.legend.sort = null;\r\n          panel.legend.sortDesc = null;\r\n          ctrl.render();\r\n          return;\r\n        }\r\n\r\n        panel.legend.sortDesc = !panel.legend.sortDesc;\r\n        panel.legend.sort = stat;\r\n        ctrl.render();\r\n      }\r\n\r\n      function getTableHeaderHtml(statName) {\r\n        if (!panel.legend[statName]) {\r\n          return '';\r\n        }\r\n        var html = '<th class=\"pointer\" data-stat=\"' + statName + '\">' + statName;\r\n\r\n        if (panel.legend.sort === statName) {\r\n          var cssClass = panel.legend.sortDesc ? 'fa fa-caret-down' : 'fa fa-caret-up';\r\n          html += ' <span class=\"' + cssClass + '\"></span>';\r\n        }\r\n\r\n        return html + '</th>';\r\n      }\r\n\r\n      function render() {\r\n        if (!ctrl.panel.legend.show) {\r\n          elem.empty();\r\n          firstRender = true;\r\n          return;\r\n        }\r\n\r\n        if (firstRender) {\r\n          elem.on('click', '.graph-legend-icon', openColorSelector);\r\n          elem.on('click', '.graph-legend-alias', toggleSeries);\r\n          elem.on('click', 'th', sortLegend);\r\n          firstRender = false;\r\n        }\r\n\r\n        seriesList = data;\r\n\r\n        elem.empty();\r\n\r\n        // Set min-width if side style and there is a value, otherwise remove the CSS propery\r\n        var width = panel.legend.rightSide && panel.legend.sideWidth ? panel.legend.sideWidth + 'px' : '';\r\n        elem.css('min-width', width);\r\n\r\n        elem.toggleClass('graph-legend-table', panel.legend.alignAsTable === true);\r\n\r\n        var tableHeaderElem;\r\n        if (panel.legend.alignAsTable) {\r\n          var header = '<tr>';\r\n          header += '<th colspan=\"2\" style=\"text-align:left\"></th>';\r\n          if (panel.legend.values) {\r\n            header += getTableHeaderHtml('min');\r\n            header += getTableHeaderHtml('max');\r\n            header += getTableHeaderHtml('avg');\r\n            header += getTableHeaderHtml('current');\r\n            header += getTableHeaderHtml('total');\r\n          }\r\n          header += '</tr>';\r\n          tableHeaderElem = $(header);\r\n        }\r\n\r\n        if (panel.legend.sort) {\r\n          seriesList = _.sortBy(seriesList, function(series) {\r\n            return series.stats[panel.legend.sort];\r\n          });\r\n          if (panel.legend.sortDesc) {\r\n            seriesList = seriesList.reverse();\r\n          }\r\n        }\r\n\r\n        // render first time for getting proper legend height\r\n        if (!panel.legend.rightSide) {\r\n          renderLegendElement(tableHeaderElem);\r\n          elem.empty();\r\n        }\r\n\r\n        renderLegendElement(tableHeaderElem);\r\n      }\r\n\r\n      function renderSeriesLegendElements() {\r\n        let seriesElements = [];\r\n        for (i = 0; i < seriesList.length; i++) {\r\n          var series = seriesList[i];\r\n\r\n          if (series.hideFromLegend(panel.legend)) {\r\n            continue;\r\n          }\r\n\r\n          var html = '<div class=\"graph-legend-series';\r\n\r\n          if (series.yaxis === 2) {\r\n            html += ' graph-legend-series--right-y';\r\n          }\r\n          if (ctrl.hiddenSeries[series.alias]) {\r\n            html += ' graph-legend-series-hidden';\r\n          }\r\n          html += '\" data-series-index=\"' + i + '\">';\r\n          html += '<div class=\"graph-legend-icon\">';\r\n          html += '<i class=\"fa fa-minus pointer\" style=\"color:' + series.color + '\"></i>';\r\n          html += '</div>';\r\n\r\n          html +=\r\n            '<a class=\"graph-legend-alias pointer\" title=\"' + series.aliasEscaped + '\">' + series.aliasEscaped + '</a>';\r\n\r\n          if (panel.legend.values) {\r\n            var avg = series.formatValue(series.stats.avg);\r\n            var current = series.formatValue(series.stats.current);\r\n            var min = series.formatValue(series.stats.min);\r\n            var max = series.formatValue(series.stats.max);\r\n            var total = series.formatValue(series.stats.total);\r\n\r\n            if (panel.legend.min) {\r\n              html += '<div class=\"graph-legend-value min\">' + min + '</div>';\r\n            }\r\n            if (panel.legend.max) {\r\n              html += '<div class=\"graph-legend-value max\">' + max + '</div>';\r\n            }\r\n            if (panel.legend.avg) {\r\n              html += '<div class=\"graph-legend-value avg\">' + avg + '</div>';\r\n            }\r\n            if (panel.legend.current) {\r\n              html += '<div class=\"graph-legend-value current\">' + current + '</div>';\r\n            }\r\n            if (panel.legend.total) {\r\n              html += '<div class=\"graph-legend-value total\">' + total + '</div>';\r\n            }\r\n          }\r\n\r\n          html += '</div>';\r\n          seriesElements.push($(html));\r\n        }\r\n        return seriesElements;\r\n      }\r\n\r\n      function renderLegendElement(tableHeaderElem) {\r\n        var seriesElements = renderSeriesLegendElements();\r\n\r\n        if (panel.legend.alignAsTable) {\r\n          var tbodyElem = $('<tbody></tbody>');\r\n          tbodyElem.append(tableHeaderElem);\r\n          tbodyElem.append(seriesElements);\r\n          elem.append(tbodyElem);\r\n        } else {\r\n          elem.append(seriesElements);\r\n        }\r\n\r\n        if (!panel.legend.rightSide) {\r\n          addScrollbar();\r\n        } else {\r\n          destroyScrollbar();\r\n        }\r\n      }\r\n\r\n      function addScrollbar() {\r\n        const scrollbarOptions = {\r\n          // Number of pixels the content height can surpass the container height without enabling the scroll bar.\r\n          scrollYMarginOffset: 2,\r\n          suppressScrollX: true,\r\n        };\r\n\r\n        if (!legendScrollbar) {\r\n          legendScrollbar = new PerfectScrollbar(elem[0], scrollbarOptions);\r\n        } else {\r\n          legendScrollbar.update();\r\n        }\r\n      }\r\n\r\n      function destroyScrollbar() {\r\n        if (legendScrollbar) {\r\n          legendScrollbar.destroy();\r\n        }\r\n      }\r\n    },\r\n  };\r\n});\r\n","import _ from 'lodash';\r\nimport angular from 'angular';\r\n\r\nexport class SeriesOverridesCtrl {\r\n  /** @ngInject */\r\n  constructor($scope, $element, popoverSrv) {\r\n    $scope.overrideMenu = [];\r\n    $scope.currentOverrides = [];\r\n    $scope.override = $scope.override || {};\r\n\r\n    $scope.addOverrideOption = function(name, propertyName, values) {\r\n      var option = {\r\n        text: name,\r\n        propertyName: propertyName,\r\n        index: $scope.overrideMenu.lenght,\r\n        values: values,\r\n        submenu: _.map(values, function(value) {\r\n          return { text: String(value), value: value };\r\n        }),\r\n      };\r\n\r\n      $scope.overrideMenu.push(option);\r\n    };\r\n\r\n    $scope.setOverride = function(item, subItem) {\r\n      // handle color overrides\r\n      if (item.propertyName === 'color') {\r\n        $scope.openColorSelector($scope.override['color']);\r\n        return;\r\n      }\r\n\r\n      $scope.override[item.propertyName] = subItem.value;\r\n\r\n      // automatically disable lines for this series and the fill bellow to series\r\n      // can be removed by the user if they still want lines\r\n      if (item.propertyName === 'fillBelowTo') {\r\n        $scope.override['lines'] = false;\r\n        $scope.ctrl.addSeriesOverride({ alias: subItem.value, lines: false });\r\n      }\r\n\r\n      $scope.updateCurrentOverrides();\r\n      $scope.ctrl.render();\r\n    };\r\n\r\n    $scope.colorSelected = function(color) {\r\n      $scope.override['color'] = color;\r\n      $scope.updateCurrentOverrides();\r\n      $scope.ctrl.render();\r\n    };\r\n\r\n    $scope.openColorSelector = function(color) {\r\n      var fakeSeries = { color: color };\r\n      popoverSrv.show({\r\n        element: $element.find('.dropdown')[0],\r\n        position: 'top center',\r\n        openOn: 'click',\r\n        template: '<series-color-picker series=\"series\" onColorChange=\"colorSelected\" />',\r\n        model: {\r\n          autoClose: true,\r\n          colorSelected: $scope.colorSelected,\r\n          series: fakeSeries,\r\n        },\r\n        onClose: function() {\r\n          $scope.ctrl.render();\r\n        },\r\n      });\r\n    };\r\n\r\n    $scope.removeOverride = function(option) {\r\n      delete $scope.override[option.propertyName];\r\n      $scope.updateCurrentOverrides();\r\n      $scope.ctrl.refresh();\r\n    };\r\n\r\n    $scope.getSeriesNames = function() {\r\n      return _.map($scope.ctrl.seriesList, function(series: any) {\r\n        return series.alias;\r\n      });\r\n    };\r\n\r\n    $scope.updateCurrentOverrides = function() {\r\n      $scope.currentOverrides = [];\r\n      _.each($scope.overrideMenu, function(option) {\r\n        var value = $scope.override[option.propertyName];\r\n        if (_.isUndefined(value)) {\r\n          return;\r\n        }\r\n        $scope.currentOverrides.push({\r\n          name: option.text,\r\n          propertyName: option.propertyName,\r\n          value: String(value),\r\n        });\r\n      });\r\n    };\r\n\r\n    $scope.addOverrideOption('Bars', 'bars', [true, false]);\r\n    $scope.addOverrideOption('Lines', 'lines', [true, false]);\r\n    $scope.addOverrideOption('Line fill', 'fill', [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);\r\n    $scope.addOverrideOption('Line width', 'linewidth', [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);\r\n    $scope.addOverrideOption('Null point mode', 'nullPointMode', ['connected', 'null', 'null as zero']);\r\n    $scope.addOverrideOption('Fill below to', 'fillBelowTo', $scope.getSeriesNames());\r\n    $scope.addOverrideOption('Staircase line', 'steppedLine', [true, false]);\r\n    $scope.addOverrideOption('Dashes', 'dashes', [true, false]);\r\n    $scope.addOverrideOption('Dash Length', 'dashLength', [\r\n      1,\r\n      2,\r\n      3,\r\n      4,\r\n      5,\r\n      6,\r\n      7,\r\n      8,\r\n      9,\r\n      10,\r\n      11,\r\n      12,\r\n      13,\r\n      14,\r\n      15,\r\n      16,\r\n      17,\r\n      18,\r\n      19,\r\n      20,\r\n    ]);\r\n    $scope.addOverrideOption('Dash Space', 'spaceLength', [\r\n      1,\r\n      2,\r\n      3,\r\n      4,\r\n      5,\r\n      6,\r\n      7,\r\n      8,\r\n      9,\r\n      10,\r\n      11,\r\n      12,\r\n      13,\r\n      14,\r\n      15,\r\n      16,\r\n      17,\r\n      18,\r\n      19,\r\n      20,\r\n    ]);\r\n    $scope.addOverrideOption('Points', 'points', [true, false]);\r\n    $scope.addOverrideOption('Points Radius', 'pointradius', [1, 2, 3, 4, 5]);\r\n    $scope.addOverrideOption('Stack', 'stack', [true, false, 'A', 'B', 'C', 'D']);\r\n    $scope.addOverrideOption('Color', 'color', ['change']);\r\n    $scope.addOverrideOption('Y-axis', 'yaxis', [1, 2]);\r\n    $scope.addOverrideOption('Z-index', 'zindex', [-3, -2, -1, 0, 1, 2, 3]);\r\n    $scope.addOverrideOption('Transform', 'transform', ['negative-Y']);\r\n    $scope.addOverrideOption('Legend', 'legend', [true, false]);\r\n    $scope.updateCurrentOverrides();\r\n  }\r\n}\r\n\r\nangular.module('grafana.controllers').controller('SeriesOverridesCtrl', SeriesOverridesCtrl);\r\n","\r\nimport coreModule from 'grafana/app/core/core_module';\r\n\r\nexport class ThresholdFormCtrl {\r\n  panelCtrl: any;\r\n  panel: any;\r\n  disabled: boolean;\r\n\r\n  /** @ngInject */\r\n  constructor($scope) {\r\n    this.panel = this.panelCtrl.panel;\r\n\r\n    if (this.panel.alert) {\r\n      this.disabled = true;\r\n    }\r\n\r\n    var unbindDestroy = $scope.$on('$destroy', () => {\r\n      this.panelCtrl.editingThresholds = false;\r\n      this.panelCtrl.render();\r\n      unbindDestroy();\r\n    });\r\n\r\n    this.panelCtrl.editingThresholds = true;\r\n  }\r\n\r\n  addThreshold() {\r\n    this.panel.thresholds.push({\r\n      value: undefined,\r\n      colorMode: 'critical',\r\n      op: 'gt',\r\n      fill: true,\r\n      line: true,\r\n    });\r\n    this.panelCtrl.render();\r\n  }\r\n\r\n  removeThreshold(index) {\r\n    this.panel.thresholds.splice(index, 1);\r\n    this.panelCtrl.render();\r\n  }\r\n\r\n  render() {\r\n    this.panelCtrl.render();\r\n  }\r\n\r\n  onFillColorChange(index) {\r\n    return newColor => {\r\n      this.panel.thresholds[index].fillColor = newColor;\r\n      this.render();\r\n    };\r\n  }\r\n\r\n  onLineColorChange(index) {\r\n    return newColor => {\r\n      this.panel.thresholds[index].lineColor = newColor;\r\n      this.render();\r\n    };\r\n  }\r\n}\r\n\r\nvar template = `\r\n<div class=\"gf-form-group\">\r\n  <h5>Thresholds</h5>\r\n  <p class=\"muted\" ng-show=\"ctrl.disabled\">\r\n    Visual thresholds options <strong>disabled.</strong>\r\n    Visit the Alert tab update your thresholds. <br>\r\n    To re-enable thresholds, the alert rule must be deleted from this panel.\r\n  </p>\r\n  <div ng-class=\"{'thresholds-form-disabled': ctrl.disabled}\">\r\n    <div class=\"gf-form-inline\" ng-repeat=\"threshold in ctrl.panel.thresholds\">\r\n      <div class=\"gf-form\">\r\n        <label class=\"gf-form-label\">T{{$index+1}}</label>\r\n      </div>\r\n\r\n      <div class=\"gf-form\">\r\n        <div class=\"gf-form-select-wrapper\">\r\n          <select class=\"gf-form-input\" ng-model=\"threshold.op\"\r\n                  ng-options=\"f for f in ['gt', 'lt']\" ng-change=\"ctrl.render()\" ng-disabled=\"ctrl.disabled\"></select>\r\n        </div>\r\n        <input type=\"number\" ng-model=\"threshold.value\" class=\"gf-form-input width-8\"\r\n               ng-change=\"ctrl.render()\" placeholder=\"value\" ng-disabled=\"ctrl.disabled\">\r\n      </div>\r\n\r\n      <div class=\"gf-form\">\r\n        <label class=\"gf-form-label\">Color</label>\r\n        <div class=\"gf-form-select-wrapper\">\r\n          <select class=\"gf-form-input\" ng-model=\"threshold.colorMode\"\r\n                  ng-options=\"f for f in ['custom', 'critical', 'warning', 'ok']\" ng-change=\"ctrl.render()\" ng-disabled=\"ctrl.disabled\">\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <gf-form-switch class=\"gf-form\" label=\"Fill\" checked=\"threshold.fill\"\r\n                      on-change=\"ctrl.render()\" ng-disabled=\"ctrl.disabled\"></gf-form-switch>\r\n\r\n      <div class=\"gf-form\" ng-if=\"threshold.fill && threshold.colorMode === 'custom'\">\r\n        <label class=\"gf-form-label\">Fill color</label>\r\n        <span class=\"gf-form-label\">\r\n          <color-picker color=\"threshold.fillColor\" onChange=\"ctrl.onFillColorChange($index)\"></color-picker>\r\n        </span>\r\n      </div>\r\n\r\n      <gf-form-switch class=\"gf-form\" label=\"Line\" checked=\"threshold.line\"\r\n                      on-change=\"ctrl.render()\" ng-disabled=\"ctrl.disabled\"></gf-form-switch>\r\n\r\n      <div class=\"gf-form\" ng-if=\"threshold.line && threshold.colorMode === 'custom'\">\r\n        <label class=\"gf-form-label\">Line color</label>\r\n        <span class=\"gf-form-label\">\r\n          <color-picker color=\"threshold.lineColor\" onChange=\"ctrl.onLineColorChange($index)\"></color-picker>\r\n        </span>\r\n      </div>\r\n\r\n      <div class=\"gf-form\">\r\n        <label class=\"gf-form-label\">\r\n          <a class=\"pointer\" ng-click=\"ctrl.removeThreshold($index)\" ng-disabled=\"ctrl.disabled\">\r\n            <i class=\"fa fa-trash\"></i>\r\n          </a>\r\n        </label>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"gf-form-button-row\">\r\n      <button class=\"btn btn-inverse\" ng-click=\"ctrl.addThreshold()\" ng-disabled=\"ctrl.disabled\">\r\n        <i class=\"fa fa-plus\"></i>&nbsp;Add Threshold\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n`;\r\n\r\ncoreModule.directive('graphPanelThresholdForm', function() {\r\n  return {\r\n    restrict: 'E',\r\n    template: template,\r\n    controller: ThresholdFormCtrl,\r\n    bindToController: true,\r\n    controllerAs: 'ctrl',\r\n    scope: {\r\n      panelCtrl: '=',\r\n    },\r\n  };\r\n});\r\n","\r\nimport _ from 'lodash';\r\nimport TimeSeries from './vendor/grafana/time_series2';\r\nimport colors from './vendor/grafana/colors';\r\n\r\nexport class DataProcessor {\r\n  constructor(private panel) {}\r\n\r\n  getSeriesList(options) {\r\n    if (!options.dataList || options.dataList.length === 0) {\r\n      return [];\r\n    }\r\n\r\n    // auto detect xaxis mode\r\n    var firstItem;\r\n    if (options.dataList && options.dataList.length > 0) {\r\n      firstItem = options.dataList[0];\r\n      let autoDetectMode = this.getAutoDetectXAxisMode(firstItem);\r\n      if (this.panel.xaxis.mode !== autoDetectMode) {\r\n        this.panel.xaxis.mode = autoDetectMode;\r\n        this.setPanelDefaultsForNewXAxisMode();\r\n      }\r\n    }\r\n\r\n    switch (this.panel.xaxis.mode) {\r\n      case 'series':\r\n      case 'time': {\r\n        return options.dataList.map((item, index) => {\r\n          return this.timeSeriesHandler(item, index, options);\r\n        });\r\n      }\r\n      case 'histogram': {\r\n        let histogramDataList = [\r\n          {\r\n            target: 'count',\r\n            datapoints: _.concat([], _.flatten(_.map(options.dataList, 'datapoints'))),\r\n          },\r\n        ];\r\n        return histogramDataList.map((item, index) => {\r\n          return this.timeSeriesHandler(item, index, options);\r\n        });\r\n      }\r\n      case 'field': {\r\n        return this.customHandler(firstItem);\r\n      }\r\n    }\r\n  }\r\n\r\n  getAutoDetectXAxisMode(firstItem) {\r\n    switch (firstItem.type) {\r\n      case 'docs':\r\n        return 'field';\r\n      case 'table':\r\n        return 'field';\r\n      default: {\r\n        if (this.panel.xaxis.mode === 'series') {\r\n          return 'series';\r\n        }\r\n        if (this.panel.xaxis.mode === 'histogram') {\r\n          return 'histogram';\r\n        }\r\n        return 'time';\r\n      }\r\n    }\r\n  }\r\n\r\n  setPanelDefaultsForNewXAxisMode() {\r\n    switch (this.panel.xaxis.mode) {\r\n      case 'time': {\r\n        this.panel.bars = false;\r\n        this.panel.lines = true;\r\n        this.panel.points = false;\r\n        this.panel.legend.show = true;\r\n        this.panel.tooltip.shared = true;\r\n        this.panel.xaxis.values = [];\r\n        break;\r\n      }\r\n      case 'series': {\r\n        this.panel.bars = true;\r\n        this.panel.lines = false;\r\n        this.panel.points = false;\r\n        this.panel.stack = false;\r\n        this.panel.legend.show = false;\r\n        this.panel.tooltip.shared = false;\r\n        this.panel.xaxis.values = ['total'];\r\n        break;\r\n      }\r\n      case 'histogram': {\r\n        this.panel.bars = true;\r\n        this.panel.lines = false;\r\n        this.panel.points = false;\r\n        this.panel.stack = false;\r\n        this.panel.legend.show = false;\r\n        this.panel.tooltip.shared = false;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  timeSeriesHandler(seriesData, index, options) {\r\n    var datapoints = seriesData.datapoints || [];\r\n    var alias = seriesData.target;\r\n\r\n    var colorIndex = index % colors.length;\r\n    var color = this.panel.aliasColors[alias] || colors[colorIndex];\r\n\r\n    var series = new TimeSeries({\r\n      datapoints: datapoints,\r\n      alias: alias,\r\n      color: color,\r\n      unit: seriesData.unit,\r\n    });\r\n\r\n    if (datapoints && datapoints.length > 0) {\r\n      var last = datapoints[datapoints.length - 1][1];\r\n      var from = options.range.from;\r\n      if (last - from < -10000) {\r\n        series.isOutsideRange = true;\r\n      }\r\n    }\r\n\r\n    return series;\r\n  }\r\n\r\n  customHandler(dataItem) {\r\n    let nameField = this.panel.xaxis.name;\r\n    if (!nameField) {\r\n      throw {\r\n        message: 'No field name specified to use for x-axis, check your axes settings',\r\n      };\r\n    }\r\n    return [];\r\n  }\r\n\r\n  validateXAxisSeriesValue() {\r\n    switch (this.panel.xaxis.mode) {\r\n      case 'series': {\r\n        if (this.panel.xaxis.values.length === 0) {\r\n          this.panel.xaxis.values = ['total'];\r\n          return;\r\n        }\r\n\r\n        var validOptions = this.getXAxisValueOptions({});\r\n        var found = _.find(validOptions, { value: this.panel.xaxis.values[0] });\r\n        if (!found) {\r\n          this.panel.xaxis.values = ['total'];\r\n        }\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  getDataFieldNames(dataList, onlyNumbers) {\r\n    if (dataList.length === 0) {\r\n      return [];\r\n    }\r\n\r\n    let fields = [];\r\n    var firstItem = dataList[0];\r\n    let fieldParts = [];\r\n\r\n    function getPropertiesRecursive(obj) {\r\n      _.forEach(obj, (value, key) => {\r\n        if (_.isObject(value)) {\r\n          fieldParts.push(key);\r\n          getPropertiesRecursive(value);\r\n        } else {\r\n          if (!onlyNumbers || _.isNumber(value)) {\r\n            let field = fieldParts.concat(key).join('.');\r\n            fields.push(field);\r\n          }\r\n        }\r\n      });\r\n      fieldParts.pop();\r\n    }\r\n\r\n    if (firstItem.type === 'docs') {\r\n      if (firstItem.datapoints.length === 0) {\r\n        return [];\r\n      }\r\n      getPropertiesRecursive(firstItem.datapoints[0]);\r\n    }\r\n\r\n    return fields;\r\n  }\r\n\r\n  getXAxisValueOptions(options) {\r\n    switch (this.panel.xaxis.mode) {\r\n      case 'series': {\r\n        return [\r\n          { text: 'Avg', value: 'avg' },\r\n          { text: 'Min', value: 'min' },\r\n          { text: 'Max', value: 'max' },\r\n          { text: 'Total', value: 'total' },\r\n          { text: 'Count', value: 'count' },\r\n        ];\r\n      }\r\n    }\r\n\r\n    return [];\r\n  }\r\n\r\n  pluckDeep(obj: any, property: string) {\r\n    let propertyParts = property.split('.');\r\n    let value = obj;\r\n    for (let i = 0; i < propertyParts.length; ++i) {\r\n      if (value[propertyParts[i]]) {\r\n        value = value[propertyParts[i]];\r\n      } else {\r\n        return undefined;\r\n      }\r\n    }\r\n    return value;\r\n  }\r\n}\r\n","\r\nimport kbn from 'grafana/app/core/utils/kbn';\r\n\r\nexport class AxesEditorCtrl {\r\n  panel: any;\r\n  panelCtrl: any;\r\n  unitFormats: any;\r\n  logScales: any;\r\n  xAxisModes: any;\r\n  xAxisStatOptions: any;\r\n  xNameSegment: any;\r\n\r\n  /** @ngInject **/\r\n  constructor(private $scope, private $q) {\r\n    this.panelCtrl = $scope.ctrl;\r\n    this.panel = this.panelCtrl.panel;\r\n    this.$scope.ctrl = this;\r\n\r\n    this.unitFormats = kbn.getUnitFormats();\r\n\r\n    this.logScales = {\r\n      linear: 1,\r\n      'log (base 2)': 2,\r\n      'log (base 10)': 10,\r\n      'log (base 32)': 32,\r\n      'log (base 1024)': 1024,\r\n    };\r\n\r\n    this.xAxisModes = {\r\n      Time: 'time',\r\n      Series: 'series',\r\n      Histogram: 'histogram',\r\n      // 'Data field': 'field',\r\n    };\r\n\r\n    this.xAxisStatOptions = [\r\n      { text: 'Avg', value: 'avg' },\r\n      { text: 'Min', value: 'min' },\r\n      { text: 'Max', value: 'max' },\r\n      { text: 'Total', value: 'total' },\r\n      { text: 'Count', value: 'count' },\r\n      { text: 'Current', value: 'current' },\r\n    ];\r\n\r\n    if (this.panel.xaxis.mode === 'custom') {\r\n      if (!this.panel.xaxis.name) {\r\n        this.panel.xaxis.name = 'specify field';\r\n      }\r\n    }\r\n  }\r\n\r\n  setUnitFormat(axis, subItem) {\r\n    axis.format = subItem.value;\r\n    this.panelCtrl.render();\r\n  }\r\n\r\n  render() {\r\n    this.panelCtrl.render();\r\n  }\r\n\r\n  xAxisModeChanged() {\r\n    this.panelCtrl.processor.setPanelDefaultsForNewXAxisMode();\r\n    this.panelCtrl.onDataReceived(this.panelCtrl.dataList);\r\n  }\r\n\r\n  xAxisValueChanged() {\r\n    this.panelCtrl.onDataReceived(this.panelCtrl.dataList);\r\n  }\r\n\r\n  getDataFieldNames(onlyNumbers) {\r\n    var props = this.panelCtrl.processor.getDataFieldNames(this.panelCtrl.dataList, onlyNumbers);\r\n    var items = props.map(prop => {\r\n      return { text: prop, value: prop };\r\n    });\r\n\r\n    return this.$q.when(items);\r\n  }\r\n}\r\n\r\n/** @ngInject **/\r\nexport function axesEditorComponent() {\r\n  'use strict';\r\n  return {\r\n    restrict: 'E',\r\n    scope: true,\r\n    templateUrl: '/public/plugins/graph-panel/partials/axes_editor.html',\r\n    controller: AxesEditorCtrl,\r\n  };\r\n}\r\n","import './graph';\r\nimport './legend';\r\nimport './series_overrides_ctrl';\r\nimport './thresholds_form';\r\n\r\nimport template from './template';\r\nimport _ from 'lodash';\r\nimport config from 'grafana/app/core/config';\r\nimport {alertTab, MetricsPanelCtrl} from 'grafana/app/plugins/sdk';\r\nimport {DataProcessor} from './data_processor';\r\nimport {axesEditorComponent} from './axes_editor';\r\n\r\nclass GraphCtrl extends MetricsPanelCtrl {\r\n    static template = template;\r\n    hiddenSeries: any = {};\r\n    seriesList: any = [];\r\n    dataList: any = [];\r\n    annotations: any = [];\r\n    alertState: any;\r\n\r\n    _panelPath: any;\r\n\r\n    annotationsPromise: any;\r\n    dataWarning: any;\r\n    colors: any = [];\r\n    subTabIndex: number;\r\n    processor: DataProcessor;\r\n\r\n    panelDefaults = {\r\n        // datasource name, null = default datasource\r\n        datasource: null,\r\n        // sets client side (flot) or native graphite png renderer (png)\r\n        renderer: 'flot',\r\n        yaxes: [\r\n            {\r\n                label: null,\r\n                show: true,\r\n                logBase: 1,\r\n                min: null,\r\n                max: null,\r\n                format: 'short',\r\n            },\r\n            {\r\n                label: null,\r\n                show: true,\r\n                logBase: 1,\r\n                min: null,\r\n                max: null,\r\n                format: 'short',\r\n            },\r\n        ],\r\n        xaxis: {\r\n            show: true,\r\n            mode: 'time',\r\n            name: null,\r\n            values: [],\r\n            buckets: null,\r\n        },\r\n        // show/hide lines\r\n        lines: true,\r\n        // fill factor\r\n        fill: 1,\r\n        // line width in pixels\r\n        linewidth: 1,\r\n        // show/hide dashed line\r\n        dashes: false,\r\n        // length of a dash\r\n        dashLength: 10,\r\n        // length of space between two dashes\r\n        spaceLength: 10,\r\n        // show hide points\r\n        points: false,\r\n        // point radius in pixels\r\n        pointradius: 5,\r\n        // show hide bars\r\n        bars: false,\r\n        // enable/disable stacking\r\n        stack: false,\r\n        // stack percentage mode\r\n        percentage: false,\r\n        // legend options\r\n        legend: {\r\n            show: true, // disable/enable legend\r\n            values: false, // disable/enable legend values\r\n            min: false,\r\n            max: false,\r\n            current: false,\r\n            total: false,\r\n            avg: false,\r\n        },\r\n        // how null points should be handled\r\n        nullPointMode: 'null',\r\n        // staircase line mode\r\n        steppedLine: false,\r\n        // tooltip options\r\n        tooltip: {\r\n            value_type: 'individual',\r\n            shared: true,\r\n            sort: 0,\r\n        },\r\n        // time overrides\r\n        timeFrom: null,\r\n        timeShift: null,\r\n        // metric queries\r\n        targets: [{}],\r\n        // series color overrides\r\n        aliasColors: {},\r\n        // other style overrides\r\n        seriesOverrides: [],\r\n        thresholds: [],\r\n    };\r\n\r\n    /** @ngInject */\r\n    constructor($scope, $injector, private annotationsSrv) {\r\n        super($scope, $injector);\r\n        _.defaults(this.panel, this.panelDefaults);\r\n        _.defaults(this.panel.tooltip, this.panelDefaults.tooltip);\r\n        _.defaults(this.panel.legend, this.panelDefaults.legend);\r\n        _.defaults(this.panel.xaxis, this.panelDefaults.xaxis);\r\n\r\n        this.processor = new DataProcessor(this.panel);\r\n\r\n        this.events.on('render', this.onRender.bind(this));\r\n        this.events.on('data-received', this.onDataReceived.bind(this));\r\n        this.events.on('data-error', this.onDataError.bind(this));\r\n        this.events.on('data-snapshot-load', this.onDataSnapshotLoad.bind(this));\r\n        this.events.on('init-edit-mode', this.onInitEditMode.bind(this));\r\n        this.events.on('init-panel-actions', this.onInitPanelActions.bind(this));\r\n    }\r\n\r\n    onInitEditMode() {\r\n        var partialPath = this.panelPath + 'partials';\r\n        this.addEditorTab('Axes', axesEditorComponent, 2);\r\n        this.addEditorTab('Legend', `${partialPath}/tab_legend.html`, 3);\r\n        this.addEditorTab('Display', `${partialPath}/tab_display.html`, 4);\r\n        if (config.alertingEnabled) {\r\n            this.addEditorTab('Alert', alertTab, 5);\r\n        }\r\n\r\n        this.subTabIndex = 0;\r\n    }\r\n\r\n    onInitPanelActions(actions) {\r\n        actions.push({ text: 'Export CSV', click: 'ctrl.exportCsv()' });\r\n        actions.push({ text: 'Toggle legend', click: 'ctrl.toggleLegend()' });\r\n    }\r\n\r\n    issueQueries(datasource) {\r\n        this.annotationsPromise = this.annotationsSrv.getAnnotations({\r\n            dashboard: this.dashboard,\r\n            panel: this.panel,\r\n            range: this.range,\r\n        });\r\n        return super.issueQueries(datasource);\r\n    }\r\n\r\n    zoomOut(evt) {\r\n        this.publishAppEvent('zoom-out', 2);\r\n    }\r\n\r\n    onDataSnapshotLoad(snapshotData) {\r\n        this.annotationsPromise = this.annotationsSrv.getAnnotations({\r\n            dashboard: this.dashboard,\r\n            panel: this.panel,\r\n            range: this.range,\r\n        });\r\n        this.onDataReceived(snapshotData);\r\n    }\r\n\r\n    onDataError(err) {\r\n        this.seriesList = [];\r\n        this.annotations = [];\r\n        this.render([]);\r\n    }\r\n\r\n    onDataReceived(dataList) {\r\n        this.dataList = dataList;\r\n        this.seriesList = this.processor.getSeriesList({\r\n            dataList: dataList,\r\n            range: this.range,\r\n        });\r\n\r\n        this.dataWarning = null;\r\n        const datapointsCount = this.seriesList.reduce((prev, series) => {\r\n            return prev + series.datapoints.length;\r\n        }, 0);\r\n\r\n        if (datapointsCount === 0) {\r\n            this.dataWarning = {\r\n                title: 'No data points',\r\n                tip: 'No datapoints returned from data query',\r\n            };\r\n        } else {\r\n            for (let series of this.seriesList) {\r\n                if (series.isOutsideRange) {\r\n                    this.dataWarning = {\r\n                        title: 'Data points outside time range',\r\n                        tip: 'Can be caused by timezone mismatch or missing time filter in query',\r\n                    };\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        this.annotationsPromise.then(\r\n            result => {\r\n                this.loading = false;\r\n                this.alertState = result.alertState;\r\n                this.annotations = result.annotations;\r\n                this.render(this.seriesList);\r\n            },\r\n            () => {\r\n                this.loading = false;\r\n                this.render(this.seriesList);\r\n            }\r\n        );\r\n    }\r\n\r\n    onRender() {\r\n        if (!this.seriesList) {\r\n            return;\r\n        }\r\n\r\n        for (let series of this.seriesList) {\r\n            series.applySeriesOverrides(this.panel.seriesOverrides);\r\n\r\n            if (series.unit) {\r\n                this.panel.yaxes[series.yaxis - 1].format = series.unit;\r\n            }\r\n        }\r\n    }\r\n\r\n    changeSeriesColor(series, color) {\r\n        series.color = color;\r\n        this.panel.aliasColors[series.alias] = series.color;\r\n        this.render();\r\n    }\r\n\r\n    toggleSeries(serie, event) {\r\n        if (event.ctrlKey || event.metaKey || event.shiftKey) {\r\n            if (this.hiddenSeries[serie.alias]) {\r\n                delete this.hiddenSeries[serie.alias];\r\n            } else {\r\n                this.hiddenSeries[serie.alias] = true;\r\n            }\r\n        } else {\r\n            this.toggleSeriesExclusiveMode(serie);\r\n        }\r\n        this.render();\r\n    }\r\n\r\n    toggleSeriesExclusiveMode(serie) {\r\n        var hidden = this.hiddenSeries;\r\n\r\n        if (hidden[serie.alias]) {\r\n            delete hidden[serie.alias];\r\n        }\r\n\r\n        // check if every other series is hidden\r\n        var alreadyExclusive = _.every(this.seriesList, value => {\r\n            if (value.alias === serie.alias) {\r\n                return true;\r\n            }\r\n\r\n            return hidden[value.alias];\r\n        });\r\n\r\n        if (alreadyExclusive) {\r\n            // remove all hidden series\r\n            _.each(this.seriesList, value => {\r\n                delete this.hiddenSeries[value.alias];\r\n            });\r\n        } else {\r\n            // hide all but this serie\r\n            _.each(this.seriesList, value => {\r\n                if (value.alias === serie.alias) {\r\n                    return;\r\n                }\r\n\r\n                this.hiddenSeries[value.alias] = true;\r\n            });\r\n        }\r\n    }\r\n\r\n    toggleAxis(info) {\r\n        var override = _.find(this.panel.seriesOverrides, { alias: info.alias });\r\n        if (!override) {\r\n            override = { alias: info.alias };\r\n            this.panel.seriesOverrides.push(override);\r\n        }\r\n        //info.yaxis = override.yaxis = info.yaxis === 2 ? 1 : 2;\r\n        this.render();\r\n    }\r\n\r\n    addSeriesOverride(override) {\r\n        this.panel.seriesOverrides.push(override || {});\r\n    }\r\n\r\n    removeSeriesOverride(override) {\r\n        this.panel.seriesOverrides = _.without(this.panel.seriesOverrides, override);\r\n        this.render();\r\n    }\r\n\r\n    toggleLegend() {\r\n        this.panel.legend.show = !this.panel.legend.show;\r\n        this.refresh();\r\n    }\r\n\r\n    legendValuesOptionChanged() {\r\n        var legend = this.panel.legend;\r\n        legend.values = legend.min || legend.max || legend.avg || legend.current || legend.total;\r\n        this.render();\r\n    }\r\n\r\n    exportCsv() {\r\n        var scope = this.$scope.$new(true);\r\n        scope.seriesList = this.seriesList;\r\n        this.publishAppEvent('show-modal', {\r\n            templateHtml: '<export-data-modal data=\"seriesList\"></export-data-modal>',\r\n            scope,\r\n            modalClass: 'modal--narrow',\r\n        });\r\n    }\r\n\r\n    get panelPath() {\r\n        this.pluginId = \"graph-panel\";\r\n        if (this._panelPath === undefined) {\r\n            this._panelPath = '/public/plugins/' + this.pluginId + '/';\r\n        }\r\n        return this._panelPath;\r\n    }\r\n}\r\n\r\nexport {GraphCtrl, GraphCtrl as PanelCtrl};\r\n\r\n\r\n"],"sourceRoot":""}